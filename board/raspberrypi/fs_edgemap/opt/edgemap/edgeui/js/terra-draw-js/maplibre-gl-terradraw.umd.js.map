{"version":3,"file":"maplibre-gl-terradraw.umd.js","sources":["../node_modules/terra-draw/dist/terra-draw.modern.js","../node_modules/terra-draw-maplibre-gl-adapter/dist/terra-draw-maplibre-gl-adapter.modern.js","../src/lib/constants/AvailableModes.ts","../src/lib/constants/defaultControlOptions.ts","../src/lib/constants/defaultMeasureControlOptions.ts","../src/lib/constants/getDefaultModeOptions.ts","../node_modules/@turf/helpers/dist/esm/index.js","../node_modules/@turf/meta/dist/esm/index.js","../node_modules/@turf/area/dist/esm/index.js","../src/lib/helpers/convertAreaUnit.ts","../src/lib/helpers/calcArea.ts","../node_modules/@turf/invariant/dist/esm/index.js","../node_modules/@turf/distance/dist/esm/index.js","../src/lib/helpers/getDistanceUnitName.ts","../src/lib/helpers/convertMetricDistance.ts","../src/lib/helpers/calcDistance.ts","../src/lib/helpers/capitalize.ts","../src/lib/helpers/cleanMaplibreStyle.ts","../src/lib/helpers/debounce.ts","../src/lib/helpers/queryElevationByPoint.ts","../node_modules/@watergis/terrain-rgb/dist/terrain-rgb.es.js","../src/lib/helpers/queryElevationFromRasterDEM.ts","../src/lib/helpers/roundFeatureCoordinates.ts","../src/lib/controls/MaplibreTerradrawControl.ts","../node_modules/@turf/centroid/dist/esm/index.js","../src/lib/controls/MaplibreMeasureControl.ts"],"sourcesContent":["function t(){return t=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var o in i)({}).hasOwnProperty.call(i,o)&&(t[o]=i[o])}return t},t.apply(null,arguments)}var e;!function(t){t.Commit=\"commit\",t.Provisional=\"provisional\",t.Finish=\"finish\"}(e||(e={}));const i={SELECTED:\"selected\",MID_POINT:\"midPoint\",SELECTION_POINT:\"selectionPoint\"},o=\"edited\",s=\"closingPoint\",n=\"snappingPoint\",r=\"coordinatePoint\",a=\"coordinatePointIds\";function d(t){return Boolean(t&&\"object\"==typeof t&&null!==t&&!Array.isArray(t))}function h(t){return Boolean(t&&\"object\"==typeof t&&\"properties\"in t&&\"object\"==typeof t.properties&&null!==t.properties&&\"mode\"in t.properties)}function l(t){return!!function(t){return\"number\"==typeof t&&!isNaN(new Date(t).valueOf())}(t)}const c=\"Feature is not a Polygon\",u=\"Feature mode property does not match the mode being added to\";var p;!function(t){t.Drawing=\"drawing\",t.Select=\"select\",t.Static=\"static\",t.Render=\"render\"}(p||(p={}));class g{get state(){return this._state}set state(t){throw new Error(\"Please use the modes lifecycle methods\")}get styles(){return this._styles}set styles(t){if(\"object\"!=typeof t)throw new Error(\"Styling must be an object\");this.onStyleChange&&this.onStyleChange([],\"styling\"),this._styles=t}registerBehaviors(t){}constructor(t,e=!1){this._state=\"unregistered\",this._styles={},this.behaviors=[],this.validate=void 0,this.pointerDistance=40,this.coordinatePrecision=void 0,this.onStyleChange=void 0,this.store=void 0,this.projection=\"web-mercator\",this.setDoubleClickToZoom=void 0,this.unproject=void 0,this.project=void 0,this.setCursor=void 0,this.type=p.Drawing,this.mode=\"base\",e||this.updateOptions(t)}updateOptions(e){null!=e&&e.styles&&(this.styles=t({},this._styles,e.styles)),null!=e&&e.pointerDistance&&(this.pointerDistance=e.pointerDistance),null!=e&&e.validation&&(this.validate=e&&e.validation),null!=e&&e.projection&&(this.projection=e.projection)}setDrawing(){if(\"started\"!==this._state)throw new Error(\"Mode must be unregistered or stopped to start\");this._state=\"drawing\"}setStarted(){if(\"stopped\"!==this._state&&\"registered\"!==this._state&&\"drawing\"!==this._state&&\"selecting\"!==this._state)throw new Error(\"Mode must be unregistered or stopped to start\");this._state=\"started\",this.setDoubleClickToZoom(!1)}setStopped(){if(\"started\"!==this._state)throw new Error(\"Mode must be started to be stopped\");this._state=\"stopped\",this.setDoubleClickToZoom(!0)}register(t){if(\"unregistered\"!==this._state)throw new Error(\"Can not register unless mode is unregistered\");this._state=\"registered\",this.store=t.store,this.store.registerOnChange(t.onChange),this.setDoubleClickToZoom=t.setDoubleClickToZoom,this.project=t.project,this.unproject=t.unproject,this.onSelect=t.onSelect,this.onDeselect=t.onDeselect,this.setCursor=t.setCursor,this.onStyleChange=t.onChange,this.onFinish=t.onFinish,this.coordinatePrecision=t.coordinatePrecision,this.registerBehaviors({mode:t.mode,store:this.store,project:this.project,unproject:this.unproject,pointerDistance:this.pointerDistance,coordinatePrecision:t.coordinatePrecision,projection:this.projection})}validateFeature(t){return this.performFeatureValidation(t)}afterFeatureAdded(t){}performFeatureValidation(t){if(\"unregistered\"===this._state)throw new Error(\"Mode must be registered\");const i=function(t,e){let i;if(d(t))if(null==t.id)i=\"Feature has no id\";else if(\"string\"!=typeof t.id&&\"number\"!=typeof t.id)i=\"Feature must be string or number as per GeoJSON spec\";else if(e(t.id))if(d(t.geometry))if(d(t.properties))if(\"string\"==typeof t.geometry.type&&[\"Polygon\",\"LineString\",\"Point\"].includes(t.geometry.type))if(Array.isArray(t.geometry.coordinates)){if(!t.properties.mode||\"string\"!=typeof t.properties.mode)return{valid:!1,reason:\"Feature does not have a valid mode property\"}}else i=\"Feature coordinates is not an array\";else i=\"Feature is not Point, LineString or Polygon\";else i=\"Feature has no properties\";else i=\"Feature has no geometry\";else i=\"Feature must match the id strategy (default is UUID4)\";else i=\"Feature is not object\";return i?{valid:!1,reason:i}:{valid:!0}}(t,this.store.idStrategy.isValidId);if(this.validate){const o=this.validate(t,{project:this.project,unproject:this.unproject,coordinatePrecision:this.coordinatePrecision,updateType:e.Provisional});return{valid:i.valid&&o.valid,reason:o.reason}}return{valid:i.valid,reason:i.reason}}validateModeFeature(t,e){const i=this.performFeatureValidation(t);return i.valid?t.properties.mode!==this.mode?{valid:!1,reason:u}:e(t):{valid:!1,reason:i.reason}}onFinish(t,e){}onDeselect(t){}onSelect(t){}onKeyDown(t){}onKeyUp(t){}onMouseMove(t){}onClick(t){}onDragStart(t,e){}onDrag(t,e){}onDragEnd(t,e){}getHexColorStylingValue(t,e,i){return this.getStylingValue(t,e,i)}getNumericStylingValue(t,e,i){return this.getStylingValue(t,e,i)}getStylingValue(t,e,i){return void 0===t?e:\"function\"==typeof t?t(i):t}}class y extends g{constructor(...t){super(...t),this.type=p.Select}}function m(t,e){const i=t=>t*Math.PI/180,o=i(t[1]),s=i(t[0]),n=i(e[1]),r=n-o,a=i(e[0])-s,d=Math.sin(r/2)*Math.sin(r/2)+Math.cos(o)*Math.cos(n)*Math.sin(a/2)*Math.sin(a/2);return 2*Math.atan2(Math.sqrt(d),Math.sqrt(1-d))*6371e3/1e3}const f=6371008.8;function C(t){return t%360*Math.PI/180}function v(t){return t/6371.0088}function P(t){return t%(2*Math.PI)*180/Math.PI}function I(t,e=9){const i=Math.pow(10,e);return Math.round(t*i)/i}const x=57.29577951308232,S=.017453292519943295,M=6378137,F=(t,e)=>({x:0===t?0:t*S*M,y:0===e?0:Math.log(Math.tan(Math.PI/4+e*S/2))*M}),E=(t,e)=>({lng:0===t?0:x*(t/M),lat:0===e?0:(2*Math.atan(Math.exp(e/M))-Math.PI/2)*x});function D(t,e,i){const o=C(t[0]),s=C(t[1]),n=C(i),r=v(e),a=Math.asin(Math.sin(s)*Math.cos(r)+Math.cos(s)*Math.sin(r)*Math.cos(n));return[P(o+Math.atan2(Math.sin(n)*Math.sin(r)*Math.cos(s),Math.cos(r)-Math.sin(s)*Math.sin(a))),P(a)]}function w(t){const{center:e,radiusKilometers:i,coordinatePrecision:o}=t,s=t.steps?t.steps:64,n=[];for(let t=0;t<s;t++){const r=D(e,i,-360*t/s);n.push([I(r[0],o),I(r[1],o)])}return n.push(n[0]),{type:\"Feature\",geometry:{type:\"Polygon\",coordinates:[n]},properties:{}}}function b(t){let e;if(\"Polygon\"===t.geometry.type)e=t.geometry.coordinates;else{if(\"LineString\"!==t.geometry.type)throw new Error(\"Self intersects only accepts Polygons and LineStrings\");e=[t.geometry.coordinates]}const i=[];for(let t=0;t<e.length;t++)for(let i=0;i<e[t].length-1;i++)for(let o=0;o<e.length;o++)for(let n=0;n<e[o].length-1;n++)s(t,i,o,n);return i.length>0;function o(t){return t<0||t>1}function s(t,s,n,r){const a=e[t][s],d=e[t][s+1],h=e[n][r],l=e[n][r+1],c=function(t,e,i,o){if(k(t,i)||k(t,o)||k(e,i)||k(o,i))return null;const s=t[0],n=t[1],r=e[0],a=e[1],d=i[0],h=i[1],l=o[0],c=o[1],u=(s-r)*(h-c)-(n-a)*(d-l);return 0===u?null:[((s*a-n*r)*(d-l)-(s-r)*(d*c-h*l))/u,((s*a-n*r)*(h-c)-(n-a)*(d*c-h*l))/u]}(a,d,h,l);if(null===c)return;let u,p;u=d[0]!==a[0]?(c[0]-a[0])/(d[0]-a[0]):(c[1]-a[1])/(d[1]-a[1]),p=l[0]!==h[0]?(c[0]-h[0])/(l[0]-h[0]):(c[1]-h[1])/(l[1]-h[1]),o(u)||o(p)||(c.toString(),i.push(c))}}function k(t,e){return t[0]===e[0]&&t[1]===e[1]}function O(t,e){return j(t[0])<=e&&j(t[1])<=e}function _(t){return 2===t.length&&\"number\"==typeof t[0]&&\"number\"==typeof t[1]&&Infinity!==t[0]&&Infinity!==t[1]&&(i=t[0])>=-180&&i<=180&&(e=t[1])>=-90&&e<=90;var e,i}function j(t){let e=1,i=0;for(;Math.round(t*e)/e!==t;)e*=10,i++;return i}const W=\"Feature has holes\",B=\"Feature has less than 4 coordinates\",N=\"Feature has invalid coordinates\",G=\"Feature coordinates are not closed\";function L(t,e){if(\"Polygon\"!==t.geometry.type)return{valid:!1,reason:\"Feature is not a Polygon\"};if(1!==t.geometry.coordinates.length)return{valid:!1,reason:W};if(t.geometry.coordinates[0].length<4)return{valid:!1,reason:B};for(let i=0;i<t.geometry.coordinates[0].length;i++){if(!_(t.geometry.coordinates[0][i]))return{valid:!1,reason:N};if(!O(t.geometry.coordinates[0][i],e))return{valid:!1,reason:\"Feature has coordinates with excessive precision\"}}return(i=t.geometry.coordinates[0][0])[0]!==(o=t.geometry.coordinates[0][t.geometry.coordinates[0].length-1])[0]||i[1]!==o[1]?{valid:!1,reason:G}:{valid:!0};var i,o}function V(t,e){const i=L(t,e);return i.valid?b(t)?{valid:!1,reason:\"Feature intersects itself\"}:{valid:!0}:i}const T={cancel:\"Escape\",finish:\"Enter\"},U={start:\"crosshair\"};class A extends g{constructor(t){super(t,!0),this.mode=\"circle\",this.center=void 0,this.clickCount=0,this.currentCircleId=void 0,this.keyEvents=T,this.cursors=U,this.startingRadiusKilometers=1e-5,this.cursorMovedAfterInitialCursorDown=!1,this.updateOptions(t)}updateOptions(e){super.updateOptions(e),null!=e&&e.cursors&&(this.cursors=t({},this.cursors,e.cursors)),null===(null==e?void 0:e.keyEvents)?this.keyEvents={cancel:null,finish:null}:null!=e&&e.keyEvents&&(this.keyEvents=t({},this.keyEvents,e.keyEvents)),null!=e&&e.startingRadiusKilometers&&(this.startingRadiusKilometers=e.startingRadiusKilometers)}close(){if(void 0===this.currentCircleId)return;const t=this.currentCircleId;if(this.validate&&t){const i=this.store.getGeometryCopy(t);if(!this.validate({type:\"Feature\",id:t,geometry:i,properties:{}},{project:this.project,unproject:this.unproject,coordinatePrecision:this.coordinatePrecision,updateType:e.Finish}).valid)return}this.cursorMovedAfterInitialCursorDown=!1,this.center=void 0,this.currentCircleId=void 0,this.clickCount=0,\"drawing\"===this.state&&this.setStarted(),this.onFinish(t,{mode:this.mode,action:\"draw\"})}start(){this.setStarted(),this.setCursor(this.cursors.start)}stop(){this.cleanUp(),this.setStopped(),this.setCursor(\"unset\")}onClick(t){if(0===this.clickCount){this.center=[t.lng,t.lat];const e=w({center:this.center,radiusKilometers:this.startingRadiusKilometers,coordinatePrecision:this.coordinatePrecision}),[i]=this.store.create([{geometry:e.geometry,properties:{mode:this.mode,radiusKilometers:this.startingRadiusKilometers}}]);this.currentCircleId=i,this.clickCount++,this.cursorMovedAfterInitialCursorDown=!1,this.setDrawing()}else 1===this.clickCount&&this.center&&void 0!==this.currentCircleId&&this.cursorMovedAfterInitialCursorDown&&this.updateCircle(t),this.close()}onMouseMove(t){this.cursorMovedAfterInitialCursorDown=!0,this.updateCircle(t)}onKeyDown(){}onKeyUp(t){t.key===this.keyEvents.cancel?this.cleanUp():t.key===this.keyEvents.finish&&this.close()}onDragStart(){}onDrag(){}onDragEnd(){}cleanUp(){const t=this.currentCircleId;this.center=void 0,this.currentCircleId=void 0,this.clickCount=0,\"drawing\"===this.state&&this.setStarted();try{void 0!==t&&this.store.delete([t])}catch(t){}}styleFeature(e){const i=t({},{polygonFillColor:\"#3f97e0\",polygonOutlineColor:\"#3f97e0\",polygonOutlineWidth:4,polygonFillOpacity:.3,pointColor:\"#3f97e0\",pointOutlineColor:\"#ffffff\",pointOutlineWidth:0,pointWidth:6,lineStringColor:\"#3f97e0\",lineStringWidth:4,zIndex:0});return\"Feature\"===e.type&&\"Polygon\"===e.geometry.type&&e.properties.mode===this.mode?(i.polygonFillColor=this.getHexColorStylingValue(this.styles.fillColor,i.polygonFillColor,e),i.polygonOutlineColor=this.getHexColorStylingValue(this.styles.outlineColor,i.polygonOutlineColor,e),i.polygonOutlineWidth=this.getNumericStylingValue(this.styles.outlineWidth,i.polygonOutlineWidth,e),i.polygonFillOpacity=this.getNumericStylingValue(this.styles.fillOpacity,i.polygonFillOpacity,e),i.zIndex=10,i):i}validateFeature(t){return this.validateModeFeature(t,t=>V(t,this.coordinatePrecision))}updateCircle(t){if(1===this.clickCount&&this.center&&this.currentCircleId){const i=m(this.center,[t.lng,t.lat]);let o;if(\"web-mercator\"===this.projection){const e=function(t,e){const i=1e3*m(t,e);if(0===i)return 1;const{x:o,y:s}=F(t[0],t[1]),{x:n,y:r}=F(e[0],e[1]);return Math.sqrt(Math.pow(n-o,2)+Math.pow(r-s,2))/i}(this.center,[t.lng,t.lat]);o=function(t){const{center:e,radiusKilometers:i,coordinatePrecision:o}=t,s=t.steps?t.steps:64,n=1e3*i,[r,a]=e,{x:d,y:h}=F(r,a),l=[];for(let t=0;t<s;t++){const e=360*t/s*Math.PI/180,i=n*Math.cos(e),r=n*Math.sin(e),[a,c]=[d+i,h+r],{lng:u,lat:p}=E(a,c);l.push([I(u,o),I(p,o)])}return l.push(l[0]),{type:\"Feature\",geometry:{type:\"Polygon\",coordinates:[l]},properties:{}}}({center:this.center,radiusKilometers:i*e,coordinatePrecision:this.coordinatePrecision})}else{if(\"globe\"!==this.projection)throw new Error(\"Invalid projection\");o=w({center:this.center,radiusKilometers:i,coordinatePrecision:this.coordinatePrecision})}if(this.validate&&!this.validate({type:\"Feature\",id:this.currentCircleId,geometry:o.geometry,properties:{radiusKilometers:i}},{project:this.project,unproject:this.unproject,coordinatePrecision:this.coordinatePrecision,updateType:e.Provisional}).valid)return;this.store.updateGeometry([{id:this.currentCircleId,geometry:o.geometry}]),this.store.updateProperty([{id:this.currentCircleId,property:\"radiusKilometers\",value:i}])}}}const R=(t,e)=>{const{x:i,y:o}=t,{x:s,y:n}=e,r=s-i,a=n-o;return Math.sqrt(a*a+r*r)};function K(t){const e=function(t){const e=t.coordinates[0];let i=0;for(let t=0;t<e.length-1;t++){const[o,s]=e[t],[n,r]=e[t+1];i+=(n-o)*(r+s)}return i<0}(t);if(!e)return{type:\"Polygon\",coordinates:[t.coordinates[0].reverse()]}}const X={cancel:\"Escape\",finish:\"Enter\"},z={start:\"crosshair\",close:\"pointer\"};class Y extends g{constructor(t){super(t,!0),this.mode=\"freehand\",this.startingClick=!1,this.currentId=void 0,this.closingPointId=void 0,this.minDistance=20,this.keyEvents=X,this.cursors=z,this.preventPointsNearClose=!0,this.autoClose=!1,this.autoCloseTimeout=500,this.hasLeftStartingPoint=!1,this.preventNewFeature=!1,this.updateOptions(t)}updateOptions(e){super.updateOptions(e),null!=e&&e.minDistance&&(this.minDistance=e.minDistance),void 0!==(null==e?void 0:e.preventPointsNearClose)&&(this.preventPointsNearClose=e.preventPointsNearClose),void 0!==(null==e?void 0:e.autoClose)&&(this.autoClose=e.autoClose),null!=e&&e.autoCloseTimeout&&(this.autoCloseTimeout=e.autoCloseTimeout),null===(null==e?void 0:e.keyEvents)?this.keyEvents={cancel:null,finish:null}:null!=e&&e.keyEvents&&(this.keyEvents=t({},this.keyEvents,e.keyEvents)),null!=e&&e.cursors&&(this.cursors=t({},this.cursors,e.cursors))}close(){if(void 0===this.currentId)return;if(this.currentId){const t=K(this.store.getGeometryCopy(this.currentId));t&&this.store.updateGeometry([{id:this.currentId,geometry:t}])}const t=this.currentId;if(this.validate&&t){const i=this.store.getGeometryCopy(t);if(!this.validate({type:\"Feature\",id:t,geometry:i,properties:{}},{project:this.project,unproject:this.unproject,coordinatePrecision:this.coordinatePrecision,updateType:e.Finish}).valid)return}this.closingPointId&&this.store.delete([this.closingPointId]),this.startingClick=!1,this.currentId=void 0,this.closingPointId=void 0,this.hasLeftStartingPoint=!1,\"drawing\"===this.state&&this.setStarted(),this.onFinish(t,{mode:this.mode,action:\"draw\"})}start(){this.setStarted(),this.setCursor(this.cursors.start)}stop(){this.cleanUp(),this.setStopped(),this.setCursor(\"unset\")}onMouseMove(t){if(void 0===this.currentId||!1===this.startingClick)return;const i=this.store.getGeometryCopy(this.currentId),o=i.coordinates[0].length-2,[s,n]=i.coordinates[0][o],{x:r,y:a}=this.project(s,n),d=R({x:r,y:a},{x:t.containerX,y:t.containerY}),[h,l]=i.coordinates[0][0],{x:c,y:u}=this.project(h,l);if(R({x:c,y:u},{x:t.containerX,y:t.containerY})<this.pointerDistance){if(this.autoClose&&this.hasLeftStartingPoint&&(this.preventNewFeature=!0,setTimeout(()=>{this.preventNewFeature=!1},this.autoCloseTimeout),this.close()),this.setCursor(this.cursors.close),this.preventPointsNearClose)return}else this.hasLeftStartingPoint=!0,this.setCursor(this.cursors.start);if(d<this.minDistance)return;i.coordinates[0].pop();const p={type:\"Polygon\",coordinates:[[...i.coordinates[0],[t.lng,t.lat],i.coordinates[0][0]]]};this.validate&&!this.validate({type:\"Feature\",id:this.currentId,geometry:p,properties:{}},{project:this.project,unproject:this.unproject,coordinatePrecision:this.coordinatePrecision,updateType:e.Provisional}).valid||this.store.updateGeometry([{id:this.currentId,geometry:p}])}onClick(t){if(!this.preventNewFeature){if(!1===this.startingClick){const[e,i]=this.store.create([{geometry:{type:\"Polygon\",coordinates:[[[t.lng,t.lat],[t.lng,t.lat],[t.lng,t.lat],[t.lng,t.lat]]]},properties:{mode:this.mode}},{geometry:{type:\"Point\",coordinates:[t.lng,t.lat]},properties:{mode:this.mode,[s]:!0}}]);return this.currentId=e,this.closingPointId=i,this.startingClick=!0,void this.setDrawing()}this.close()}}onKeyDown(){}onKeyUp(t){t.key===this.keyEvents.cancel?this.cleanUp():t.key===this.keyEvents.finish&&!0===this.startingClick&&this.close()}onDragStart(){}onDrag(){}onDragEnd(){}cleanUp(){const t=this.currentId,e=this.closingPointId;this.closingPointId=void 0,this.currentId=void 0,this.startingClick=!1,\"drawing\"===this.state&&this.setStarted();try{void 0!==t&&this.store.delete([t]),void 0!==e&&this.store.delete([e])}catch(t){}}styleFeature(e){const i=t({},{polygonFillColor:\"#3f97e0\",polygonOutlineColor:\"#3f97e0\",polygonOutlineWidth:4,polygonFillOpacity:.3,pointColor:\"#3f97e0\",pointOutlineColor:\"#ffffff\",pointOutlineWidth:0,pointWidth:6,lineStringColor:\"#3f97e0\",lineStringWidth:4,zIndex:0});return\"Feature\"===e.type&&\"Polygon\"===e.geometry.type&&e.properties.mode===this.mode?(i.polygonFillColor=this.getHexColorStylingValue(this.styles.fillColor,i.polygonFillColor,e),i.polygonOutlineColor=this.getHexColorStylingValue(this.styles.outlineColor,i.polygonOutlineColor,e),i.polygonOutlineWidth=this.getNumericStylingValue(this.styles.outlineWidth,i.polygonOutlineWidth,e),i.polygonFillOpacity=this.getNumericStylingValue(this.styles.fillOpacity,i.polygonFillOpacity,e),i.zIndex=10,i):\"Feature\"===e.type&&\"Point\"===e.geometry.type&&e.properties.mode===this.mode?(i.pointWidth=this.getNumericStylingValue(this.styles.closingPointWidth,i.pointWidth,e),i.pointColor=this.getHexColorStylingValue(this.styles.closingPointColor,i.pointColor,e),i.pointOutlineColor=this.getHexColorStylingValue(this.styles.closingPointOutlineColor,i.pointOutlineColor,e),i.pointOutlineWidth=this.getNumericStylingValue(this.styles.closingPointOutlineWidth,2,e),i.zIndex=40,i):i}validateFeature(t){return this.validateModeFeature(t,t=>L(t,this.coordinatePrecision))}}class H{constructor({store:t,mode:e,project:i,unproject:o,pointerDistance:s,coordinatePrecision:n,projection:r}){this.store=void 0,this.mode=void 0,this.project=void 0,this.unproject=void 0,this.pointerDistance=void 0,this.coordinatePrecision=void 0,this.projection=void 0,this.store=t,this.mode=e,this.project=i,this.unproject=o,this.pointerDistance=s,this.coordinatePrecision=n,this.projection=r}}function q({unproject:t,point:e,pointerDistance:i}){const o=i/2,{x:s,y:n}=e;return{type:\"Feature\",properties:{},geometry:{type:\"Polygon\",coordinates:[[t(s-o,n-o),t(s+o,n-o),t(s+o,n+o),t(s-o,n+o),t(s-o,n-o)].map(t=>[t.lng,t.lat])]}}}class $ extends H{constructor(t){super(t)}create(t){const{containerX:e,containerY:i}=t;return q({unproject:this.unproject,point:{x:e,y:i},pointerDistance:this.pointerDistance})}}class Z extends H{constructor(t){super(t)}measure(t,e){const{x:i,y:o}=this.project(e[0],e[1]);return R({x:i,y:o},{x:t.containerX,y:t.containerY})}}class J extends H{constructor(t,e,i){super(t),this.config=void 0,this.pixelDistance=void 0,this.clickBoundingBox=void 0,this.getSnappableCoordinateFirstClick=t=>this.getSnappable(t,t=>Boolean(t.properties&&t.properties.mode===this.mode)).coordinate,this.getSnappableCoordinate=(t,e)=>this.getSnappable(t,t=>Boolean(t.properties&&t.properties.mode===this.mode&&t.id!==e)).coordinate,this.config=t,this.pixelDistance=e,this.clickBoundingBox=i}getSnappable(t,e){const i=this.clickBoundingBox.create(t),o=this.store.search(i,e),s={featureId:void 0,featureCoordinateIndex:void 0,coordinate:void 0,minDist:Infinity};return o.forEach(e=>{let i;if(\"Polygon\"===e.geometry.type)i=e.geometry.coordinates[0];else{if(\"LineString\"!==e.geometry.type)return;i=e.geometry.coordinates}i.forEach((i,o)=>{const n=this.pixelDistance.measure(t,i);n<s.minDist&&n<this.pointerDistance&&(s.coordinate=i,s.minDist=n,s.featureId=e.id,s.featureCoordinateIndex=o)})}),s}}function Q(t,e,i){const o=C(t[0]),s=C(t[1]),n=C(i),r=v(e),a=Math.asin(Math.sin(s)*Math.cos(r)+Math.cos(s)*Math.sin(r)*Math.cos(n));return[P(o+Math.atan2(Math.sin(n)*Math.sin(r)*Math.cos(s),Math.cos(r)-Math.sin(s)*Math.sin(a))),P(a)]}function tt({x:t,y:e},i,o){const s=C(o);return{x:t+i*Math.cos(s),y:e+i*Math.sin(s)}}function et(t,e){const i=C(t[0]),o=C(e[0]),s=C(t[1]),n=C(e[1]),r=Math.sin(o-i)*Math.cos(n),a=Math.cos(s)*Math.sin(n)-Math.sin(s)*Math.cos(n)*Math.cos(o-i);return P(Math.atan2(r,a))}function it({x:t,y:e},{x:i,y:o}){let s=Math.atan2(o-e,i-t);return s*=180/Math.PI,s>180?s-=360:s<-180&&(s+=360),s}function ot(t){return(t+360)%360}function st(t,e,i){const o=[],s=t.length;let n,r,a,d=0;for(let s=0;s<t.length&&!(e>=d&&s===t.length-1);s++){if(d>e&&0===o.length){if(n=e-d,!n)return o.push(t[s]),o;r=et(t[s],t[s-1])-180,a=Q(t[s],n,r),o.push(a)}if(d>=i)return n=i-d,n?(r=et(t[s],t[s-1])-180,a=Q(t[s],n,r),o.push(a),o):(o.push(t[s]),o);if(d>=e&&o.push(t[s]),s===t.length-1)return o;d+=m(t[s],t[s+1])}if(d<e&&t.length===s)throw new Error(\"Start position is beyond line\");const h=t[t.length-1];return[h,h]}function nt(t){return t*(Math.PI/180)}function rt(t){return t*(180/Math.PI)}class at extends H{constructor(t){super(t),this.config=void 0,this.config=t}generateInsertionCoordinates(t,e,i){const o=[t,e];let s=0;for(let t=0;t<o.length-1;t++)s+=m(o[0],o[1]);if(s<=i)return o;let n=s/i-1;Number.isInteger(n)||(n=Math.floor(n)+1);const r=[];for(let t=0;t<n;t++){const e=st(o,i*t,i*(t+1));r.push(e)}const a=[];for(let t=0;t<r.length;t++)a.push(r[t][1]);return this.limitCoordinates(a)}generateInsertionGeodesicCoordinates(t,e,i){const o=m(t,e),s=function(t,e,i){const o=[],s=nt(t[1]),n=nt(t[0]),r=nt(e[1]),a=nt(e[0]);i+=1;const d=2*Math.asin(Math.sqrt(Math.sin((r-s)/2)**2+Math.cos(s)*Math.cos(r)*Math.sin((a-n)/2)**2));if(0===d||isNaN(d))return o;for(let t=0;t<=i;t++){const e=t/i,h=Math.sin((1-e)*d)/Math.sin(d),l=Math.sin(e*d)/Math.sin(d),c=h*Math.cos(s)*Math.cos(n)+l*Math.cos(r)*Math.cos(a),u=h*Math.cos(s)*Math.sin(n)+l*Math.cos(r)*Math.sin(a),p=h*Math.sin(s)+l*Math.sin(r);if(isNaN(c)||isNaN(u)||isNaN(p))continue;const g=Math.atan2(p,Math.sqrt(c**2+u**2)),y=Math.atan2(u,c);isNaN(g)||isNaN(y)||o.push([rt(y),rt(g)])}return o.slice(1,-1)}(t,e,Math.floor(o/i));return this.limitCoordinates(s)}limitCoordinates(t){return t.map(t=>[I(t[0],this.config.coordinatePrecision),I(t[1],this.config.coordinatePrecision)])}}function dt(t,e){return t[0]===e[0]&&t[1]===e[1]}function ht(t,e){if(\"LineString\"!==t.geometry.type)return{valid:!1,reason:\"Feature is not a LineString\"};if(t.geometry.coordinates.length<2)return{valid:!1,reason:\"Feature has less than 2 coordinates\"};for(let i=0;i<t.geometry.coordinates.length;i++){if(!_(t.geometry.coordinates[i]))return{valid:!1,reason:\"Feature has invalid coordinates\"};if(!O(t.geometry.coordinates[i],e))return{valid:!1,reason:\"Feature has coordinates with excessive precision\"}}return{valid:!0}}function lt(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2))}function ct(t,e){const i=function(t,e){const[i,o,s]=t,[n,r,a]=e;return i*n+o*r+s*a}(t,e)/(lt(t)*lt(e));return Math.acos(Math.min(Math.max(i,-1),1))}function ut(t){const e=C(t[1]),i=C(t[0]);return[Math.cos(e)*Math.cos(i),Math.cos(e)*Math.sin(i),Math.sin(e)]}function pt(t){const[e,i,o]=t,s=P(Math.asin(o));return[P(Math.atan2(i,e)),s]}function gt(t,e,i){const o=ut(t),s=ut(e),n=ut(i),[r,a,d]=n,[h,l,c]=function(t,e){const[i,o,s]=t,[n,r,a]=e;return[o*a-s*r,s*n-i*a,i*r-o*n]}(o,s),u=l*d-c*a,p=c*r-h*d,g=h*a-l*r,y=g*l-p*c,f=u*c-g*h,C=p*h-u*l,v=1/Math.sqrt(Math.pow(y,2)+Math.pow(f,2)+Math.pow(C,2)),P=[y*v,f*v,C*v],I=[-1*y*v,-1*f*v,-1*C*v],x=ct(o,s),S=ct(o,P),M=ct(s,P),F=ct(o,I),E=ct(s,I);let D;return D=S<F&&S<E||M<F&&M<E?P:I,ct(o,D)>x||ct(s,D)>x?m(pt(D),pt(o))<=m(pt(D),pt(s))?[pt(o),!0,!1]:[pt(s),!1,!0]:[pt(D),!1,!1]}function yt(t,e,i){const o=e.x-t.x,s=e.y-t.y,n=Math.max(0,Math.min(1,((i.x-t.x)*o+(i.y-t.y)*s)/(o*o+s*s)));return{x:t.x+n*o,y:t.y+n*s}}class mt extends H{constructor(t,e,i){super(t),this.config=void 0,this.pixelDistance=void 0,this.clickBoundingBox=void 0,this.getSnappableCoordinateFirstClick=t=>this.getSnappable(t,t=>Boolean(t.properties&&t.properties.mode===this.mode)).coordinate,this.getSnappableCoordinate=(t,e)=>this.getSnappable(t,t=>Boolean(t.properties&&t.properties.mode===this.mode&&t.id!==e)).coordinate,this.config=t,this.pixelDistance=e,this.clickBoundingBox=i}getSnappable(t,e){const i=this.clickBoundingBox.create(t),o=this.store.search(i,e),s={featureId:void 0,featureCoordinateIndex:void 0,coordinate:void 0,minDistance:Infinity};return o.forEach(e=>{let i;if(\"Polygon\"===e.geometry.type)i=e.geometry.coordinates[0];else{if(\"LineString\"!==e.geometry.type)return;i=e.geometry.coordinates}const o=[];for(let t=0;t<i.length-1;t++)o.push([i[t],i[t+1]]);let n;const r=[t.lng,t.lat];if(\"web-mercator\"===this.config.projection?n=function(t,e){let i=[Infinity,Infinity],o=Infinity,s=0;for(let n of e){const r=n[0],a=n[1];let d,h=Infinity;const l=F(r[0],r[1]),c=F(a[0],a[1]),u=F(t[0],t[1]);if(r[0]===t[0]&&r[1]===t[1])d=r;else if(a[0]===t[0]&&a[1]===t[1])d=a;else{const{x:t,y:e}=yt(l,c,u),{lng:i,lat:o}=E(t,e);d=[i,o]}d&&(h=R(u,F(d[0],d[1])),h<o&&(i=d,o=h,s=e.indexOf(n)))}return Infinity===o?void 0:{coordinate:i,lineIndex:s,distance:o}}(r,o):\"globe\"===this.config.projection&&(n=function(t,e){let i=[Infinity,Infinity],o=Infinity,s=0;for(let n of e){const r=n[0],a=n[1];let d,h=Infinity;r[0]===t[0]&&r[1]===t[1]?d=r:a[0]===t[0]&&a[1]===t[1]?d=a:[d]=gt(r,a,t),d&&(h=m(t,d),h<o&&(i=d,o=h,s=e.indexOf(n)))}return Infinity===o?void 0:{coordinate:i,distance:o,lineIndex:s}}(r,o)),!n)return;const a=this.pixelDistance.measure(t,n.coordinate);a<s.minDistance&&a<this.pointerDistance&&(s.featureId=e.id,s.coordinate=n.coordinate,s.featureCoordinateIndex=n.lineIndex,s.minDistance=a)}),s}}const ft={cancel:\"Escape\",finish:\"Enter\"},Ct={start:\"crosshair\",close:\"pointer\",dragStart:\"grabbing\",dragEnd:\"crosshair\"};class vt extends g{constructor(t){super(t,!0),this.mode=\"linestring\",this.currentCoordinate=0,this.currentId=void 0,this.closingPointId=void 0,this.keyEvents=ft,this.snapping=void 0,this.cursors=Ct,this.mouseMove=!1,this.insertCoordinates=void 0,this.lastCommitedCoordinates=void 0,this.snappedPointId=void 0,this.editable=!1,this.editedFeatureId=void 0,this.editedFeatureCoordinateIndex=void 0,this.editedSnapType=void 0,this.editedInsertIndex=void 0,this.editedPointId=void 0,this.coordinateSnapping=void 0,this.insertPoint=void 0,this.lineSnapping=void 0,this.pixelDistance=void 0,this.clickBoundingBox=void 0,this.updateOptions(t)}updateOptions(e){super.updateOptions(e),null!=e&&e.cursors&&(this.cursors=t({},this.cursors,e.cursors)),null!=e&&e.snapping&&(this.snapping=e.snapping),null===(null==e?void 0:e.keyEvents)?this.keyEvents={cancel:null,finish:null}:null!=e&&e.keyEvents&&(this.keyEvents=t({},this.keyEvents,e.keyEvents)),null!=e&&e.insertCoordinates&&(this.insertCoordinates=e.insertCoordinates),e&&e.editable&&(this.editable=e.editable)}close(){if(void 0===this.currentId)return;const t=this.store.getGeometryCopy(this.currentId);t.coordinates.pop(),this.updateGeometries([...t.coordinates],void 0,e.Commit);const i=this.currentId;this.closingPointId&&this.store.delete([this.closingPointId]),this.snappedPointId&&this.store.delete([this.snappedPointId]),this.currentCoordinate=0,this.currentId=void 0,this.closingPointId=void 0,this.snappedPointId=void 0,this.lastCommitedCoordinates=void 0,\"drawing\"===this.state&&this.setStarted(),this.onFinish(i,{mode:this.mode,action:\"draw\"})}updateGeometries(t,e,i){if(!this.currentId)return;const o={type:\"LineString\",coordinates:t};if(this.validate&&!this.validate({type:\"Feature\",geometry:o},{project:this.project,unproject:this.unproject,coordinatePrecision:this.coordinatePrecision,updateType:i}).valid)return;const s=[{id:this.currentId,geometry:o}];this.closingPointId&&e&&s.push({id:this.closingPointId,geometry:{type:\"Point\",coordinates:e}}),\"commit\"===i&&(this.lastCommitedCoordinates=o.coordinates),this.store.updateGeometry(s)}generateInsertCoordinates(t,e){if(!this.insertCoordinates||!this.lastCommitedCoordinates)throw new Error(\"Not able to insert coordinates\");if(\"amount\"!==this.insertCoordinates.strategy)throw new Error(\"Strategy does not exist\");const i=m(t,e)/(this.insertCoordinates.value+1);let o=[];return\"globe\"===this.projection?o=this.insertPoint.generateInsertionGeodesicCoordinates(t,e,i):\"web-mercator\"===this.projection&&(o=this.insertPoint.generateInsertionCoordinates(t,e,i)),o}createLine(t){const[e]=this.store.create([{geometry:{type:\"LineString\",coordinates:[t,t]},properties:{mode:this.mode}}]);this.lastCommitedCoordinates=[t,t],this.currentId=e,this.currentCoordinate++,this.setDrawing()}firstUpdateToLine(t){if(!this.currentId)return;const i=this.store.getGeometryCopy(this.currentId).coordinates,[o]=this.store.create([{geometry:{type:\"Point\",coordinates:[...t]},properties:{mode:this.mode}}]);this.closingPointId=o,this.setCursor(this.cursors.close);const s=[...i,t];this.updateGeometries(s,void 0,e.Commit),this.currentCoordinate++}updateToLine(t,i){if(!this.currentId)return;const o=this.store.getGeometryCopy(this.currentId).coordinates,[s,n]=this.lastCommitedCoordinates?this.lastCommitedCoordinates[this.lastCommitedCoordinates.length-1]:o[o.length-2],{x:r,y:a}=this.project(s,n);if(R({x:r,y:a},{x:i.x,y:i.y})<this.pointerDistance)return void this.close();this.setCursor(this.cursors.close);const d=[...o,t];this.updateGeometries(d,o[o.length-1],e.Commit),this.currentCoordinate++}registerBehaviors(t){this.coordinateSnapping=new J(t,new Z(t),new $(t)),this.insertPoint=new at(t),this.clickBoundingBox=new $(t),this.pixelDistance=new Z(t),this.lineSnapping=new mt(t,this.pixelDistance,this.clickBoundingBox),this.coordinateSnapping=new J(t,this.pixelDistance,this.clickBoundingBox)}start(){this.setStarted(),this.setCursor(this.cursors.start)}stop(){this.cleanUp(),this.setStopped(),this.setCursor(\"unset\")}onMouseMove(t){this.mouseMove=!0,this.setCursor(this.cursors.start);const i=this.snapCoordinate(t);if(i){if(this.snappedPointId)this.store.updateGeometry([{id:this.snappedPointId,geometry:{type:\"Point\",coordinates:i}}]);else{const[t]=this.store.create([{geometry:{type:\"Point\",coordinates:i},properties:{mode:this.mode,[n]:!0}}]);this.snappedPointId=t}t.lng=i[0],t.lat=i[1]}else this.snappedPointId&&(this.store.delete([this.snappedPointId]),this.snappedPointId=void 0);const o=i||[t.lng,t.lat];if(void 0===this.currentId||0===this.currentCoordinate)return;const s=this.store.getGeometryCopy(this.currentId).coordinates;if(s.pop(),this.closingPointId){const[e,i]=s[s.length-1],{x:o,y:n}=this.project(e,i);R({x:o,y:n},{x:t.containerX,y:t.containerY})<this.pointerDistance&&this.setCursor(this.cursors.close)}let r=[...s,o];if(this.insertCoordinates&&this.currentId&&this.lastCommitedCoordinates){const t=this.lastCommitedCoordinates[this.lastCommitedCoordinates.length-1],e=o;if(!dt(t,e)){const i=this.generateInsertCoordinates(t,e);r=[...this.lastCommitedCoordinates.slice(0,-1),...i,o]}}this.updateGeometries(r,void 0,e.Provisional)}onRightClick(t){if(!this.editable||\"started\"!==this.state)return;const{featureId:i,featureCoordinateIndex:o}=this.coordinateSnapping.getSnappable(t,t=>this.lineStringFilter(t));if(!i||void 0===o)return;const s=this.store.getGeometryCopy(i);let n;if(\"LineString\"===s.type&&(n=s.coordinates,!(n.length<=2))){if(n.splice(o,1),this.validate&&!this.validate({id:i,type:\"Feature\",geometry:s,properties:{}},{project:this.project,unproject:this.unproject,coordinatePrecision:this.coordinatePrecision,updateType:e.Commit}).valid)return;this.snappedPointId&&(this.store.delete([this.snappedPointId]),this.snappedPointId=void 0),this.store.updateGeometry([{id:i,geometry:s}]),this.onFinish(i,{mode:this.mode,action:\"edit\"})}}onLeftClick(t){this.snappedPointId&&(this.store.delete([this.snappedPointId]),this.snappedPointId=void 0);const e=this.snapCoordinate(t)||[t.lng,t.lat];0===this.currentCoordinate?this.createLine(e):1===this.currentCoordinate&&this.currentId?this.firstUpdateToLine(e):this.currentId&&this.updateToLine(e,{x:t.containerX,y:t.containerY})}onClick(t){this.currentCoordinate>0&&!this.mouseMove&&this.onMouseMove(t),this.mouseMove=!1,\"right\"===t.button?this.onRightClick(t):\"left\"===t.button&&this.onLeftClick(t)}onKeyDown(){}onKeyUp(t){t.key===this.keyEvents.cancel&&this.cleanUp(),t.key===this.keyEvents.finish&&this.close()}onDragStart(t,e){if(!this.editable)return;let i;if(\"started\"===this.state){const e=this.lineSnapping.getSnappable(t,t=>this.lineStringFilter(t));e.coordinate&&(this.editedSnapType=\"line\",this.editedFeatureCoordinateIndex=e.featureCoordinateIndex,this.editedFeatureId=e.featureId,i=e.coordinate);const o=this.coordinateSnapping.getSnappable(t,t=>this.lineStringFilter(t));o.coordinate&&(this.editedSnapType=\"coordinate\",this.editedFeatureCoordinateIndex=o.featureCoordinateIndex,this.editedFeatureId=o.featureId,i=o.coordinate)}if(this.editedFeatureId&&i){if(!this.editedPointId){const[t]=this.store.create([{geometry:{type:\"Point\",coordinates:i},properties:{mode:this.mode,[o]:!0}}]);this.editedPointId=t}this.setCursor(this.cursors.dragStart),e(!1)}}onDrag(t,i){if(void 0===this.editedFeatureId||void 0===this.editedFeatureCoordinateIndex)return;const s=this.store.getGeometryCopy(this.editedFeatureId);\"coordinate\"===this.editedSnapType||\"line\"===this.editedSnapType&&void 0!==this.editedInsertIndex?s.coordinates[this.editedFeatureCoordinateIndex]=[t.lng,t.lat]:\"line\"===this.editedSnapType&&void 0===this.editedInsertIndex&&(this.editedInsertIndex=this.editedFeatureCoordinateIndex+1,s.coordinates.splice(this.editedInsertIndex,0,[t.lng,t.lat]),this.editedFeatureCoordinateIndex++);const n={type:\"LineString\",coordinates:s.coordinates};this.validate&&!this.validate({type:\"Feature\",geometry:n,properties:this.store.getPropertiesCopy(this.editedFeatureId)},{project:this.project,unproject:this.unproject,coordinatePrecision:this.coordinatePrecision,updateType:e.Provisional}).valid||(this.snapping&&this.snappedPointId&&(this.store.delete([this.snappedPointId]),this.snappedPointId=void 0),this.store.updateGeometry([{id:this.editedFeatureId,geometry:n}]),this.editedPointId&&this.store.updateGeometry([{id:this.editedPointId,geometry:{type:\"Point\",coordinates:[t.lng,t.lat]}}]),this.store.updateProperty([{id:this.editedFeatureId,property:o,value:!0}]),i(!0))}onDragEnd(t,e){void 0!==this.editedFeatureId&&(this.setCursor(this.cursors.dragEnd),this.editedPointId&&(this.store.delete([this.editedPointId]),this.editedPointId=void 0),this.store.updateProperty([{id:this.editedFeatureId,property:o,value:!1}]),this.onFinish(this.editedFeatureId,{mode:this.mode,action:\"edit\"}),this.editedFeatureId=void 0,this.editedFeatureCoordinateIndex=void 0,this.editedInsertIndex=void 0,this.editedSnapType=void 0,e(!0))}cleanUp(){const t=this.currentId,e=this.closingPointId,i=this.snappedPointId;this.closingPointId=void 0,this.snappedPointId=void 0,this.currentId=void 0,this.currentCoordinate=0,\"drawing\"===this.state&&this.setStarted();try{void 0!==t&&this.store.delete([t]),void 0!==i&&this.store.delete([i]),void 0!==e&&this.store.delete([e])}catch(t){}}styleFeature(e){const i=t({},{polygonFillColor:\"#3f97e0\",polygonOutlineColor:\"#3f97e0\",polygonOutlineWidth:4,polygonFillOpacity:.3,pointColor:\"#3f97e0\",pointOutlineColor:\"#ffffff\",pointOutlineWidth:0,pointWidth:6,lineStringColor:\"#3f97e0\",lineStringWidth:4,zIndex:0});if(\"Feature\"===e.type&&\"LineString\"===e.geometry.type&&e.properties.mode===this.mode)return i.lineStringColor=this.getHexColorStylingValue(this.styles.lineStringColor,i.lineStringColor,e),i.lineStringWidth=this.getNumericStylingValue(this.styles.lineStringWidth,i.lineStringWidth,e),i.zIndex=10,i;if(\"Feature\"===e.type&&\"Point\"===e.geometry.type&&e.properties.mode===this.mode){const t=e.properties[s];return i.pointColor=this.getHexColorStylingValue(t?this.styles.closingPointColor:this.styles.snappingPointColor,i.pointColor,e),i.pointWidth=this.getNumericStylingValue(t?this.styles.closingPointWidth:this.styles.snappingPointWidth,i.pointWidth,e),i.pointOutlineColor=this.getHexColorStylingValue(t?this.styles.closingPointOutlineColor:this.styles.snappingPointOutlineColor,\"#ffffff\",e),i.pointOutlineWidth=this.getNumericStylingValue(t?this.styles.closingPointOutlineWidth:this.styles.snappingPointOutlineWidth,2,e),i.zIndex=40,i}return i}validateFeature(t){return this.validateModeFeature(t,t=>ht(t,this.coordinatePrecision))}lineStringFilter(t){return Boolean(\"LineString\"===t.geometry.type&&t.properties&&t.properties.mode===this.mode)}snapCoordinate(t){var e,i;let o;return null!=(e=this.snapping)&&e.toCoordinate&&(o=this.currentId?this.coordinateSnapping.getSnappableCoordinate(t,this.currentId):this.coordinateSnapping.getSnappableCoordinateFirstClick(t)),null!=(i=this.snapping)&&i.toCustom&&(o=this.snapping.toCustom(t)),o}}const Pt=\"Feature is not a Point\",It=\"Feature has invalid coordinates\",xt=\"Feature has coordinates with excessive precision\";function St(t,e){return\"Point\"!==t.geometry.type?{valid:!1,reason:Pt}:_(t.geometry.coordinates)?O(t.geometry.coordinates,e)?{valid:!0}:{valid:!1,reason:xt}:{valid:!1,reason:It}}const Mt={create:\"crosshair\",dragStart:\"grabbing\",dragEnd:\"crosshair\"};class Ft extends g{constructor(t){super(t,!0),this.mode=\"point\",this.cursors=Mt,this.editable=!1,this.editedFeatureId=void 0,this.pixelDistance=void 0,this.clickBoundingBox=void 0,this.updateOptions(t)}updateOptions(e){super.updateOptions(e),null!=e&&e.cursors&&(this.cursors=t({},this.cursors,e.cursors)),null!=e&&e.editable&&(this.editable=e.editable)}start(){this.setStarted(),this.setCursor(this.cursors.create)}stop(){this.cleanUp(),this.setStopped(),this.setCursor(\"unset\")}onClick(t){if(!this.store)throw new Error(\"Mode must be registered first\");\"right\"===t.button?this.onRightClick(t):\"left\"===t.button&&this.onLeftClick(t)}onMouseMove(){}onKeyDown(){}onKeyUp(){}cleanUp(){this.editedFeatureId=void 0}onDragStart(t,e){if(this.editable){const e=this.getNearestPointFeature(t);this.editedFeatureId=null==e?void 0:e.id}this.editedFeatureId&&(this.setCursor(this.cursors.dragStart),e(!1))}onDrag(t,i){void 0!==this.editedFeatureId&&(this.validate&&!this.validate({type:\"Feature\",geometry:{type:\"Point\",coordinates:[t.lng,t.lat]},properties:this.store.getPropertiesCopy(this.editedFeatureId)},{project:this.project,unproject:this.unproject,coordinatePrecision:this.coordinatePrecision,updateType:e.Finish}).valid||(this.store.updateGeometry([{id:this.editedFeatureId,geometry:{type:\"Point\",coordinates:[t.lng,t.lat]}}]),this.store.updateProperty([{id:this.editedFeatureId,property:o,value:!0}]),i(!0)))}onDragEnd(t,e){void 0!==this.editedFeatureId&&(this.onFinish(this.editedFeatureId,{mode:this.mode,action:\"edit\"}),this.setCursor(this.cursors.dragEnd),this.store.updateProperty([{id:this.editedFeatureId,property:o,value:!1}]),this.editedFeatureId=void 0,e(!0))}registerBehaviors(t){this.pixelDistance=new Z(t),this.clickBoundingBox=new $(t)}styleFeature(e){const i=t({},{polygonFillColor:\"#3f97e0\",polygonOutlineColor:\"#3f97e0\",polygonOutlineWidth:4,polygonFillOpacity:.3,pointColor:\"#3f97e0\",pointOutlineColor:\"#ffffff\",pointOutlineWidth:0,pointWidth:6,lineStringColor:\"#3f97e0\",lineStringWidth:4,zIndex:0});if(\"Feature\"===e.type&&\"Point\"===e.geometry.type&&e.properties.mode===this.mode){const t=Boolean(e.id&&this.editedFeatureId===e.id);i.pointWidth=this.getNumericStylingValue(t?this.styles.editedPointWidth:this.styles.pointWidth,i.pointWidth,e),i.pointColor=this.getHexColorStylingValue(t?this.styles.editedPointColor:this.styles.pointColor,i.pointColor,e),i.pointOutlineColor=this.getHexColorStylingValue(t?this.styles.editedPointOutlineColor:this.styles.pointOutlineColor,i.pointOutlineColor,e),i.pointOutlineWidth=this.getNumericStylingValue(t?this.styles.editedPointOutlineWidth:this.styles.pointOutlineWidth,2,e),i.zIndex=30}return i}validateFeature(t){return this.validateModeFeature(t,t=>St(t,this.coordinatePrecision))}onLeftClick(t){const i={type:\"Point\",coordinates:[t.lng,t.lat]},o={mode:this.mode};if(this.validate&&!this.validate({type:\"Feature\",geometry:i,properties:o},{project:this.project,unproject:this.unproject,coordinatePrecision:this.coordinatePrecision,updateType:e.Finish}).valid)return;const[s]=this.store.create([{geometry:i,properties:o}]);this.onFinish(s,{mode:this.mode,action:\"draw\"})}onRightClick(t){if(!this.editable)return;const e=this.getNearestPointFeature(t);e&&this.store.delete([e.id])}getNearestPointFeature(t){const e=this.clickBoundingBox.create(t),i=this.store.search(e);let o,s=Infinity;for(let e=0;e<i.length;e++){const n=i[e];if(\"Point\"!==n.geometry.type||n.properties.mode!==this.mode)continue;const r=this.pixelDistance.measure(t,n.geometry.coordinates);r>s||r>this.pointerDistance||(s=r,o=n)}return o}}class Et extends H{constructor(t,e){super(t),this.config=void 0,this.pixelDistance=void 0,this._startEndPoints=[],this.config=t,this.pixelDistance=e}get ids(){return this._startEndPoints.concat()}set ids(t){}create(t,e){if(this.ids.length)throw new Error(\"Opening and closing points already created\");if(t.length<=3)throw new Error(\"Requires at least 4 coordinates\");this._startEndPoints=this.store.create([{geometry:{type:\"Point\",coordinates:t[0]},properties:{mode:e,[s]:!0}},{geometry:{type:\"Point\",coordinates:t[t.length-2]},properties:{mode:e,[s]:!0}}])}delete(){this.ids.length&&(this.store.delete(this.ids),this._startEndPoints=[])}update(t){if(2!==this.ids.length)throw new Error(\"No closing points to update\");this.store.updateGeometry([{id:this.ids[0],geometry:{type:\"Point\",coordinates:t[0]}},{id:this.ids[1],geometry:{type:\"Point\",coordinates:t[t.length-3]}}])}isClosingPoint(t){const e=this.store.getGeometryCopy(this.ids[0]),i=this.store.getGeometryCopy(this.ids[1]),o=this.pixelDistance.measure(t,e.coordinates),s=this.pixelDistance.measure(t,i.coordinates);return{isClosing:o<this.pointerDistance,isPreviousClosing:s<this.pointerDistance}}}class Dt extends H{constructor(t){super(t)}createOrUpdate(t){const e=this.store.getGeometryCopy(t),i=this.store.getPropertiesCopy(t);let o;if(\"Polygon\"===e.type)o=e.coordinates[0].slice(0,-1);else{if(\"LineString\"!==e.type)return;o=e.coordinates}const s=this.store.getPropertiesCopy(t),n=s.coordinatePointIds;if(n)if(n&&n.every(t=>this.store.has(t))){const e=s.coordinatePointIds,n=e.map(t=>this.store.getGeometryCopy(t).coordinates);if(e.length!==o.length){this.deleteCoordinatePoints(e);const s=this.createPoints(o,i.mode);this.setFeatureCoordinatePoints(t,s)}else o.forEach((t,i)=>{t[0]===n[i][0]&&t[1]===n[i][1]||this.store.updateGeometry([{id:e[i],geometry:{type:\"Point\",coordinates:t}}])})}else{const e=n.filter(t=>this.store.has(t));e.length&&this.deleteCoordinatePoints(e);const s=this.createPoints(o,i.mode);this.setFeatureCoordinatePoints(t,s)}else{const e=this.createPoints(o,i.mode);this.setFeatureCoordinatePoints(t,e)}}deletePointsByFeatureIds(t){for(const e of t)this.deleteIfPresent(e)}getUpdated(e,i){const o=this.store.getPropertiesCopy(e);if(o.coordinatePointIds)return o.coordinatePointIds.map((e,o)=>({id:e,geometry:t({},this.store.getGeometryCopy(e),{coordinates:i[o]})}))}createPoints(t,e){return this.store.create(t.map(t=>({geometry:{type:\"Point\",coordinates:t},properties:{mode:e,[r]:!0}})))}setFeatureCoordinatePoints(t,e){this.store.updateProperty([{id:t,property:a,value:e}])}deleteCoordinatePoints(t){const e=t.filter(t=>this.store.has(t));this.store.delete(e)}deleteIfPresent(t){const e=this.store.getPropertiesCopy(t).coordinatePointIds;e&&(this.deleteCoordinatePoints(e),this.setFeatureCoordinatePoints(t,null))}}const wt={cancel:\"Escape\",finish:\"Enter\"},bt={start:\"crosshair\",close:\"pointer\",dragStart:\"grabbing\",dragEnd:\"crosshair\"};class kt extends g{constructor(t){super(t,!0),this.mode=\"polygon\",this.currentCoordinate=0,this.currentId=void 0,this.keyEvents=wt,this.cursors=bt,this.mouseMove=!1,this.showCoordinatePoints=!1,this.snapping=void 0,this.snappedPointId=void 0,this.editable=!1,this.editedFeatureId=void 0,this.editedFeatureCoordinateIndex=void 0,this.editedSnapType=void 0,this.editedInsertIndex=void 0,this.editedPointId=void 0,this.coordinatePoints=void 0,this.lineSnapping=void 0,this.coordinateSnapping=void 0,this.pixelDistance=void 0,this.closingPoints=void 0,this.clickBoundingBox=void 0,this.updateOptions(t)}updateOptions(e){if(super.updateOptions(e),null!=e&&e.cursors&&(this.cursors=t({},this.cursors,e.cursors)),null===(null==e?void 0:e.keyEvents)?this.keyEvents={cancel:null,finish:null}:null!=e&&e.keyEvents&&(this.keyEvents=t({},this.keyEvents,e.keyEvents)),null!=e&&e.snapping&&(this.snapping=e.snapping),void 0!==(null==e?void 0:e.editable)&&(this.editable=e.editable),void 0!==(null==e?void 0:e.showCoordinatePoints))if(this.showCoordinatePoints=e.showCoordinatePoints,this.coordinatePoints&&!0===e.showCoordinatePoints)this.store.copyAllWhere(t=>t.mode===this.mode).map(t=>t.id).forEach(t=>{this.coordinatePoints.createOrUpdate(t)});else if(this.coordinatePoints&&!1===this.showCoordinatePoints){const t=this.store.copyAllWhere(t=>t.mode===this.mode&&Boolean(t[a]));this.coordinatePoints.deletePointsByFeatureIds(t.map(t=>t.id))}}close(){if(void 0===this.currentId)return;const t=this.store.getGeometryCopy(this.currentId).coordinates[0];if(t.length<5)return;if(!this.updatePolygonGeometry([...t.slice(0,-2),t[0]],e.Finish))return;const i=this.currentId;if(this.currentId){const t=K(this.store.getGeometryCopy(this.currentId));t&&this.store.updateGeometry([{id:this.currentId,geometry:t}])}this.snappedPointId&&this.store.delete([this.snappedPointId]),this.currentCoordinate=0,this.currentId=void 0,this.snappedPointId=void 0,this.closingPoints.delete(),\"drawing\"===this.state&&this.setStarted(),this.onFinish(i,{mode:this.mode,action:\"draw\"})}registerBehaviors(t){this.clickBoundingBox=new $(t),this.pixelDistance=new Z(t),this.lineSnapping=new mt(t,this.pixelDistance,this.clickBoundingBox),this.coordinateSnapping=new J(t,this.pixelDistance,this.clickBoundingBox),this.closingPoints=new Et(t,this.pixelDistance),this.coordinatePoints=new Dt(t)}start(){this.setStarted(),this.setCursor(this.cursors.start)}stop(){this.cleanUp(),this.setStopped(),this.setCursor(\"unset\")}onMouseMove(t){this.mouseMove=!0,this.setCursor(this.cursors.start);const i=this.snapCoordinate(t);if(i){if(this.snappedPointId)this.store.updateGeometry([{id:this.snappedPointId,geometry:{type:\"Point\",coordinates:i}}]);else{const[t]=this.store.create([{geometry:{type:\"Point\",coordinates:i},properties:{mode:this.mode,[n]:!0}}]);this.snappedPointId=t}t.lng=i[0],t.lat=i[1]}else this.snappedPointId&&(this.store.delete([this.snappedPointId]),this.snappedPointId=void 0);if(void 0===this.currentId||0===this.currentCoordinate)return;const o=this.store.getGeometryCopy(this.currentId).coordinates[0];let s;if(1===this.currentCoordinate){const e=1/Math.pow(10,this.coordinatePrecision-1),i=Math.max(1e-6,e);s=[o[0],[t.lng,t.lat],[t.lng,t.lat-i],o[0]]}else if(2===this.currentCoordinate)s=[o[0],o[1],[t.lng,t.lat],o[0]];else{const{isClosing:e,isPreviousClosing:i}=this.closingPoints.isClosingPoint(t);i||e?(this.snappedPointId&&(this.store.delete([this.snappedPointId]),this.snappedPointId=void 0),this.setCursor(this.cursors.close),s=[...o.slice(0,-2),o[0],o[0]]):s=[...o.slice(0,-2),[t.lng,t.lat],o[0]]}this.updatePolygonGeometry(s,e.Provisional)}updatePolygonGeometry(t,e){if(!this.currentId)return!1;const i={type:\"Polygon\",coordinates:[t]};return!(this.validate&&!this.validate({type:\"Feature\",geometry:i},{project:this.project,unproject:this.unproject,coordinatePrecision:this.coordinatePrecision,updateType:e}).valid||(this.store.updateGeometry([{id:this.currentId,geometry:i}]),this.showCoordinatePoints&&this.coordinatePoints.createOrUpdate(this.currentId),0))}snapCoordinate(t){var e,i,o;let s;if(null!=(e=this.snapping)&&e.toLine){let e;e=this.currentId?this.lineSnapping.getSnappableCoordinate(t,this.currentId):this.lineSnapping.getSnappableCoordinateFirstClick(t),e&&(s=e)}if(null!=(i=this.snapping)&&i.toCoordinate){let e;e=this.currentId?this.coordinateSnapping.getSnappableCoordinate(t,this.currentId):this.coordinateSnapping.getSnappableCoordinateFirstClick(t),e&&(s=e)}return null!=(o=this.snapping)&&o.toCustom&&(s=this.snapping.toCustom(t,{currentCoordinate:this.currentCoordinate,currentId:this.currentId,getCurrentGeometrySnapshot:this.currentId?()=>this.store.getGeometryCopy(this.currentId):()=>null,project:this.project,unproject:this.unproject})),s}polygonFilter(t){return Boolean(\"Polygon\"===t.geometry.type&&t.properties&&t.properties.mode===this.mode)}onRightClick(t){if(!this.editable)return;const{featureId:i,featureCoordinateIndex:o}=this.coordinateSnapping.getSnappable(t,t=>this.polygonFilter(t));if(!i||void 0===o)return;const s=this.store.getGeometryCopy(i);let n;\"Polygon\"===s.type&&(n=s.coordinates[0],n.length<=4||(\"Polygon\"!==s.type||0!==o&&o!==n.length-1?n.splice(o,1):(n.shift(),n.pop(),n.push([n[0][0],n[0][1]])),(!this.validate||this.validate({id:i,type:\"Feature\",geometry:s,properties:{}},{project:this.project,unproject:this.unproject,coordinatePrecision:this.coordinatePrecision,updateType:e.Commit}).valid)&&(this.snappedPointId&&(this.store.delete([this.snappedPointId]),this.snappedPointId=void 0),this.store.updateGeometry([{id:i,geometry:s}]),this.showCoordinatePoints&&this.coordinatePoints.createOrUpdate(i),this.onFinish(i,{mode:this.mode,action:\"edit\"}))))}onLeftClick(t){if(this.snappedPointId&&(this.store.delete([this.snappedPointId]),this.snappedPointId=void 0),0===this.currentCoordinate){const e=this.snapCoordinate(t);e&&(t.lng=e[0],t.lat=e[1]);const[i]=this.store.create([{geometry:{type:\"Polygon\",coordinates:[[[t.lng,t.lat],[t.lng,t.lat],[t.lng,t.lat],[t.lng,t.lat]]]},properties:{mode:this.mode}}]);this.currentId=i,this.currentCoordinate++,this.setDrawing()}else if(1===this.currentCoordinate&&this.currentId){const i=this.snapCoordinate(t);i&&(t.lng=i[0],t.lat=i[1]);const o=this.store.getGeometryCopy(this.currentId);if(dt([t.lng,t.lat],o.coordinates[0][0]))return;if(!this.updatePolygonGeometry([o.coordinates[0][0],[t.lng,t.lat],[t.lng,t.lat],o.coordinates[0][0]],e.Commit))return;this.currentCoordinate++}else if(2===this.currentCoordinate&&this.currentId){const i=this.snapCoordinate(t);i&&(t.lng=i[0],t.lat=i[1]);const o=this.store.getGeometryCopy(this.currentId).coordinates[0];if(dt([t.lng,t.lat],o[1]))return;if(!this.updatePolygonGeometry([o[0],o[1],[t.lng,t.lat],[t.lng,t.lat],o[0]],e.Commit))return;2===this.currentCoordinate&&this.closingPoints.create(o,\"polygon\"),this.currentCoordinate++}else if(this.currentId){const i=this.store.getGeometryCopy(this.currentId).coordinates[0],{isClosing:o,isPreviousClosing:s}=this.closingPoints.isClosingPoint(t);if(s||o)this.close();else{const o=this.snapCoordinate(t);if(o&&(t.lng=o[0],t.lat=o[1]),dt([t.lng,t.lat],i[this.currentCoordinate-1]))return;const s=function(t=[[[0,0],[0,1],[1,1],[1,0],[0,0]]]){return{type:\"Feature\",geometry:{type:\"Polygon\",coordinates:t},properties:{}}}([[...i.slice(0,-1),[t.lng,t.lat],i[0]]]);if(!this.updatePolygonGeometry(s.geometry.coordinates[0],e.Commit))return;this.currentCoordinate++,this.closingPoints.ids.length&&this.closingPoints.update(s.geometry.coordinates[0])}}}onClick(t){this.currentCoordinate>0&&!this.mouseMove&&this.onMouseMove(t),this.mouseMove=!1,\"right\"!==t.button?\"left\"!==t.button||this.onLeftClick(t):this.onRightClick(t)}onKeyUp(t){t.key===this.keyEvents.cancel?this.cleanUp():t.key===this.keyEvents.finish&&this.close()}onKeyDown(){}onDragStart(t,e){if(!this.editable)return;let i;if(\"started\"===this.state){const e=this.lineSnapping.getSnappable(t,t=>this.polygonFilter(t));e.coordinate&&(this.editedSnapType=\"line\",this.editedFeatureCoordinateIndex=e.featureCoordinateIndex,this.editedFeatureId=e.featureId,i=e.coordinate);const o=this.coordinateSnapping.getSnappable(t,t=>this.polygonFilter(t));o.coordinate&&(this.editedSnapType=\"coordinate\",this.editedFeatureCoordinateIndex=o.featureCoordinateIndex,this.editedFeatureId=o.featureId,i=o.coordinate)}if(this.editedFeatureId&&i){if(!this.editedPointId){const[t]=this.store.create([{geometry:{type:\"Point\",coordinates:i},properties:{mode:this.mode,[o]:!0}}]);this.editedPointId=t}this.setCursor(this.cursors.dragStart),e(!1)}}onDrag(t,i){if(void 0===this.editedFeatureId||void 0===this.editedFeatureCoordinateIndex)return;const s=this.store.getGeometryCopy(this.editedFeatureId),n=s.coordinates[0];\"coordinate\"===this.editedSnapType||\"line\"===this.editedSnapType&&void 0!==this.editedInsertIndex?0===this.editedFeatureCoordinateIndex||this.editedFeatureCoordinateIndex===s.coordinates[0].length-1?(n[0]=[t.lng,t.lat],n[n.length-1]=[t.lng,t.lat]):n[this.editedFeatureCoordinateIndex]=[t.lng,t.lat]:\"line\"===this.editedSnapType&&void 0===this.editedInsertIndex&&(this.editedInsertIndex=this.editedFeatureCoordinateIndex+1,s.coordinates[0].splice(this.editedInsertIndex,0,[t.lng,t.lat]),this.editedFeatureCoordinateIndex++);const r={type:\"Polygon\",coordinates:s.coordinates};this.validate&&!this.validate({type:\"Feature\",geometry:r,properties:this.store.getPropertiesCopy(this.editedFeatureId)},{project:this.project,unproject:this.unproject,coordinatePrecision:this.coordinatePrecision,updateType:e.Provisional}).valid||(this.snapping&&this.snappedPointId&&(this.store.delete([this.snappedPointId]),this.snappedPointId=void 0),this.store.updateGeometry([{id:this.editedFeatureId,geometry:r}]),this.showCoordinatePoints&&this.coordinatePoints.createOrUpdate(this.editedFeatureId),this.editedPointId&&this.store.updateGeometry([{id:this.editedPointId,geometry:{type:\"Point\",coordinates:[t.lng,t.lat]}}]),this.store.updateProperty([{id:this.editedFeatureId,property:o,value:!0}]),i(!0))}onDragEnd(t,e){void 0!==this.editedFeatureId&&(this.setCursor(this.cursors.dragEnd),this.editedPointId&&(this.store.delete([this.editedPointId]),this.editedPointId=void 0),this.store.updateProperty([{id:this.editedFeatureId,property:o,value:!1}]),this.onFinish(this.editedFeatureId,{mode:this.mode,action:\"edit\"}),this.editedFeatureId=void 0,this.editedFeatureCoordinateIndex=void 0,this.editedInsertIndex=void 0,this.editedSnapType=void 0,e(!0))}cleanUp(){const t=this.currentId,e=this.snappedPointId,i=this.editedPointId;this.currentId=void 0,this.snappedPointId=void 0,this.editedPointId=void 0,this.editedFeatureId=void 0,this.editedFeatureCoordinateIndex=void 0,this.editedInsertIndex=void 0,this.editedSnapType=void 0,this.currentCoordinate=0,\"drawing\"===this.state&&this.setStarted();try{t&&this.coordinatePoints.deletePointsByFeatureIds([t]),void 0!==t&&this.store.delete([t]),void 0!==i&&this.store.delete([i]),void 0!==e&&this.store.delete([e]),this.closingPoints.ids.length&&this.closingPoints.delete()}catch(t){}}styleFeature(e){const i=t({},{polygonFillColor:\"#3f97e0\",polygonOutlineColor:\"#3f97e0\",polygonOutlineWidth:4,polygonFillOpacity:.3,pointColor:\"#3f97e0\",pointOutlineColor:\"#ffffff\",pointOutlineWidth:0,pointWidth:6,lineStringColor:\"#3f97e0\",lineStringWidth:4,zIndex:0});if(e.properties.mode===this.mode){if(\"Polygon\"===e.geometry.type)return i.polygonFillColor=this.getHexColorStylingValue(this.styles.fillColor,i.polygonFillColor,e),i.polygonOutlineColor=this.getHexColorStylingValue(this.styles.outlineColor,i.polygonOutlineColor,e),i.polygonOutlineWidth=this.getNumericStylingValue(this.styles.outlineWidth,i.polygonOutlineWidth,e),i.polygonFillOpacity=this.getNumericStylingValue(this.styles.fillOpacity,i.polygonFillOpacity,e),i.zIndex=10,i;if(\"Point\"===e.geometry.type){const t=e.properties[o],a=e.properties[r],d=t?\"editedPoint\":e.properties[s]?\"closingPoint\":e.properties[n]?\"snappingPoint\":a?\"coordinatePoint\":void 0;if(!d)return i;const h={editedPoint:{width:this.styles.editedPointOutlineWidth,color:this.styles.editedPointColor,outlineColor:this.styles.editedPointOutlineColor,outlineWidth:this.styles.editedPointOutlineWidth},closingPoint:{width:this.styles.closingPointWidth,color:this.styles.closingPointColor,outlineColor:this.styles.closingPointOutlineColor,outlineWidth:this.styles.closingPointOutlineWidth},snappingPoint:{width:this.styles.snappingPointWidth,color:this.styles.snappingPointColor,outlineColor:this.styles.snappingPointOutlineColor,outlineWidth:this.styles.snappingPointOutlineWidth},coordinatePoint:{width:this.styles.coordinatePointWidth,color:this.styles.coordinatePointColor,outlineColor:this.styles.coordinatePointOutlineColor,outlineWidth:this.styles.coordinatePointOutlineWidth}};return i.pointWidth=this.getNumericStylingValue(h[d].width,i.pointWidth,e),i.pointColor=this.getHexColorStylingValue(h[d].color,i.pointColor,e),i.pointOutlineColor=this.getHexColorStylingValue(h[d].outlineColor,i.pointOutlineColor,e),i.pointOutlineWidth=this.getNumericStylingValue(h[d].outlineWidth,2,e),i.zIndex=t?35:a?25:30,i}}return i}afterFeatureAdded(t){this.showCoordinatePoints&&this.coordinatePoints.createOrUpdate(t.id)}validateFeature(t){return this.validateModeFeature(t,t=>L(t,this.coordinatePrecision))}}const Ot={cancel:\"Escape\",finish:\"Enter\"},_t={start:\"crosshair\"};class jt extends g{constructor(t){super(t,!0),this.mode=\"rectangle\",this.center=void 0,this.clickCount=0,this.currentRectangleId=void 0,this.keyEvents=Ot,this.cursors=_t,this.updateOptions(t)}updateOptions(e){super.updateOptions(e),null!=e&&e.cursors&&(this.cursors=t({},this.cursors,e.cursors)),null===(null==e?void 0:e.keyEvents)?this.keyEvents={cancel:null,finish:null}:null!=e&&e.keyEvents&&(this.keyEvents=t({},this.keyEvents,e.keyEvents))}updateRectangle(t,e){if(1===this.clickCount&&this.center&&this.currentRectangleId){const i=this.store.getGeometryCopy(this.currentRectangleId).coordinates[0][0],o={type:\"Polygon\",coordinates:[[i,[t.lng,i[1]],[t.lng,t.lat],[i[0],t.lat],i]]};if(this.validate&&!this.validate({id:this.currentRectangleId,geometry:o},{project:this.project,unproject:this.unproject,coordinatePrecision:this.coordinatePrecision,updateType:e}).valid)return;this.store.updateGeometry([{id:this.currentRectangleId,geometry:o}])}}close(){const t=this.currentRectangleId;if(t){const e=K(this.store.getGeometryCopy(t));e&&this.store.updateGeometry([{id:t,geometry:e}])}this.center=void 0,this.currentRectangleId=void 0,this.clickCount=0,\"drawing\"===this.state&&this.setStarted(),void 0!==t&&this.onFinish(t,{mode:this.mode,action:\"draw\"})}start(){this.setStarted(),this.setCursor(this.cursors.start)}stop(){this.cleanUp(),this.setStopped(),this.setCursor(\"unset\")}onClick(t){if(0===this.clickCount){this.center=[t.lng,t.lat];const[e]=this.store.create([{geometry:{type:\"Polygon\",coordinates:[[[t.lng,t.lat],[t.lng,t.lat],[t.lng,t.lat],[t.lng,t.lat]]]},properties:{mode:this.mode}}]);this.currentRectangleId=e,this.clickCount++,this.setDrawing()}else this.updateRectangle(t,e.Finish),this.close()}onMouseMove(t){this.updateRectangle(t,e.Provisional)}onKeyDown(){}onKeyUp(t){t.key===this.keyEvents.cancel?this.cleanUp():t.key===this.keyEvents.finish&&this.close()}onDragStart(){}onDrag(){}onDragEnd(){}cleanUp(){const t=this.currentRectangleId;this.center=void 0,this.currentRectangleId=void 0,this.clickCount=0,\"drawing\"===this.state&&this.setStarted(),void 0!==t&&this.store.delete([t])}styleFeature(e){const i=t({},{polygonFillColor:\"#3f97e0\",polygonOutlineColor:\"#3f97e0\",polygonOutlineWidth:4,polygonFillOpacity:.3,pointColor:\"#3f97e0\",pointOutlineColor:\"#ffffff\",pointOutlineWidth:0,pointWidth:6,lineStringColor:\"#3f97e0\",lineStringWidth:4,zIndex:0});return\"Feature\"===e.type&&\"Polygon\"===e.geometry.type&&e.properties.mode===this.mode?(i.polygonFillColor=this.getHexColorStylingValue(this.styles.fillColor,i.polygonFillColor,e),i.polygonOutlineColor=this.getHexColorStylingValue(this.styles.outlineColor,i.polygonOutlineColor,e),i.polygonOutlineWidth=this.getNumericStylingValue(this.styles.outlineWidth,i.polygonOutlineWidth,e),i.polygonFillOpacity=this.getNumericStylingValue(this.styles.fillOpacity,i.polygonFillOpacity,e),i.zIndex=10,i):i}validateFeature(t){return this.validateModeFeature(t,t=>V(t,this.coordinatePrecision))}}class Wt extends g{constructor(t){if(!t.modeName)throw new Error(\"Mode name is required for TerraDrawRenderMode\");super(t,!0),this.type=p.Render,this.mode=\"render\",this.updateOptions(t)}updateOptions(t){super.updateOptions(t),null!=t&&t.modeName&&(this.mode=t.modeName)}registerBehaviors(t){this.mode=t.mode}start(){this.setStarted()}stop(){this.setStopped()}onKeyUp(){}onKeyDown(){}onClick(){}onDragStart(){}onDrag(){}onDragEnd(){}onMouseMove(){}cleanUp(){}styleFeature(t){return{pointColor:this.getHexColorStylingValue(this.styles.pointColor,\"#3f97e0\",t),pointWidth:this.getNumericStylingValue(this.styles.pointWidth,6,t),pointOutlineColor:this.getHexColorStylingValue(this.styles.pointOutlineColor,\"#ffffff\",t),pointOutlineWidth:this.getNumericStylingValue(this.styles.pointOutlineWidth,0,t),polygonFillColor:this.getHexColorStylingValue(this.styles.polygonFillColor,\"#3f97e0\",t),polygonFillOpacity:this.getNumericStylingValue(this.styles.polygonFillOpacity,.3,t),polygonOutlineColor:this.getHexColorStylingValue(this.styles.polygonOutlineColor,\"#3f97e0\",t),polygonOutlineWidth:this.getNumericStylingValue(this.styles.polygonOutlineWidth,4,t),lineStringWidth:this.getNumericStylingValue(this.styles.lineStringWidth,4,t),lineStringColor:this.getHexColorStylingValue(this.styles.lineStringColor,\"#3f97e0\",t),zIndex:this.getNumericStylingValue(this.styles.zIndex,0,t)}}validateFeature(t){const e=super.validateFeature(t);if(e.valid){const e=t,i=St(e,this.coordinatePrecision).valid||L(e,this.coordinatePrecision).valid||ht(e,this.coordinatePrecision).valid;return i?{valid:!0}:{valid:i,reason:\"Feature is not a valid Point, Polygon or LineString feature\"}}return e}}function Bt(t,e){const i=t,o=e,s=C(i[1]),n=C(o[1]);let r=C(o[0]-i[0]);r>Math.PI&&(r-=2*Math.PI),r<-Math.PI&&(r+=2*Math.PI);const a=Math.log(Math.tan(n/2+Math.PI/4)/Math.tan(s/2+Math.PI/4)),d=(P(Math.atan2(r,a))+360)%360;return d>180?-(360-d):d}function Nt(t,e,i){let o=e;e<0&&(o=-Math.abs(o));const s=o/f,n=t[0]*Math.PI/180,r=C(t[1]),a=C(i),d=s*Math.cos(a);let h=r+d;Math.abs(h)>Math.PI/2&&(h=h>0?Math.PI-h:-Math.PI-h);const l=Math.log(Math.tan(h/2+Math.PI/4)/Math.tan(r/2+Math.PI/4)),c=Math.abs(l)>1e-11?d/l:Math.cos(r),u=[(180*(n+s*Math.sin(a)/c)/Math.PI+540)%360-180,180*h/Math.PI];return u[0]+=u[0]-t[0]>180?-360:t[0]-u[0]>180?360:0,u}function Gt(t,e,i,o,s){const n=o(t[0],t[1]),r=o(e[0],e[1]),{lng:a,lat:d}=s((n.x+r.x)/2,(n.y+r.y)/2);return[I(a,i),I(d,i)]}function Lt(t,e,i){const o=Nt(t,1e3*m(t,e)/2,Bt(t,e));return[I(o[0],i),I(o[1],i)]}function Vt({featureCoords:t,precision:e,unproject:i,project:o,projection:s}){const n=[];for(let r=0;r<t.length-1;r++){let a;if(\"web-mercator\"===s)a=Gt(t[r],t[r+1],e,o,i);else{if(\"globe\"!==s)throw new Error(\"Invalid projection\");a=Lt(t[r],t[r+1],e)}n.push(a)}return n}class Tt extends H{constructor(t,e,i){super(t),this.config=void 0,this.selectionPointBehavior=void 0,this.coordinatePointBehavior=void 0,this._midPoints=[],this.config=t,this.selectionPointBehavior=e,this.coordinatePointBehavior=i}get ids(){return this._midPoints.concat()}set ids(t){}insert(t,e,i){const o=this.store.getGeometryCopy(e),{midPointFeatureId:s,midPointSegment:n}=this.store.getPropertiesCopy(e),r=this.store.getGeometryCopy(s),d=\"Polygon\"===r.type?r.coordinates[0]:r.coordinates;d.splice(n+1,0,o.coordinates),r.coordinates=\"Polygon\"===r.type?[d]:d,this.store.updateGeometry([{id:s,geometry:r}]),this.store.getPropertiesCopy(t)[a]&&this.coordinatePointBehavior.createOrUpdate(t),this.store.delete([...this._midPoints,...this.selectionPointBehavior.ids]),this.create(d,s,i),this.selectionPointBehavior.create(d,r.type,s)}create(t,e,o){if(!this.store.has(e))throw new Error(\"Store does not have feature with this id\");this._midPoints=this.store.create(function(t,e,i,o,s,n){return Vt({featureCoords:t,precision:i,project:o,unproject:s,projection:n}).map((t,i)=>({geometry:{type:\"Point\",coordinates:t},properties:e(i)}))}(t,t=>({mode:this.mode,[i.MID_POINT]:!0,midPointSegment:t,midPointFeatureId:e}),o,this.config.project,this.config.unproject,this.projection))}delete(){this._midPoints.length&&(this.store.delete(this._midPoints),this._midPoints=[])}getUpdated(t){if(0!==this._midPoints.length)return Vt({featureCoords:t,precision:this.coordinatePrecision,project:this.config.project,unproject:this.config.unproject,projection:this.config.projection}).map((t,e)=>({id:this._midPoints[e],geometry:{type:\"Point\",coordinates:t}}))}}class Ut extends H{constructor(t){super(t),this._selectionPoints=[]}get ids(){return this._selectionPoints.concat()}set ids(t){}create(t,e,i){this._selectionPoints=this.store.create(function(t,e,i){const o=[],s=\"Polygon\"===e?t.length-1:t.length;for(let e=0;e<s;e++)o.push({geometry:{type:\"Point\",coordinates:t[e]},properties:i(e)});return o}(t,e,t=>({mode:this.mode,selectionPoint:!0,selectionPointFeatureId:i,index:t})))}delete(){this.ids.length&&(this.store.delete(this.ids),this._selectionPoints=[])}getUpdated(t){if(0!==this._selectionPoints.length)return this._selectionPoints.map((e,i)=>({id:e,geometry:{type:\"Point\",coordinates:t[i]}}))}getOneUpdated(t,e){if(void 0!==this._selectionPoints[t])return{id:this._selectionPoints[t],geometry:{type:\"Point\",coordinates:e}}}}function At(t,e){let i=!1;for(let r=0,a=e.length;r<a;r++){const a=e[r];for(let e=0,r=a.length,d=r-1;e<r;d=e++)(s=a[e])[1]>(o=t)[1]!=(n=a[d])[1]>o[1]&&o[0]<(n[0]-s[0])*(o[1]-s[1])/(n[1]-s[1])+s[0]&&(i=!i)}var o,s,n;return i}const Rt=(t,e,i)=>{const o=t=>t*t,s=(t,e)=>o(t.x-e.x)+o(t.y-e.y);return Math.sqrt(((t,e,i)=>{const o=s(e,i);if(0===o)return s(t,e);let n=((t.x-e.x)*(i.x-e.x)+(t.y-e.y)*(i.y-e.y))/o;return n=Math.max(0,Math.min(1,n)),s(t,{x:e.x+n*(i.x-e.x),y:e.y+n*(i.y-e.y)})})(t,e,i))};class Kt extends H{constructor(t,e,i){super(t),this.config=void 0,this.createClickBoundingBox=void 0,this.pixelDistance=void 0,this.config=t,this.createClickBoundingBox=e,this.pixelDistance=i}find(t,e){let o,s,n,r,a=Infinity,d=Infinity,h=Infinity;const l=this.createClickBoundingBox.create(t),c=this.store.search(l);for(let l=0;l<c.length;l++){const u=c[l],p=u.geometry;if(\"Point\"===p.type){if(u.properties.selectionPoint||u.properties.coordinatePoint||!e&&u.properties[i.MID_POINT])continue;const s=this.pixelDistance.measure(t,p.coordinates);u.properties[i.MID_POINT]&&s<this.pointerDistance&&s<h?(h=s,n=u):!u.properties[i.MID_POINT]&&s<this.pointerDistance&&s<a&&(a=s,o=u)}else if(\"LineString\"===p.type){if(o)continue;for(let e=0;e<p.coordinates.length-1;e++){const i=p.coordinates[e],o=p.coordinates[e+1],n=Rt({x:t.containerX,y:t.containerY},this.project(i[0],i[1]),this.project(o[0],o[1]));n<this.pointerDistance&&n<d&&(d=n,s=u)}}else if(\"Polygon\"===p.type){if(o||s)continue;At([t.lng,t.lat],p.coordinates)&&(r=u)}}return{clickedFeature:o||s||r,clickedMidPoint:n}}}class Xt extends H{constructor(t,e,i,o,s){super(t),this.config=void 0,this.featuresAtCursorEvent=void 0,this.selectionPoints=void 0,this.midPoints=void 0,this.coordinatePoints=void 0,this.draggedFeatureId=null,this.dragPosition=void 0,this.config=t,this.featuresAtCursorEvent=e,this.selectionPoints=i,this.midPoints=o,this.coordinatePoints=s}startDragging(t,e){this.draggedFeatureId=e,this.dragPosition=[t.lng,t.lat]}stopDragging(){this.draggedFeatureId=null,this.dragPosition=void 0}isDragging(){return null!==this.draggedFeatureId}canDrag(t,e){const{clickedFeature:i}=this.featuresAtCursorEvent.find(t,!0);return!(!i||i.id!==e)}drag(t,i){if(!this.draggedFeatureId)return;const o=this.store.getGeometryCopy(this.draggedFeatureId),s=[t.lng,t.lat];if(\"Polygon\"===o.type||\"LineString\"===o.type){let n,r;if(\"Polygon\"===o.type?(n=o.coordinates[0],r=n.length-1):(n=o.coordinates,r=n.length),!this.dragPosition)return!1;for(let t=0;t<r;t++){const e=n[t];let i,o;if(\"web-mercator\"===this.config.projection){const t=F(this.dragPosition[0],this.dragPosition[1]),n=F(s[0],s[1]),r=F(e[0],e[1]),a={x:t.x-n.x,y:t.y-n.y},d=r.x-a.x,h=r.y-a.y,{lng:l,lat:c}=E(d,h);i=l,o=c}else{const t=[this.dragPosition[0]-s[0],this.dragPosition[1]-s[1]];i=e[0]-t[0],o=e[1]-t[1]}if(i=I(i,this.config.coordinatePrecision),o=I(o,this.config.coordinatePrecision),i>180||i<-180||o>90||o<-90)return!1;n[t]=[i,o]}\"Polygon\"===o.type&&(n[n.length-1]=[n[0][0],n[0][1]]);const a=this.selectionPoints.getUpdated(n)||[],d=this.midPoints.getUpdated(n)||[],h=this.coordinatePoints.getUpdated(this.draggedFeatureId,n)||[];if(i&&!i({type:\"Feature\",id:this.draggedFeatureId,geometry:o,properties:{}},{project:this.config.project,unproject:this.config.unproject,coordinatePrecision:this.config.coordinatePrecision,updateType:e.Provisional}).valid)return!1;this.store.updateGeometry([{id:this.draggedFeatureId,geometry:o},...a,...d,...h]),this.dragPosition=[t.lng,t.lat]}else\"Point\"===o.type&&(this.store.updateGeometry([{id:this.draggedFeatureId,geometry:{type:\"Point\",coordinates:s}}]),this.dragPosition=[t.lng,t.lat])}}class zt extends H{constructor(t,e,i,o,s,n){super(t),this.config=void 0,this.pixelDistance=void 0,this.selectionPoints=void 0,this.midPoints=void 0,this.coordinatePoints=void 0,this.coordinateSnapping=void 0,this.draggedCoordinate={id:null,index:-1},this.config=t,this.pixelDistance=e,this.selectionPoints=i,this.midPoints=o,this.coordinatePoints=s,this.coordinateSnapping=n}getClosestCoordinate(t,e){const i={dist:Infinity,index:-1,isFirstOrLastPolygonCoord:!1};let o;if(\"LineString\"===e.type)o=e.coordinates;else{if(\"Polygon\"!==e.type)return i;o=e.coordinates[0]}for(let s=0;s<o.length;s++){const n=this.pixelDistance.measure(t,o[s]);if(n<this.pointerDistance&&n<i.dist){const t=\"Polygon\"===e.type&&(s===o.length-1||0===s);i.dist=n,i.index=t?0:s,i.isFirstOrLastPolygonCoord=t}}return i}getDraggableIndex(t,e){const i=this.store.getGeometryCopy(e),o=this.getClosestCoordinate(t,i);return-1===o.index?-1:o.index}drag(t,i,o,s){if(null===this.draggedCoordinate.id)return!1;const n=this.draggedCoordinate.index,r=this.store.getGeometryCopy(this.draggedCoordinate.id),a=this.store.getPropertiesCopy(this.draggedCoordinate.id),d=\"LineString\"===r.type?r.coordinates:r.coordinates[0],h=\"Polygon\"===r.type&&(n===d.length-1||0===n);let l=[t.lng,t.lat];if(s){let e;e=this.coordinateSnapping.getSnappable(t,t=>Boolean(t.properties&&t.properties.mode===a.mode&&t.id!==this.draggedCoordinate.id)).coordinate,e&&(l=e)}if(t.lng>180||t.lng<-180||t.lat>90||t.lat<-90)return!1;if(h){const t=d.length-1;d[0]=l,d[t]=l}else d[n]=l;const c=this.selectionPoints.getOneUpdated(n,l),u=c?[c]:[],p=this.midPoints.getUpdated(d)||[],g=this.coordinatePoints.getUpdated(this.draggedCoordinate.id,d)||[];return!(\"Point\"!==r.type&&!i&&b({type:\"Feature\",geometry:r,properties:{}})||o&&!o({type:\"Feature\",id:this.draggedCoordinate.id,geometry:r,properties:{}},{project:this.config.project,unproject:this.config.unproject,coordinatePrecision:this.config.coordinatePrecision,updateType:e.Provisional}).valid||(this.store.updateGeometry([{id:this.draggedCoordinate.id,geometry:r},...u,...p,...g]),0))}isDragging(){return null!==this.draggedCoordinate.id}startDragging(t,e){this.draggedCoordinate={id:t,index:e}}stopDragging(){this.draggedCoordinate={id:null,index:-1}}}function Yt(t){let e=0,i=0,o=0;return(\"Polygon\"===t.geometry.type?t.geometry.coordinates[0].slice(0,-1):t.geometry.coordinates).forEach(t=>{e+=t[0],i+=t[1],o++},!0),[e/o,i/o]}function Ht(t,e){t[0]+=t[0]-e[0]>180?-360:e[0]-t[0]>180?360:0;const i=f,o=e[1]*Math.PI/180,s=t[1]*Math.PI/180,n=s-o;let r=Math.abs(t[0]-e[0])*Math.PI/180;r>Math.PI&&(r-=2*Math.PI);const a=Math.log(Math.tan(s/2+Math.PI/4)/Math.tan(o/2+Math.PI/4)),d=Math.abs(a)>1e-11?n/a:Math.cos(o);return Math.sqrt(n*n+d*d*r*r)*i}function qt(t){const e=(\"Polygon\"===t.geometry.type?t.geometry.coordinates[0]:t.geometry.coordinates).map(t=>{const{x:e,y:i}=F(t[0],t[1]);return[e,i]});return\"Polygon\"===t.geometry.type?function(t){let e=0,i=0,o=0;const s=t.length;for(let n=0;n<s-1;n++){const[s,r]=t[n],[a,d]=t[n+1],h=s*d-a*r;e+=h,i+=(s+a)*h,o+=(r+d)*h}return e/=2,i/=6*e,o/=6*e,{x:i,y:o}}(e):function(t){const e=t.length;let i=0,o=0;for(let s=0;s<e;s++){const[e,n]=t[s];i+=e,o+=n}return{x:i/e,y:o/e}}(e)}class $t extends H{constructor(t,e,i,o){super(t),this.config=void 0,this.selectionPoints=void 0,this.midPoints=void 0,this.coordinatePoints=void 0,this.lastBearing=void 0,this.config=t,this.selectionPoints=e,this.midPoints=i,this.coordinatePoints=o}reset(){this.lastBearing=void 0}rotate(t,i,o){const s=this.store.getGeometryCopy(i);if(\"Polygon\"!==s.type&&\"LineString\"!==s.type)return;const n=[t.lng,t.lat];let r;const a={type:\"Feature\",geometry:s,properties:{}};if(\"web-mercator\"===this.config.projection){if(r=it(qt(a),F(t.lng,t.lat)),!this.lastBearing)return void(this.lastBearing=r);((t,e)=>{if(0===e||360===e||-360===e)return t;const i=.017453292519943295*e,o=(\"Polygon\"===t.geometry.type?t.geometry.coordinates[0]:t.geometry.coordinates).map(([t,e])=>F(t,e)),s=o.reduce((t,e)=>({x:t.x+e.x,y:t.y+e.y}),{x:0,y:0});s.x/=o.length,s.y/=o.length;const n=o.map(t=>({x:s.x+(t.x-s.x)*Math.cos(i)-(t.y-s.y)*Math.sin(i),y:s.y+(t.x-s.x)*Math.sin(i)+(t.y-s.y)*Math.cos(i)})).map(({x:t,y:e})=>[E(t,e).lng,E(t,e).lat]);\"Polygon\"===t.geometry.type?t.geometry.coordinates[0]=n:t.geometry.coordinates=n})(a,-(this.lastBearing-r))}else{if(\"globe\"!==this.config.projection)throw new Error(\"Unsupported projection\");if(r=Bt(Yt({type:\"Feature\",geometry:s,properties:{}}),n),!this.lastBearing)return void(this.lastBearing=r+180);!function(t,e){if(0===e||360===e||-360===e)return t;const i=Yt(t);(\"Polygon\"===t.geometry.type?t.geometry.coordinates[0]:t.geometry.coordinates).forEach(t=>{const o=Bt(i,t)+e,s=Ht(i,t),n=Nt(i,s,o);t[0]=n[0],t[1]=n[1]})}(a,-(this.lastBearing-(r+180)))}const d=\"Polygon\"===s.type?s.coordinates[0]:s.coordinates;d.forEach(t=>{t[0]=I(t[0],this.coordinatePrecision),t[1]=I(t[1],this.coordinatePrecision)});const h=this.midPoints.getUpdated(d)||[],l=this.selectionPoints.getUpdated(d)||[],c=this.coordinatePoints.getUpdated(i,d)||[];if(o&&!o({id:i,type:\"Feature\",geometry:s,properties:{}},{project:this.config.project,unproject:this.config.unproject,coordinatePrecision:this.config.coordinatePrecision,updateType:e.Provisional}))return!1;this.store.updateGeometry([{id:i,geometry:s},...l,...h,...c]),\"web-mercator\"===this.projection?this.lastBearing=r:\"globe\"===this.projection&&(this.lastBearing=r+180)}}class Zt extends H{constructor(t,e,i,o){super(t),this.config=void 0,this.selectionPoints=void 0,this.midPoints=void 0,this.coordinatePoints=void 0,this.lastDistance=void 0,this.config=t,this.selectionPoints=e,this.midPoints=i,this.coordinatePoints=o}reset(){this.lastDistance=void 0}scale(t,i,o){const s=this.store.getGeometryCopy(i);if(\"Polygon\"!==s.type&&\"LineString\"!==s.type)return;const n=[t.lng,t.lat],r={type:\"Feature\",geometry:s,properties:{}};let a;const d=qt(r);if(\"web-mercator\"===this.config.projection){const e=F(t.lng,t.lat);a=R(d,e)}else{if(\"globe\"!==this.config.projection)throw new Error(\"Invalid projection\");a=m(Yt({type:\"Feature\",geometry:s,properties:{}}),n)}if(!this.lastDistance)return void(this.lastDistance=a);const h=1-(this.lastDistance-a)/a;if(\"web-mercator\"===this.config.projection){const{lng:t,lat:e}=E(d.x,d.y);!function(t,e,i){if(1===e)return t;const o=(\"Polygon\"===t.geometry.type?t.geometry.coordinates[0]:t.geometry.coordinates).map(([t,e])=>F(t,e)),s=F(i[0],i[1]),n=o.map(t=>({x:s.x+(t.x-s.x)*e,y:s.y+(t.y-s.y)*e})).map(({x:t,y:e})=>[E(t,e).lng,E(t,e).lat]);\"Polygon\"===t.geometry.type?t.geometry.coordinates[0]=n:t.geometry.coordinates=n}(r,h,[t,e])}else\"globe\"===this.config.projection&&function(t,e,i,o=\"xy\"){1===e||(\"Polygon\"===t.geometry.type?t.geometry.coordinates[0]:t.geometry.coordinates).forEach(t=>{const s=Ht(i,t),n=Bt(i,t),r=Nt(i,s*e,n);\"x\"!==o&&\"xy\"!==o||(t[0]=r[0]),\"y\"!==o&&\"xy\"!==o||(t[1]=r[1])})}(r,h,Yt(r));const l=\"Polygon\"===s.type?s.coordinates[0]:s.coordinates;l.forEach(t=>{t[0]=I(t[0],this.coordinatePrecision),t[1]=I(t[1],this.coordinatePrecision)});const c=this.midPoints.getUpdated(l)||[],u=this.selectionPoints.getUpdated(l)||[],p=this.coordinatePoints.getUpdated(i,l)||[];if(o&&!o({id:i,type:\"Feature\",geometry:s,properties:{}},{project:this.config.project,unproject:this.config.unproject,coordinatePrecision:this.config.coordinatePrecision,updateType:e.Provisional}))return!1;this.store.updateGeometry([{id:i,geometry:s},...u,...c,...p]),this.lastDistance=a}}class Jt extends H{constructor(t,e,i,o,s){super(t),this.config=void 0,this.pixelDistance=void 0,this.selectionPoints=void 0,this.midPoints=void 0,this.coordinatePoints=void 0,this.minimumScale=1e-4,this.draggedCoordinate={id:null,index:-1},this.boundingBoxMaps={opposite:{0:4,1:5,2:6,3:7,4:0,5:1,6:2,7:3}},this.config=t,this.pixelDistance=e,this.selectionPoints=i,this.midPoints=o,this.coordinatePoints=s}getClosestCoordinate(t,e){const i={dist:Infinity,index:-1,isFirstOrLastPolygonCoord:!1};let o;if(\"LineString\"===e.type)o=e.coordinates;else{if(\"Polygon\"!==e.type)return i;o=e.coordinates[0]}for(let s=0;s<o.length;s++){const n=this.pixelDistance.measure(t,o[s]);if(n<this.pointerDistance&&n<i.dist){const t=\"Polygon\"===e.type&&(s===o.length-1||0===s);i.dist=n,i.index=t?0:s,i.isFirstOrLastPolygonCoord=t}}return i}isValidDragWebMercator(t,e,i){switch(t){case 0:if(e<=0||i>=0)return!1;break;case 1:if(i>=0)return!1;break;case 2:if(e>=0||i>=0)return!1;break;case 3:if(e>=0)return!1;break;case 4:if(e>=0||i<=0)return!1;break;case 5:if(i<=0)return!1;break;case 6:if(e<=0||i<=0)return!1;break;case 7:if(e<=0)return!1}return!0}getSelectedFeatureDataWebMercator(){if(!this.draggedCoordinate.id||-1===this.draggedCoordinate.index)return null;const t=this.getFeature(this.draggedCoordinate.id);if(!t)return null;const e=this.getNormalisedCoordinates(t.geometry);return{boundingBox:this.getBBoxWebMercator(e),feature:t,updatedCoords:e,selectedCoordinate:e[this.draggedCoordinate.index]}}centerWebMercatorDrag(t){const e=this.getSelectedFeatureDataWebMercator();if(!e)return null;const{feature:i,boundingBox:o,updatedCoords:s,selectedCoordinate:n}=e,r=qt(i);if(!r)return null;const a=F(n[0],n[1]),{closestBBoxIndex:d}=this.getIndexesWebMercator(o,a),h=F(t.lng,t.lat);return this.scaleWebMercator({closestBBoxIndex:d,updatedCoords:s,webMercatorCursor:h,webMercatorSelected:a,webMercatorOrigin:r}),s}centerFixedWebMercatorDrag(t){const e=this.getSelectedFeatureDataWebMercator();if(!e)return null;const{feature:i,boundingBox:o,updatedCoords:s,selectedCoordinate:n}=e,r=qt(i);if(!r)return null;const a=F(n[0],n[1]),{closestBBoxIndex:d}=this.getIndexesWebMercator(o,a),h=F(t.lng,t.lat);return this.scaleFixedWebMercator({closestBBoxIndex:d,updatedCoords:s,webMercatorCursor:h,webMercatorSelected:a,webMercatorOrigin:r}),s}scaleFixedWebMercator({closestBBoxIndex:t,webMercatorOrigin:e,webMercatorSelected:i,webMercatorCursor:o,updatedCoords:s}){if(!this.isValidDragWebMercator(t,e.x-o.x,e.y-o.y))return null;let n=R(e,o)/R(e,i);return n<0&&(n=this.minimumScale),this.performWebMercatorScale(s,e.x,e.y,n,n),s}oppositeFixedWebMercatorDrag(t){const e=this.getSelectedFeatureDataWebMercator();if(!e)return null;const{boundingBox:i,updatedCoords:o,selectedCoordinate:s}=e,n=F(s[0],s[1]),{oppositeBboxIndex:r,closestBBoxIndex:a}=this.getIndexesWebMercator(i,n),d={x:i[r][0],y:i[r][1]},h=F(t.lng,t.lat);return this.scaleFixedWebMercator({closestBBoxIndex:a,updatedCoords:o,webMercatorCursor:h,webMercatorSelected:n,webMercatorOrigin:d}),o}oppositeWebMercatorDrag(t){const e=this.getSelectedFeatureDataWebMercator();if(!e)return null;const{boundingBox:i,updatedCoords:o,selectedCoordinate:s}=e,n=F(s[0],s[1]),{oppositeBboxIndex:r,closestBBoxIndex:a}=this.getIndexesWebMercator(i,n),d={x:i[r][0],y:i[r][1]},h=F(t.lng,t.lat);return this.scaleWebMercator({closestBBoxIndex:a,updatedCoords:o,webMercatorCursor:h,webMercatorSelected:n,webMercatorOrigin:d}),o}scaleWebMercator({closestBBoxIndex:t,webMercatorOrigin:e,webMercatorSelected:i,webMercatorCursor:o,updatedCoords:s}){const n=e.x-o.x,r=e.y-o.y;if(!this.isValidDragWebMercator(t,n,r))return null;let a=1;0!==n&&1!==t&&5!==t&&(a=1-(e.x-i.x-n)/n);let d=1;return 0!==r&&3!==t&&7!==t&&(d=1-(e.y-i.y-r)/r),this.validateScale(a,d)?(a<0&&(a=this.minimumScale),d<0&&(d=this.minimumScale),this.performWebMercatorScale(s,e.x,e.y,a,d),s):null}getFeature(t){if(null===this.draggedCoordinate.id)return null;const e=this.store.getGeometryCopy(t);return\"Polygon\"!==e.type&&\"LineString\"!==e.type?null:{id:t,type:\"Feature\",geometry:e,properties:{}}}getNormalisedCoordinates(t){return\"Polygon\"===t.type?t.coordinates[0]:t.coordinates}validateScale(t,e){const i=!isNaN(t)&&e<Number.MAX_SAFE_INTEGER,o=!isNaN(e)&&e<Number.MAX_SAFE_INTEGER;return i&&o}performWebMercatorScale(t,e,i,o,s){t.forEach(t=>{const{x:n,y:r}=F(t[0],t[1]),a=e+(n-e)*o,d=i+(r-i)*s,{lng:h,lat:l}=E(a,d);t[0]=h,t[1]=l})}getBBoxWebMercator(t){const e=[Infinity,Infinity,-Infinity,-Infinity];(t=t.map(t=>{const{x:e,y:i}=F(t[0],t[1]);return[e,i]})).forEach(([t,i])=>{t<e[0]&&(e[0]=t),i<e[1]&&(e[1]=i),t>e[2]&&(e[2]=t),i>e[3]&&(e[3]=i)});const[i,o,s,n]=e;return[[i,n],[(i+s)/2,n],[s,n],[s,n+(o-n)/2],[s,o],[(i+s)/2,o],[i,o],[i,n+(o-n)/2]]}getIndexesWebMercator(t,e){let i,o=Infinity;for(let s=0;s<t.length;s++){const n=R({x:e.x,y:e.y},{x:t[s][0],y:t[s][1]});n<o&&(i=s,o=n)}if(void 0===i)throw new Error(\"No closest coordinate found\");return{oppositeBboxIndex:this.boundingBoxMaps.opposite[i],closestBBoxIndex:i}}isDragging(){return null!==this.draggedCoordinate.id}startDragging(t,e){this.draggedCoordinate={id:t,index:e}}stopDragging(){this.draggedCoordinate={id:null,index:-1}}getDraggableIndex(t,e){const i=this.store.getGeometryCopy(e),o=this.getClosestCoordinate(t,i);return-1===o.index?-1:o.index}drag(t,i,o){if(!this.draggedCoordinate.id)return!1;const s=this.getFeature(this.draggedCoordinate.id);if(!s)return!1;let n=null;if(\"center\"===i?n=this.centerWebMercatorDrag(t):\"opposite\"===i?n=this.oppositeWebMercatorDrag(t):\"center-fixed\"===i?n=this.centerFixedWebMercatorDrag(t):\"opposite-fixed\"===i&&(n=this.oppositeFixedWebMercatorDrag(t)),!n)return!1;for(let t=0;t<n.length;t++){const e=n[t];if(e[0]=I(e[0],this.coordinatePrecision),e[1]=I(e[1],this.coordinatePrecision),!O(e,this.coordinatePrecision))return!1}const r=this.midPoints.getUpdated(n)||[],a=this.selectionPoints.getUpdated(n)||[],d=this.coordinatePoints.getUpdated(s.id,n)||[],h={type:s.geometry.type,coordinates:\"Polygon\"===s.geometry.type?[n]:n};return!(o&&!o({id:this.draggedCoordinate.id,type:\"Feature\",geometry:h,properties:{}},{project:this.config.project,unproject:this.config.unproject,coordinatePrecision:this.config.coordinatePrecision,updateType:e.Provisional}).valid||(this.store.updateGeometry([{id:this.draggedCoordinate.id,geometry:h},...a,...r,...d]),0))}}const Qt={deselect:\"Escape\",delete:\"Delete\",rotate:[\"Control\",\"r\"],scale:[\"Control\",\"s\"]},te={pointerOver:\"move\",dragStart:\"move\",dragEnd:\"move\",insertMidpoint:\"crosshair\"};class ee extends y{constructor(t){super(t,!0),this.mode=\"select\",this.allowManualDeselection=!0,this.dragEventThrottle=5,this.dragEventCount=0,this.selected=[],this.flags={},this.keyEvents=Qt,this.cursors=te,this.validations={},this.selectionPoints=void 0,this.midPoints=void 0,this.coordinateSnap=void 0,this.featuresAtMouseEvent=void 0,this.pixelDistance=void 0,this.clickBoundingBox=void 0,this.dragFeature=void 0,this.dragCoordinate=void 0,this.rotateFeature=void 0,this.scaleFeature=void 0,this.dragCoordinateResizeFeature=void 0,this.coordinatePoints=void 0,this.updateOptions(t)}updateOptions(e){if(super.updateOptions(e),this.cursors=e&&e.cursors?t({},this.cursors,e.cursors):te,null===(null==e?void 0:e.keyEvents)?this.keyEvents={deselect:null,delete:null,rotate:null,scale:null}:null!=e&&e.keyEvents&&(this.keyEvents=t({},this.keyEvents,e.keyEvents)),void 0!==(null==e?void 0:e.dragEventThrottle)&&(this.dragEventThrottle=e.dragEventThrottle),void 0!==(null==e?void 0:e.allowManualDeselection)&&(this.allowManualDeselection=e.allowManualDeselection),null!=e&&e.flags){this.flags=t({},this.flags,e.flags),this.validations={};for(const t in this.flags){const e=this.flags[t].feature;e&&e.validation&&(this.validations[t]=e.validation)}}}createOrUpdateCoordinatePoint(t){const e=this.store.getPropertiesCopy(t);e.coordinatePointIds&&this.store.delete(e.coordinatePointIds);const i=this.store.getGeometryCopy(t),o=this.store.create(i.coordinates[0].map(t=>({geometry:{type:\"Point\",coordinates:t},properties:{mode:this.mode,[r]:!0}})));this.store.updateProperty([{id:t,property:\"coordinatePointIds\",value:o}])}selectFeature(t){this.select(t,!1)}setSelecting(){if(\"started\"!==this._state)throw new Error(\"Mode must be started to move to selecting state\");this._state=\"selecting\"}registerBehaviors(t){this.pixelDistance=new Z(t),this.clickBoundingBox=new $(t),this.featuresAtMouseEvent=new Kt(t,this.clickBoundingBox,this.pixelDistance),this.selectionPoints=new Ut(t),this.coordinatePoints=new Dt(t),this.midPoints=new Tt(t,this.selectionPoints,this.coordinatePoints),this.coordinateSnap=new J(t,this.pixelDistance,this.clickBoundingBox),this.rotateFeature=new $t(t,this.selectionPoints,this.midPoints,this.coordinatePoints),this.scaleFeature=new Zt(t,this.selectionPoints,this.midPoints,this.coordinatePoints),this.dragFeature=new Xt(t,this.featuresAtMouseEvent,this.selectionPoints,this.midPoints,this.coordinatePoints),this.dragCoordinate=new zt(t,this.pixelDistance,this.selectionPoints,this.midPoints,this.coordinatePoints,this.coordinateSnap),this.dragCoordinateResizeFeature=new Jt(t,this.pixelDistance,this.selectionPoints,this.midPoints,this.coordinatePoints)}deselectFeature(){this.deselect()}deselect(){const t=this.selected.filter(t=>this.store.has(t)).map(t=>({id:t,property:i.SELECTED,value:!1}));this.store.updateProperty(t),this.onDeselect(this.selected[0]),this.selected=[],this.selectionPoints.delete(),this.midPoints.delete()}deleteSelected(){this.store.delete(this.selected),this.selected=[]}onRightClick(t){if(!this.selectionPoints.ids.length)return;let i,o=Infinity;if(this.selectionPoints.ids.forEach(e=>{const s=this.store.getGeometryCopy(e),n=this.pixelDistance.measure(t,s.coordinates);n<this.pointerDistance&&n<o&&(o=n,i=this.store.getPropertiesCopy(e))}),!i)return;const s=i.selectionPointFeatureId,n=i.index,r=this.store.getPropertiesCopy(s),a=this.flags[r.mode],d=this.validations[r.mode];if(!(a&&a.feature&&a.feature.coordinates&&a.feature.coordinates.deletable))return;const h=this.store.getGeometryCopy(s);let l;if(\"Polygon\"===h.type){if(l=h.coordinates[0],l.length<=4)return}else if(\"LineString\"===h.type&&(l=h.coordinates,l.length<=2))return;if(!l)return;if(\"Polygon\"!==h.type||0!==n&&n!==l.length-1?l.splice(n,1):(l.shift(),l.pop(),l.push([l[0][0],l[0][1]])),d&&!d({id:s,type:\"Feature\",geometry:h,properties:r},{project:this.project,unproject:this.unproject,coordinatePrecision:this.coordinatePrecision,updateType:e.Commit}).valid)return;const c=[...this.midPoints.ids,...this.selectionPoints.ids];this.store.delete(c),this.store.updateGeometry([{id:s,geometry:h}]),r.coordinatePointIds&&this.coordinatePoints.createOrUpdate(s),this.selectionPoints.create(l,h.type,s),a&&a.feature&&a.feature.coordinates&&a.feature.coordinates.midpoints&&this.midPoints.create(l,s,this.coordinatePrecision)}select(t,e=!0){if(this.selected[0]===t)return;const{mode:o}=this.store.getPropertiesCopy(t),s=this.flags[o];if(!s||!s.feature)return;const n=this.selected[0];if(n){if(n===t)return;this.deselect()}e&&this.setCursor(this.cursors.pointerOver),this.selected=[t],this.store.updateProperty([{id:t,property:i.SELECTED,value:!0}]),this.onSelect(t);const{type:r,coordinates:a}=this.store.getGeometryCopy(t);if(\"LineString\"!==r&&\"Polygon\"!==r)return;const d=\"LineString\"===r?a:a[0];d&&s&&s.feature.coordinates&&(this.selectionPoints.create(d,r,t),s.feature.coordinates.midpoints&&this.midPoints.create(d,t,this.coordinatePrecision))}onLeftClick(t){const{clickedFeature:e,clickedMidPoint:i}=this.featuresAtMouseEvent.find(t,this.selected.length>0);if(this.selected.length&&i)this.midPoints.insert(this.selected[0],i.id,this.coordinatePrecision);else if(e&&e.id)this.select(e.id,!0);else if(this.selected.length&&this.allowManualDeselection)return void this.deselect()}start(){this.setStarted(),this.setSelecting()}stop(){this.cleanUp(),this.setStarted(),this.setStopped()}onClick(t){\"right\"!==t.button?\"left\"===t.button&&this.onLeftClick(t):this.onRightClick(t)}canScale(t){return this.keyEvents.scale&&this.keyEvents.scale.every(e=>t.heldKeys.includes(e))}canRotate(t){return this.keyEvents.rotate&&this.keyEvents.rotate.every(e=>t.heldKeys.includes(e))}preventDefaultKeyEvent(t){const e=this.canRotate(t),i=this.canScale(t);(e||i)&&t.preventDefault()}onKeyDown(t){this.preventDefaultKeyEvent(t)}onKeyUp(t){if(this.preventDefaultKeyEvent(t),this.keyEvents.delete&&t.key===this.keyEvents.delete){if(!this.selected.length)return;this.onDeselect(this.selected[0]),this.deleteSelected(),this.selectionPoints.delete(),this.midPoints.delete()}else this.keyEvents.deselect&&t.key===this.keyEvents.deselect&&this.cleanUp()}cleanUp(){this.selected.length&&this.deselect()}onDragStart(t,e){if(!this.selected.length)return;const i=this.store.getPropertiesCopy(this.selected[0]),o=this.flags[i.mode];if(!(o&&o.feature&&(o.feature.draggable||o.feature.coordinates&&o.feature.coordinates.draggable||o.feature.coordinates&&o.feature.coordinates.resizable||o.feature.coordinates&&\"object\"==typeof o.feature.coordinates.midpoints&&o.feature.coordinates.midpoints.draggable)))return;this.dragEventCount=0;const s=this.selected[0],n=this.dragCoordinate.getDraggableIndex(t,s);if(o&&o.feature&&o.feature.coordinates&&(o.feature.coordinates.draggable||o.feature.coordinates.resizable)&&-1!==n)return this.setCursor(this.cursors.dragStart),o.feature.coordinates.resizable?this.dragCoordinateResizeFeature.startDragging(s,n):this.dragCoordinate.startDragging(s,n),void e(!1);if(o&&o.feature&&o.feature.coordinates&&\"object\"==typeof o.feature.coordinates.midpoints&&o.feature.coordinates.midpoints.draggable){const{clickedMidPoint:i}=this.featuresAtMouseEvent.find(t,this.selected.length>0);if(this.selected.length&&i){this.midPoints.insert(s,i.id,this.coordinatePrecision);const o=this.dragCoordinate.getDraggableIndex(t,s);return this.dragCoordinate.startDragging(s,o),void e(!1)}}return o&&o.feature&&o.feature.draggable&&this.dragFeature.canDrag(t,s)?(this.setCursor(this.cursors.dragStart),this.dragFeature.startDragging(t,s),void e(!1)):void 0}onDrag(t,e){const i=this.selected[0];if(!i)return;const o=this.store.getPropertiesCopy(i),s=this.flags[o.mode],n=!0===(s&&s.feature&&s.feature.selfIntersectable);if(this.dragEventCount++,this.dragEventCount%this.dragEventThrottle==0)return;const r=this.validations[o.mode];if(s&&s.feature&&s.feature.rotateable&&this.canRotate(t))return e(!1),void this.rotateFeature.rotate(t,i,r);if(s&&s.feature&&s.feature.scaleable&&this.canScale(t))return e(!1),void this.scaleFeature.scale(t,i,r);if(this.dragCoordinateResizeFeature.isDragging()&&s.feature&&s.feature.coordinates&&s.feature.coordinates.resizable){if(\"globe\"===this.projection)throw new Error(\"Globe is currently unsupported projection for resizable\");return e(!1),void this.dragCoordinateResizeFeature.drag(t,s.feature.coordinates.resizable,r)}if(this.dragCoordinate.isDragging()){var a;const e=Boolean(null==(a=s.feature)||null==(a=a.coordinates)?void 0:a.snappable);this.dragCoordinate.drag(t,n,r,e)}else this.dragFeature.isDragging()?this.dragFeature.drag(t,r):e(!0)}onDragEnd(t,e){this.setCursor(this.cursors.dragEnd),this.dragCoordinate.isDragging()?this.onFinish(this.selected[0],{mode:this.mode,action:\"dragCoordinate\"}):this.dragFeature.isDragging()?this.onFinish(this.selected[0],{mode:this.mode,action:\"dragFeature\"}):this.dragCoordinateResizeFeature.isDragging()&&this.onFinish(this.selected[0],{mode:this.mode,action:\"dragCoordinateResize\"}),this.dragCoordinate.stopDragging(),this.dragFeature.stopDragging(),this.dragCoordinateResizeFeature.stopDragging(),this.rotateFeature.reset(),this.scaleFeature.reset(),e(!0)}onMouseMove(t){if(!this.selected.length)return void this.setCursor(\"unset\");if(this.dragFeature.isDragging())return;let e=!1;this.midPoints.ids.forEach(i=>{if(e)return;const o=this.store.getGeometryCopy(i);this.pixelDistance.measure(t,o.coordinates)<this.pointerDistance&&(e=!0)});let i=!1;if(this.selectionPoints.ids.forEach(o=>{const s=this.store.getGeometryCopy(o);this.pixelDistance.measure(t,s.coordinates)<this.pointerDistance&&(e=!1,i=!0)}),e)return void this.setCursor(this.cursors.insertMidpoint);const{clickedFeature:o}=this.featuresAtMouseEvent.find(t,!0);this.setCursor(this.selected.length>0&&(o&&o.id===this.selected[0]||i)?this.cursors.pointerOver:\"unset\")}styleFeature(e){const o=t({},{polygonFillColor:\"#3f97e0\",polygonOutlineColor:\"#3f97e0\",polygonOutlineWidth:4,polygonFillOpacity:.3,pointColor:\"#3f97e0\",pointOutlineColor:\"#ffffff\",pointOutlineWidth:0,pointWidth:6,lineStringColor:\"#3f97e0\",lineStringWidth:4,zIndex:0});if(e.properties.mode===this.mode&&\"Point\"===e.geometry.type){if(e.properties.selectionPoint)return o.pointColor=this.getHexColorStylingValue(this.styles.selectionPointColor,o.pointColor,e),o.pointOutlineColor=this.getHexColorStylingValue(this.styles.selectionPointOutlineColor,o.pointOutlineColor,e),o.pointWidth=this.getNumericStylingValue(this.styles.selectionPointWidth,o.pointWidth,e),o.pointOutlineWidth=this.getNumericStylingValue(this.styles.selectionPointOutlineWidth,2,e),o.zIndex=30,o;if(e.properties.midPoint)return o.pointColor=this.getHexColorStylingValue(this.styles.midPointColor,o.pointColor,e),o.pointOutlineColor=this.getHexColorStylingValue(this.styles.midPointOutlineColor,o.pointOutlineColor,e),o.pointWidth=this.getNumericStylingValue(this.styles.midPointWidth,4,e),o.pointOutlineWidth=this.getNumericStylingValue(this.styles.midPointOutlineWidth,2,e),o.zIndex=40,o}else if(e.properties[i.SELECTED]){if(\"Polygon\"===e.geometry.type)return o.polygonFillColor=this.getHexColorStylingValue(this.styles.selectedPolygonColor,o.polygonFillColor,e),o.polygonOutlineWidth=this.getNumericStylingValue(this.styles.selectedPolygonOutlineWidth,o.polygonOutlineWidth,e),o.polygonOutlineColor=this.getHexColorStylingValue(this.styles.selectedPolygonOutlineColor,o.polygonOutlineColor,e),o.polygonFillOpacity=this.getNumericStylingValue(this.styles.selectedPolygonFillOpacity,o.polygonFillOpacity,e),o.zIndex=10,o;if(\"LineString\"===e.geometry.type)return o.lineStringColor=this.getHexColorStylingValue(this.styles.selectedLineStringColor,o.lineStringColor,e),o.lineStringWidth=this.getNumericStylingValue(this.styles.selectedLineStringWidth,o.lineStringWidth,e),o.zIndex=10,o;if(\"Point\"===e.geometry.type)return o.pointWidth=this.getNumericStylingValue(this.styles.selectedPointWidth,o.pointWidth,e),o.pointColor=this.getHexColorStylingValue(this.styles.selectedPointColor,o.pointColor,e),o.pointOutlineColor=this.getHexColorStylingValue(this.styles.selectedPointOutlineColor,o.pointOutlineColor,e),o.pointOutlineWidth=this.getNumericStylingValue(this.styles.selectedPointOutlineWidth,o.pointOutlineWidth,e),o.zIndex=10,o}return o}}class ie extends g{constructor(...t){super(...t),this.type=p.Static,this.mode=\"static\"}start(){}stop(){}onKeyUp(){}onKeyDown(){}onClick(){}onDragStart(){}onDrag(){}onDragEnd(){}onMouseMove(){}cleanUp(){}styleFeature(){return t({},{polygonFillColor:\"#3f97e0\",polygonOutlineColor:\"#3f97e0\",polygonOutlineWidth:4,polygonFillOpacity:.3,pointColor:\"#3f97e0\",pointOutlineColor:\"#ffffff\",pointOutlineWidth:0,pointWidth:6,lineStringColor:\"#3f97e0\",lineStringWidth:4,zIndex:0})}}function oe(t,e,i,o,s){for(;o>i;){if(o-i>600){const n=o-i+1,r=e-i+1,a=Math.log(n),d=.5*Math.exp(2*a/3),h=.5*Math.sqrt(a*d*(n-d)/n)*(r-n/2<0?-1:1);oe(t,e,Math.max(i,Math.floor(e-r*d/n+h)),Math.min(o,Math.floor(e+(n-r)*d/n+h)),s)}const n=t[e];let r=i,a=o;for(se(t,i,e),s(t[o],n)>0&&se(t,i,o);r<a;){for(se(t,r,a),r++,a--;s(t[r],n)<0;)r++;for(;s(t[a],n)>0;)a--}0===s(t[i],n)?se(t,i,a):(a++,se(t,a,o)),a<=e&&(i=a+1),e<=a&&(o=a-1)}}function se(t,e,i){const o=t[e];t[e]=t[i],t[i]=o}function ne(t,e){re(t,0,t.children.length,e,t)}function re(t,e,i,o,s){s||(s=ye([])),s.minX=Infinity,s.minY=Infinity,s.maxX=-Infinity,s.maxY=-Infinity;for(let n=e;n<i;n++){const e=t.children[n];ae(s,t.leaf?o(e):e)}return s}function ae(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function de(t,e){return t.minX-e.minX}function he(t,e){return t.minY-e.minY}function le(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function ce(t){return t.maxX-t.minX+(t.maxY-t.minY)}function ue(t,e){const i=Math.max(t.minX,e.minX),o=Math.max(t.minY,e.minY),s=Math.min(t.maxX,e.maxX),n=Math.min(t.maxY,e.maxY);return Math.max(0,s-i)*Math.max(0,n-o)}function pe(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function ge(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function ye(t){return{children:t,height:1,leaf:!0,minX:Infinity,minY:Infinity,maxX:-Infinity,maxY:-Infinity}}function me(t,e,i,o,s){const n=[e,i];for(;n.length;){if((i=n.pop())-(e=n.pop())<=o)continue;const r=e+Math.ceil((i-e)/o/2)*o;oe(t,r,e,i,s),n.push(e,r,r,i)}}class fe{constructor(t){this._maxEntries=void 0,this._minEntries=void 0,this.data=void 0,this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()}search(t){let e=this.data;const i=[];if(!ge(t,e))return i;const o=this.toBBox,s=[];for(;e;){for(let n=0;n<e.children.length;n++){const r=e.children[n],a=e.leaf?o(r):r;ge(t,a)&&(e.leaf?i.push(r):pe(t,a)?this._all(r,i):s.push(r))}e=s.pop()}return i}collides(t){let e=this.data;if(ge(t,e)){const i=[];for(;e;){for(let o=0;o<e.children.length;o++){const s=e.children[o],n=e.leaf?this.toBBox(s):s;if(ge(t,n)){if(e.leaf||pe(t,n))return!0;i.push(s)}}e=i.pop()}}return!1}load(t){if(t.length<this._minEntries){for(let e=0;e<t.length;e++)this.insert(t[e]);return}let e=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===e.height)this._splitRoot(this.data,e);else{if(this.data.height<e.height){const t=this.data;this.data=e,e=t}this._insert(e,this.data.height-e.height-1,!0)}else this.data=e}insert(t){this._insert(t,this.data.height-1)}clear(){this.data=ye([])}remove(t){let e=this.data;const i=this.toBBox(t),o=[],s=[];let n,r,a=!1;for(;e||o.length;){if(e||(e=o.pop(),r=o[o.length-1],n=s.pop(),a=!0),e.leaf){const i=e.children.indexOf(t);-1!==i&&(e.children.splice(i,1),o.push(e),this._condense(o))}a||e.leaf||!pe(e,i)?r?(n++,e=r.children[n],a=!1):e=null:(o.push(e),s.push(n),n=0,r=e,e=e.children[0])}}toBBox(t){return t}compareMinX(t,e){return t.minX-e.minX}compareMinY(t,e){return t.minY-e.minY}_all(t,e){const i=[];for(;t;)t.leaf?e.push(...t.children):i.push(...t.children),t=i.pop();return e}_build(t,e,i,o){const s=i-e+1;let n,r=this._maxEntries;if(s<=r)return n=ye(t.slice(e,i+1)),ne(n,this.toBBox),n;o||(o=Math.ceil(Math.log(s)/Math.log(r)),r=Math.ceil(s/Math.pow(r,o-1))),n=ye([]),n.leaf=!1,n.height=o;const a=Math.ceil(s/r),d=a*Math.ceil(Math.sqrt(r));me(t,e,i,d,this.compareMinX);for(let s=e;s<=i;s+=d){const e=Math.min(s+d-1,i);me(t,s,e,a,this.compareMinY);for(let i=s;i<=e;i+=a){const s=Math.min(i+a-1,e);n.children.push(this._build(t,i,s,o-1))}}return ne(n,this.toBBox),n}_chooseSubtree(t,e,i,o){for(;o.push(e),!e.leaf&&o.length-1!==i;){let i,o=Infinity,r=Infinity;for(let a=0;a<e.children.length;a++){const d=e.children[a],h=le(d),l=(s=t,n=d,(Math.max(n.maxX,s.maxX)-Math.min(n.minX,s.minX))*(Math.max(n.maxY,s.maxY)-Math.min(n.minY,s.minY))-h);l<r?(r=l,o=h<o?h:o,i=d):l===r&&h<o&&(o=h,i=d)}e=i||e.children[0]}var s,n;return e}_insert(t,e,i){const o=i?t:this.toBBox(t),s=[],n=this._chooseSubtree(o,this.data,e,s);for(n.children.push(t),ae(n,o);e>=0&&s[e].children.length>this._maxEntries;)this._split(s,e),e--;this._adjustParentBBoxes(o,s,e)}_split(t,e){const i=t[e],o=i.children.length,s=this._minEntries;this._chooseSplitAxis(i,s,o);const n=this._chooseSplitIndex(i,s,o),r=ye(i.children.splice(n,i.children.length-n));r.height=i.height,r.leaf=i.leaf,ne(i,this.toBBox),ne(r,this.toBBox),e?t[e-1].children.push(r):this._splitRoot(i,r)}_splitRoot(t,e){this.data=ye([t,e]),this.data.height=t.height+1,this.data.leaf=!1,ne(this.data,this.toBBox)}_chooseSplitIndex(t,e,i){let o,s=Infinity,n=Infinity;for(let r=e;r<=i-e;r++){const e=re(t,0,r,this.toBBox),a=re(t,r,i,this.toBBox),d=ue(e,a),h=le(e)+le(a);d<s?(s=d,o=r,n=h<n?h:n):d===s&&h<n&&(n=h,o=r)}return o||i-e}_chooseSplitAxis(t,e,i){const o=t.leaf?this.compareMinX:de,s=t.leaf?this.compareMinY:he;this._allDistMargin(t,e,i,o)<this._allDistMargin(t,e,i,s)&&t.children.sort(o)}_allDistMargin(t,e,i,o){t.children.sort(o);const s=this.toBBox,n=re(t,0,e,s),r=re(t,i-e,i,s);let a=ce(n)+ce(r);for(let o=e;o<i-e;o++){const e=t.children[o];ae(n,t.leaf?s(e):e),a+=ce(n)}for(let o=i-e-1;o>=e;o--){const e=t.children[o];ae(r,t.leaf?s(e):e),a+=ce(r)}return a}_adjustParentBBoxes(t,e,i){for(let o=i;o>=0;o--)ae(e[o],t)}_condense(t){for(let e,i=t.length-1;i>=0;i--)0===t[i].children.length?i>0?(e=t[i-1].children,e.splice(e.indexOf(t[i]),1)):this.clear():ne(t[i],this.toBBox)}}class Ce{constructor(t){this.tree=void 0,this.idToNode=void 0,this.nodeToId=void 0,this.tree=new fe(t&&t.maxEntries?t.maxEntries:9),this.idToNode=new Map,this.nodeToId=new Map}setMaps(t,e){this.idToNode.set(t.id,e),this.nodeToId.set(e,t.id)}toBBox(t){const e=[],i=[];let o;if(\"Polygon\"===t.geometry.type)o=t.geometry.coordinates[0];else if(\"LineString\"===t.geometry.type)o=t.geometry.coordinates;else{if(\"Point\"!==t.geometry.type)throw new Error(\"Not a valid feature to turn into a bounding box\");o=[t.geometry.coordinates]}for(let t=0;t<o.length;t++)i.push(o[t][1]),e.push(o[t][0]);const s=Math.min(...i),n=Math.max(...i);return{minX:Math.min(...e),minY:s,maxX:Math.max(...e),maxY:n}}insert(t){if(this.idToNode.get(String(t.id)))throw new Error(\"Feature already exists\");const e=this.toBBox(t);this.setMaps(t,e),this.tree.insert(e)}load(t){const e=[],i=new Set;t.forEach(t=>{const o=this.toBBox(t);if(this.setMaps(t,o),i.has(String(t.id)))throw new Error(`Duplicate feature ID found ${t.id}`);i.add(String(t.id)),e.push(o)}),this.tree.load(e)}update(t){this.remove(t.id);const e=this.toBBox(t);this.setMaps(t,e),this.tree.insert(e)}remove(t){const e=this.idToNode.get(t);if(!e)throw new Error(`${t} not inserted into the spatial index`);this.tree.remove(e)}clear(){this.tree.clear()}search(t){return this.tree.search(this.toBBox(t)).map(t=>this.nodeToId.get(t))}collides(t){return this.tree.collides(this.toBBox(t))}}const ve={getId:()=>\"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g,function(t){const e=16*Math.random()|0;return(\"x\"==t?e:3&e|8).toString(16)}),isValidId:t=>\"string\"==typeof t&&36===t.length};class Pe{constructor(t){this.idStrategy=void 0,this.tracked=void 0,this.spatialIndex=void 0,this.store=void 0,this._onChange=()=>{},this.store={},this.spatialIndex=new Ce,this.tracked=!t||!1!==t.tracked,this.idStrategy=t&&t.idStrategy?t.idStrategy:ve}clone(t){return JSON.parse(JSON.stringify(t))}getId(){return this.idStrategy.getId()}has(t){return Boolean(this.store[t])}load(t,e,i){if(0===t.length)return[];let o=this.clone(t);const s=[],n=[];return o=o.filter(t=>{null==t.id&&(t.id=this.idStrategy.getId());const o=t.id;if(e){const i=e(t);if(!i.valid)return n.push({id:o,valid:!1,reason:i.reason}),!1}if(this.tracked){if(t.properties.createdAt){if(!l(t.properties.createdAt))return n.push({id:t.id,valid:!1,reason:\"createdAt is not a valid numeric timestamp\"}),!1}else t.properties.createdAt=+new Date;if(t.properties.updatedAt){if(!l(t.properties.updatedAt))return n.push({id:t.id,valid:!1,reason:\"updatedAt is not a valid numeric timestamp\"}),!1}else t.properties.updatedAt=+new Date}return this.has(o)?(n.push({id:o,valid:!1,reason:`Feature already exists with this id: ${o}`}),!1):(this.store[o]=t,s.push(o),i&&i(t),n.push({id:o,valid:!0}),!0)}),this.spatialIndex.load(o),this._onChange(s,\"create\"),n}search(t,e){const i=this.spatialIndex.search(t).map(t=>this.store[t]);return this.clone(e?i.filter(e):i)}registerOnChange(t){this._onChange=(e,i)=>{t(e,i)}}getGeometryCopy(t){const e=this.store[t];if(!e)throw new Error(`No feature with this id (${t}), can not get geometry copy`);return this.clone(e.geometry)}getPropertiesCopy(t){const e=this.store[t];if(!e)throw new Error(`No feature with this id (${t}), can not get properties copy`);return this.clone(e.properties)}updateProperty(t){const e=[];t.forEach(({id:t,property:i,value:o})=>{const s=this.store[t];if(!s)throw new Error(`No feature with this (${t}), can not update geometry`);e.push(t),s.properties[i]=o,this.tracked&&(s.properties.updatedAt=+new Date)}),this._onChange&&this._onChange(e,\"update\")}updateGeometry(t){const e=[];t.forEach(({id:t,geometry:i})=>{e.push(t);const o=this.store[t];if(!o)throw new Error(`No feature with this (${t}), can not update geometry`);o.geometry=this.clone(i),this.spatialIndex.update(o),this.tracked&&(o.properties.updatedAt=+new Date)}),this._onChange&&this._onChange(e,\"update\")}create(e){const i=[];return e.forEach(({geometry:e,properties:o})=>{let s,n=t({},o);this.tracked&&(s=+new Date,o?(n.createdAt=\"number\"==typeof o.createdAt?o.createdAt:s,n.updatedAt=\"number\"==typeof o.updatedAt?o.updatedAt:s):n={createdAt:s,updatedAt:s});const r=this.getId(),a={id:r,type:\"Feature\",geometry:e,properties:n};this.store[r]=a,this.spatialIndex.insert(a),i.push(r)}),this._onChange&&this._onChange([...i],\"create\"),i}delete(t){t.forEach(t=>{if(!this.store[t])throw new Error(`No feature with id ${t}, can not delete`);delete this.store[t],this.spatialIndex.remove(t)}),this._onChange&&this._onChange([...t],\"delete\")}copy(t){return this.clone(this.store[t])}copyAll(){return this.clone(Object.keys(this.store).map(t=>this.store[t]))}copyAllWhere(t){return this.clone(Object.keys(this.store).map(t=>this.store[t]).filter(e=>e.properties&&t(e.properties)))}clear(){this.store={},this.spatialIndex.clear()}size(){return Object.keys(this.store).length}}function Ie(t){const e=t.coordinates;let i=0;if(e&&e.length>0){i+=Math.abs(Me(e[0]));for(let t=1;t<e.length;t++)i-=Math.abs(Me(e[t]))}return i}const xe=20294876564838.72,Se=Math.PI/180;function Me(t){const e=t.length;if(e<=2)return 0;let i=0,o=0;for(;o<e;)i+=(t[o+2>=e?(o+2)%e:o+2][0]*Se-t[o][0]*Se)*Math.sin(t[o+1===e?0:o+1][1]*Se),o++;return i*xe}const Fe=\"Feature is smaller than the minimum area\",Ee=(t,e)=>\"Polygon\"!==t.geometry.type?{valid:!1,reason:c}:Ie(t.geometry)<e?{valid:!1,reason:Fe}:{valid:!0},De=(t,e)=>\"Polygon\"!==t.geometry.type?{valid:!1,reason:c}:Ie(t.geometry)>e?{valid:!1,reason:\"Feature is larger than the maximum area\"}:{valid:!0},we=\"Feature is not a Polygon or LineString\",be=\"Feature intersects itself\",ke=t=>\"Polygon\"!==t.geometry.type&&\"LineString\"!==t.geometry.type?{valid:!1,reason:we}:b(t)?{valid:!1,reason:be}:{valid:!0};function Oe(t,e,i){const o=it(t,e);let s=it(e,i)-o;return s<0&&(s+=360),180-Math.abs(s-90-90)}const _e={cancel:\"Escape\",finish:\"Enter\"},je={start:\"crosshair\",close:\"pointer\"};class We extends g{constructor(t){super(t,!0),this.mode=\"angled-rectangle\",this.currentCoordinate=0,this.currentId=void 0,this.keyEvents=_e,this.cursors=je,this.mouseMove=!1,this.updateOptions(t)}updateOptions(e){super.updateOptions(e),null!=e&&e.cursors&&(this.cursors=t({},this.cursors,e.cursors)),null===(null==e?void 0:e.keyEvents)?this.keyEvents={cancel:null,finish:null}:null!=e&&e.keyEvents&&(this.keyEvents=t({},this.keyEvents,e.keyEvents))}close(){if(void 0===this.currentId)return;const t=this.currentId;this.currentCoordinate=0,this.currentId=void 0,\"drawing\"===this.state&&this.setStarted(),this.onFinish(t,{mode:this.mode,action:\"draw\"})}start(){this.setStarted(),this.setCursor(this.cursors.start)}stop(){this.cleanUp(),this.setStopped(),this.setCursor(\"unset\")}onMouseMove(t){if(this.mouseMove=!0,this.setCursor(this.cursors.start),void 0===this.currentId||0===this.currentCoordinate)return;const i=this.store.getGeometryCopy(this.currentId).coordinates[0];let o;if(1===this.currentCoordinate){const e=1/Math.pow(10,this.coordinatePrecision-1),s=Math.max(1e-6,e);o=[i[0],[t.lng,t.lat],[t.lng,t.lat-s],i[0]]}else if(2===this.currentCoordinate){const e=i[0],s=i[1],n=Gt(e,s,this.coordinatePrecision,this.project,this.unproject),r=F(e[0],e[1]),a=F(n[0],n[1]),d=F(s[0],s[1]),h=F(t.lng,t.lat),l=R(h,r)<R(h,d),c=Oe(r,a,h),u=l?90-c:Oe(r,a,h)-90,p=R(a,h),g=Math.cos(C(u))*p,y=it(r,d)+(\"right\"===function(t,e,i){const o=(i.x-e.x)*(t.y-e.y)-(i.y-e.y)*(t.x-e.x);return o>1e-10?\"left\":o<-1e-10?\"right\":\"left\"}(r,d,h)?-90:90),m=tt(r,g,y),f=tt(d,g,y),v=E(m.x,m.y),P=E(f.x,f.y);o=[i[0],i[1],[P.lng,P.lat],[v.lng,v.lat],i[0]]}o&&this.updatePolygonGeometry(this.currentId,o,e.Provisional)}updatePolygonGeometry(t,e,i){const o={type:\"Polygon\",coordinates:[e]};return!(this.validate&&!this.validate({type:\"Feature\",geometry:o},{project:this.project,unproject:this.unproject,coordinatePrecision:this.coordinatePrecision,updateType:i}).valid||(this.store.updateGeometry([{id:t,geometry:o}]),0))}onClick(t){if(this.currentCoordinate>0&&!this.mouseMove&&this.onMouseMove(t),this.mouseMove=!1,0===this.currentCoordinate){const[e]=this.store.create([{geometry:{type:\"Polygon\",coordinates:[[[t.lng,t.lat],[t.lng,t.lat],[t.lng,t.lat],[t.lng,t.lat]]]},properties:{mode:this.mode}}]);this.currentId=e,this.currentCoordinate++,this.setDrawing()}else if(1===this.currentCoordinate&&this.currentId){const i=this.store.getGeometryCopy(this.currentId);if(dt([t.lng,t.lat],i.coordinates[0][0]))return;if(!this.updatePolygonGeometry(this.currentId,[i.coordinates[0][0],[t.lng,t.lat],[t.lng,t.lat],i.coordinates[0][0]],e.Commit))return;this.currentCoordinate++}else 2===this.currentCoordinate&&this.currentId&&this.close()}onKeyUp(t){if(t.key===this.keyEvents.cancel)this.cleanUp();else if(t.key===this.keyEvents.finish){if(this.currentCoordinate<2)return void this.cleanUp();this.close()}}onKeyDown(){}onDragStart(){}onDrag(){}onDragEnd(){}cleanUp(){try{this.currentId&&this.store.delete([this.currentId])}catch(t){}this.currentId=void 0,this.currentCoordinate=0,\"drawing\"===this.state&&this.setStarted()}styleFeature(e){const i=t({},{polygonFillColor:\"#3f97e0\",polygonOutlineColor:\"#3f97e0\",polygonOutlineWidth:4,polygonFillOpacity:.3,pointColor:\"#3f97e0\",pointOutlineColor:\"#ffffff\",pointOutlineWidth:0,pointWidth:6,lineStringColor:\"#3f97e0\",lineStringWidth:4,zIndex:0});return e.properties.mode===this.mode&&\"Polygon\"===e.geometry.type&&(i.polygonFillColor=this.getHexColorStylingValue(this.styles.fillColor,i.polygonFillColor,e),i.polygonOutlineColor=this.getHexColorStylingValue(this.styles.outlineColor,i.polygonOutlineColor,e),i.polygonOutlineWidth=this.getNumericStylingValue(this.styles.outlineWidth,i.polygonOutlineWidth,e),i.polygonFillOpacity=this.getNumericStylingValue(this.styles.fillOpacity,i.polygonFillOpacity,e),i.zIndex=10),i}validateFeature(t){return this.validateModeFeature(t,t=>V(t,this.coordinatePrecision))}}function Be(t,e,i){return(e.x-t.x)*(i.y-t.y)-(e.y-t.y)*(i.x-t.x)<=0}const Ne={cancel:\"Escape\",finish:\"Enter\"},Ge={start:\"crosshair\",close:\"pointer\"};class Le extends g{constructor(t){super(t,!0),this.mode=\"sector\",this.currentCoordinate=0,this.currentId=void 0,this.keyEvents=Ne,this.direction=void 0,this.arcPoints=64,this.cursors=Ge,this.mouseMove=!1,this.updateOptions(t)}updateOptions(e){super.updateOptions(e),null!=e&&e.cursors&&(this.cursors=t({},this.cursors,e.cursors)),null===(null==e?void 0:e.keyEvents)?this.keyEvents={cancel:null,finish:null}:null!=e&&e.keyEvents&&(this.keyEvents=t({},this.keyEvents,e.keyEvents)),null!=e&&e.arcPoints&&(this.arcPoints=e.arcPoints)}close(){if(void 0===this.currentId)return;const t=K(this.store.getGeometryCopy(this.currentId));t&&this.store.updateGeometry([{id:this.currentId,geometry:t}]);const e=this.currentId;this.currentCoordinate=0,this.currentId=void 0,this.direction=void 0,\"drawing\"===this.state&&this.setStarted(),this.onFinish(e,{mode:this.mode,action:\"draw\"})}start(){this.setStarted(),this.setCursor(this.cursors.start)}stop(){this.cleanUp(),this.setStopped(),this.setCursor(\"unset\")}onMouseMove(t){if(this.mouseMove=!0,this.setCursor(this.cursors.start),void 0===this.currentId||0===this.currentCoordinate)return;const i=this.store.getGeometryCopy(this.currentId).coordinates[0];let o;if(1===this.currentCoordinate){const e=1/Math.pow(10,this.coordinatePrecision-1),s=Math.max(1e-6,e);o=[i[0],[t.lng,t.lat],[t.lng,t.lat-s],i[0]]}else if(2===this.currentCoordinate){const e=i[0],s=i[1],n=[t.lng,t.lat],r=F(e[0],e[1]),a=F(s[0],s[1]),d=F(n[0],n[1]);if(void 0===this.direction){const t=Be(r,a,d);this.direction=t?\"clockwise\":\"anticlockwise\"}const h=R(r,a),l=it(r,a),c=it(r,d),u=this.arcPoints,p=[e],g=ot(l),y=ot(c);let m;\"anticlockwise\"===this.direction?(m=y-g,m<0&&(m+=360)):(m=g-y,m<0&&(m+=360));const f=(\"anticlockwise\"===this.direction?1:-1)*m/u;p.push(s);for(let t=0;t<=u;t++){const e=tt(r,h,g+t*f),{lng:i,lat:o}=E(e.x,e.y),s=[I(i,this.coordinatePrecision),I(o,this.coordinatePrecision)];s[0]!==p[p.length-1][0]&&s[1]!==p[p.length-1][1]&&p.push(s)}p.push(e),o=[...p]}o&&this.updatePolygonGeometry(this.currentId,o,e.Provisional)}updatePolygonGeometry(t,e,i){const o={type:\"Polygon\",coordinates:[e]};return!(this.validate&&!this.validate({type:\"Feature\",geometry:o},{project:this.project,unproject:this.unproject,coordinatePrecision:this.coordinatePrecision,updateType:i}).valid||(this.store.updateGeometry([{id:t,geometry:o}]),0))}onClick(t){if(this.currentCoordinate>0&&!this.mouseMove&&this.onMouseMove(t),this.mouseMove=!1,0===this.currentCoordinate){const[e]=this.store.create([{geometry:{type:\"Polygon\",coordinates:[[[t.lng,t.lat],[t.lng,t.lat],[t.lng,t.lat],[t.lng,t.lat]]]},properties:{mode:this.mode}}]);this.currentId=e,this.currentCoordinate++,this.setDrawing()}else if(1===this.currentCoordinate&&this.currentId){const i=this.store.getGeometryCopy(this.currentId);if(dt([t.lng,t.lat],i.coordinates[0][0]))return;if(!this.updatePolygonGeometry(this.currentId,[i.coordinates[0][0],[t.lng,t.lat],[t.lng,t.lat],i.coordinates[0][0]],e.Commit))return;this.currentCoordinate++}else 2===this.currentCoordinate&&this.currentId&&this.close()}onKeyUp(t){t.key===this.keyEvents.cancel?this.cleanUp():t.key===this.keyEvents.finish&&this.close()}onKeyDown(){}onDragStart(){}onDrag(){}onDragEnd(){}cleanUp(){try{this.currentId&&this.store.delete([this.currentId])}catch(t){}this.currentId=void 0,this.direction=void 0,this.currentCoordinate=0,\"drawing\"===this.state&&this.setStarted()}styleFeature(e){const i=t({},{polygonFillColor:\"#3f97e0\",polygonOutlineColor:\"#3f97e0\",polygonOutlineWidth:4,polygonFillOpacity:.3,pointColor:\"#3f97e0\",pointOutlineColor:\"#ffffff\",pointOutlineWidth:0,pointWidth:6,lineStringColor:\"#3f97e0\",lineStringWidth:4,zIndex:0});return e.properties.mode===this.mode&&\"Polygon\"===e.geometry.type&&(i.polygonFillColor=this.getHexColorStylingValue(this.styles.fillColor,i.polygonFillColor,e),i.polygonOutlineColor=this.getHexColorStylingValue(this.styles.outlineColor,i.polygonOutlineColor,e),i.polygonOutlineWidth=this.getNumericStylingValue(this.styles.outlineWidth,i.polygonOutlineWidth,e),i.polygonFillOpacity=this.getNumericStylingValue(this.styles.fillOpacity,i.polygonFillOpacity,e),i.zIndex=10),i}validateFeature(t){return this.validateModeFeature(t,t=>V(t,this.coordinatePrecision))}}const Ve={cancel:\"Escape\",finish:\"Enter\"},Te={start:\"crosshair\",close:\"pointer\"};class Ue extends g{constructor(t){super(t,!0),this.mode=\"sensor\",this.currentCoordinate=0,this.currentId=void 0,this.currentInitialArcId=void 0,this.currentStartingPointId=void 0,this.keyEvents=Ve,this.direction=void 0,this.arcPoints=64,this.cursors=Te,this.mouseMove=!1,this.updateOptions(t)}updateOptions(e){super.updateOptions(e),null!=e&&e.cursors&&(this.cursors=t({},this.cursors,e.cursors)),null===(null==e?void 0:e.keyEvents)?this.keyEvents={cancel:null,finish:null}:null!=e&&e.keyEvents&&(this.keyEvents=t({},this.keyEvents,e.keyEvents)),null!=e&&e.arcPoints&&(this.arcPoints=e.arcPoints)}close(){if(void 0===this.currentStartingPointId)return;const t=this.currentStartingPointId,e=this.currentInitialArcId,i=this.currentId;if(t&&this.store.delete([t]),e&&this.store.delete([e]),this.currentId){const t=K(this.store.getGeometryCopy(this.currentId));t&&this.store.updateGeometry([{id:this.currentId,geometry:t}])}this.currentCoordinate=0,this.currentStartingPointId=void 0,this.currentInitialArcId=void 0,this.currentId=void 0,this.direction=void 0,\"drawing\"===this.state&&this.setStarted(),i&&this.onFinish(i,{mode:this.mode,action:\"draw\"})}start(){this.setStarted(),this.setCursor(this.cursors.start)}stop(){this.cleanUp(),this.setStopped(),this.setCursor(\"unset\")}onMouseMove(t){if(this.mouseMove=!0,this.setCursor(this.cursors.start),void 0!==this.currentInitialArcId&&void 0!==this.currentStartingPointId&&0!==this.currentCoordinate)if(2===this.currentCoordinate){const i=this.store.getGeometryCopy(this.currentInitialArcId).coordinates,o=this.store.getGeometryCopy(this.currentStartingPointId).coordinates,s=i[0],n=[t.lng,t.lat],r=F(s[0],s[1]),a=F(n[0],n[1]),d=F(o[0],o[1]),h=R(d,r);if(void 0===this.direction){const t=Be(d,r,a);this.direction=t?\"clockwise\":\"anticlockwise\"}const l=it(d,r),c=it(d,a),u=this.arcPoints,p=[s],g=ot(l),y=ot(c);let m;\"anticlockwise\"===this.direction?(m=y-g,m<0&&(m+=360)):(m=g-y,m<0&&(m+=360));const f=(\"anticlockwise\"===this.direction?1:-1)*m/u;for(let t=0;t<=u;t++){const e=tt(d,h,g+t*f),{lng:i,lat:o}=E(e.x,e.y),s=[I(i,this.coordinatePrecision),I(o,this.coordinatePrecision)];s[0]!==p[p.length-1][0]&&s[1]!==p[p.length-1][1]&&p.push(s)}this.updateLineStringGeometry(this.currentInitialArcId,p,e.Provisional)}else if(3===this.currentCoordinate){const i=this.store.getGeometryCopy(this.currentInitialArcId).coordinates;if(i.length<2)return;if(!this.direction)return;const o=this.store.getGeometryCopy(this.currentStartingPointId).coordinates,s=i[0],n=i[i.length-1],r=F(t.lng,t.lat),a=F(s[0],s[1]),d=F(n[0],n[1]),h=F(o[0],o[1]),l=R(h,a),c=R(h,r)<l?a:r,u=it(h,r),p=it(h,a),g=it(h,d),y=ot(p),m=ot(g),f=ot(u);if(this.notInSector({normalizedCursor:f,normalizedStart:y,normalizedEnd:m,direction:this.direction}))return;const C=this.getDeltaBearing(this.direction,y,m),v=this.arcPoints,P=(\"anticlockwise\"===this.direction?1:-1)*C/v,x=R(h,c),S=[];for(let t=0;t<=v;t++){const e=tt(h,x,y+t*P),{lng:o,lat:s}=E(e.x,e.y),n=[I(o,this.coordinatePrecision),I(s,this.coordinatePrecision)];n[0]!==i[i.length-1][0]&&n[1]!==i[i.length-1][1]&&S.unshift(n)}i.push(...S),i.push(i[0]),this.currentId?this.updatePolygonGeometry(this.currentId,i,e.Provisional):[this.currentId]=this.store.create([{geometry:{type:\"Polygon\",coordinates:[i]},properties:{mode:this.mode}}])}}updateLineStringGeometry(t,e,i){const o={type:\"LineString\",coordinates:e};return!(this.validate&&!this.validate({type:\"Feature\",geometry:o},{project:this.project,unproject:this.unproject,coordinatePrecision:this.coordinatePrecision,updateType:i}).valid||(this.store.updateGeometry([{id:t,geometry:o}]),0))}updatePolygonGeometry(t,e,i){const o={type:\"Polygon\",coordinates:[e]};return!(this.validate&&!this.validate({type:\"Feature\",geometry:o},{project:this.project,unproject:this.unproject,coordinatePrecision:this.coordinatePrecision,updateType:i}).valid||(this.store.updateGeometry([{id:t,geometry:o}]),0))}onClick(t){if(this.currentCoordinate>0&&!this.mouseMove&&this.onMouseMove(t),this.mouseMove=!1,0===this.currentCoordinate){const[e]=this.store.create([{geometry:{type:\"Point\",coordinates:[t.lng,t.lat]},properties:{mode:this.mode}}]);this.currentStartingPointId=e,this.currentCoordinate++,this.setDrawing()}else if(1===this.currentCoordinate&&this.currentStartingPointId){const[e]=this.store.create([{geometry:{type:\"LineString\",coordinates:[[t.lng,t.lat],[t.lng,t.lat]]},properties:{mode:this.mode}}]);this.currentInitialArcId=e,this.currentCoordinate++}else 2===this.currentCoordinate&&this.currentStartingPointId?this.currentCoordinate++:3===this.currentCoordinate&&this.currentStartingPointId&&this.close()}onKeyUp(t){t.key===this.keyEvents.cancel?this.cleanUp():t.key===this.keyEvents.finish&&this.close()}onKeyDown(){}onDragStart(){}onDrag(){}onDragEnd(){}cleanUp(){try{this.currentStartingPointId&&this.store.delete([this.currentStartingPointId]),this.currentInitialArcId&&this.store.delete([this.currentInitialArcId]),this.currentId&&this.store.delete([this.currentId])}catch(t){}this.currentStartingPointId=void 0,this.direction=void 0,this.currentId=void 0,this.currentCoordinate=0,\"drawing\"===this.state&&this.setStarted()}styleFeature(e){const i=t({},{polygonFillColor:\"#3f97e0\",polygonOutlineColor:\"#3f97e0\",polygonOutlineWidth:4,polygonFillOpacity:.3,pointColor:\"#3f97e0\",pointOutlineColor:\"#ffffff\",pointOutlineWidth:0,pointWidth:6,lineStringColor:\"#3f97e0\",lineStringWidth:4,zIndex:0});return e.properties.mode===this.mode&&(\"Polygon\"===e.geometry.type?(i.polygonFillColor=this.getHexColorStylingValue(this.styles.fillColor,i.polygonFillColor,e),i.polygonOutlineColor=this.getHexColorStylingValue(this.styles.outlineColor,i.polygonOutlineColor,e),i.polygonOutlineWidth=this.getNumericStylingValue(this.styles.outlineWidth,i.polygonOutlineWidth,e),i.polygonFillOpacity=this.getNumericStylingValue(this.styles.fillOpacity,i.polygonFillOpacity,e),i.zIndex=10):\"LineString\"===e.geometry.type?(i.lineStringColor=this.getHexColorStylingValue(this.styles.outlineColor,i.polygonOutlineColor,e),i.lineStringWidth=this.getNumericStylingValue(this.styles.outlineWidth,i.polygonOutlineWidth,e),i.zIndex=10):\"Point\"===e.geometry.type&&(i.pointColor=this.getHexColorStylingValue(this.styles.centerPointColor,i.pointColor,e),i.pointWidth=this.getNumericStylingValue(this.styles.centerPointWidth,i.pointWidth,e),i.pointOutlineColor=this.getHexColorStylingValue(this.styles.centerPointOutlineColor,i.pointOutlineColor,e),i.pointOutlineWidth=this.getNumericStylingValue(this.styles.centerPointOutlineWidth,i.pointOutlineWidth,e),i.zIndex=20)),i}validateFeature(t){return this.validateModeFeature(t,t=>V(t,this.coordinatePrecision))}getDeltaBearing(t,e,i){let o;return\"anticlockwise\"===t?(o=i-e,o<0&&(o+=360)):(o=e-i,o<0&&(o+=360)),o}notInSector({normalizedCursor:t,normalizedStart:e,normalizedEnd:i,direction:o}){return\"clockwise\"===o?e<=i?t>=e&&t<=i:t>=e||t<=i:e>=i?t<=e&&t>=i:t<=e||t>=i}}class Ae{constructor({name:t,callback:e,unregister:i,register:o}){this.name=void 0,this.callback=void 0,this.registered=!1,this.register=void 0,this.unregister=void 0,this.name=t,this.register=()=>{this.registered||(this.registered=!0,o(e))},this.unregister=()=>{this.register&&(this.registered=!1,i(e))},this.callback=e}}var Re={__proto__:null,GeoJSONStore:Pe,TerraDrawBaseDrawMode:g,TerraDrawBaseSelectMode:y,TerraDrawBaseAdapter:class{constructor(t){this._minPixelDragDistance=void 0,this._minPixelDragDistanceDrawing=void 0,this._minPixelDragDistanceSelecting=void 0,this._lastDrawEvent=void 0,this._coordinatePrecision=void 0,this._heldKeys=new Set,this._listeners=[],this._dragState=\"not-dragging\",this._currentModeCallbacks=void 0,this._minPixelDragDistance=\"number\"==typeof t.minPixelDragDistance?t.minPixelDragDistance:1,this._minPixelDragDistanceSelecting=\"number\"==typeof t.minPixelDragDistanceSelecting?t.minPixelDragDistanceSelecting:1,this._minPixelDragDistanceDrawing=\"number\"==typeof t.minPixelDragDistanceDrawing?t.minPixelDragDistanceDrawing:8,this._coordinatePrecision=\"number\"==typeof t.coordinatePrecision?t.coordinatePrecision:9}getButton(t){return-1===t.button?\"neither\":0===t.button?\"left\":1===t.button?\"middle\":2===t.button?\"right\":\"neither\"}getMapElementXYPosition(t){const e=this.getMapEventElement(),{left:i,top:o}=e.getBoundingClientRect();return{containerX:t.clientX-i,containerY:t.clientY-o}}getDrawEventFromEvent(t){const e=this.getLngLatFromEvent(t);if(!e)return null;const{lng:i,lat:o}=e,{containerX:s,containerY:n}=this.getMapElementXYPosition(t),r=this.getButton(t),a=Array.from(this._heldKeys);return{lng:I(i,this._coordinatePrecision),lat:I(o,this._coordinatePrecision),containerX:s,containerY:n,button:r,heldKeys:a}}register(t){this._currentModeCallbacks=t,this._listeners=this.getAdapterListeners(),this._listeners.forEach(t=>{t.register()})}getCoordinatePrecision(){return this._coordinatePrecision}getAdapterListeners(){return[new Ae({name:\"pointerdown\",callback:t=>{if(!this._currentModeCallbacks)return;if(!t.isPrimary)return;const e=this.getDrawEventFromEvent(t);e&&(this._dragState=\"pre-dragging\",this._lastDrawEvent=e)},register:t=>{this.getMapEventElement().addEventListener(\"pointerdown\",t)},unregister:t=>{this.getMapEventElement().removeEventListener(\"pointerdown\",t)}}),new Ae({name:\"pointermove\",callback:t=>{if(!this._currentModeCallbacks)return;if(!t.isPrimary)return;t.preventDefault();const e=this.getDrawEventFromEvent(t);if(e)if(\"not-dragging\"===this._dragState)this._currentModeCallbacks.onMouseMove(e),this._lastDrawEvent=e;else if(\"pre-dragging\"===this._dragState){if(!this._lastDrawEvent)return;const t={x:this._lastDrawEvent.containerX,y:this._lastDrawEvent.containerY},i={x:e.containerX,y:e.containerY},o=this._currentModeCallbacks.getState(),s=R(t,i);let n=!1;if(n=\"drawing\"===o?s<this._minPixelDragDistanceDrawing:\"selecting\"===o?s<this._minPixelDragDistanceSelecting:s<this._minPixelDragDistance,n)return;this._dragState=\"dragging\",this._currentModeCallbacks.onDragStart(e,t=>{this.setDraggability.bind(this)(t)})}else\"dragging\"===this._dragState&&this._currentModeCallbacks.onDrag(e,t=>{this.setDraggability.bind(this)(t)})},register:t=>{this.getMapEventElement().addEventListener(\"pointermove\",t)},unregister:t=>{this.getMapEventElement().removeEventListener(\"pointermove\",t)}}),new Ae({name:\"contextmenu\",callback:t=>{this._currentModeCallbacks&&t.preventDefault()},register:t=>{this.getMapEventElement().addEventListener(\"contextmenu\",t)},unregister:t=>{this.getMapEventElement().removeEventListener(\"contextmenu\",t)}}),new Ae({name:\"pointerup\",callback:t=>{if(!this._currentModeCallbacks)return;if(t.target!==this.getMapEventElement())return;if(!t.isPrimary)return;const e=this.getDrawEventFromEvent(t);e&&(\"dragging\"===this._dragState?this._currentModeCallbacks.onDragEnd(e,t=>{this.setDraggability.bind(this)(t)}):\"not-dragging\"!==this._dragState&&\"pre-dragging\"!==this._dragState||this._currentModeCallbacks.onClick(e),this._dragState=\"not-dragging\",this.setDraggability(!0))},register:t=>{this.getMapEventElement().addEventListener(\"pointerup\",t)},unregister:t=>{this.getMapEventElement().removeEventListener(\"pointerup\",t)}}),new Ae({name:\"keyup\",callback:t=>{this._currentModeCallbacks&&(this._heldKeys.delete(t.key),this._currentModeCallbacks.onKeyUp({key:t.key,heldKeys:Array.from(this._heldKeys),preventDefault:()=>t.preventDefault()}))},register:t=>{this.getMapEventElement().addEventListener(\"keyup\",t)},unregister:t=>{this.getMapEventElement().removeEventListener(\"keyup\",t)}}),new Ae({name:\"keydown\",callback:t=>{this._currentModeCallbacks&&(this._heldKeys.add(t.key),this._currentModeCallbacks.onKeyDown({key:t.key,heldKeys:Array.from(this._heldKeys),preventDefault:()=>t.preventDefault()}))},register:t=>{this.getMapEventElement().addEventListener(\"keydown\",t)},unregister:t=>{this.getMapEventElement().removeEventListener(\"keydown\",t)}})]}unregister(){this._listeners.forEach(t=>{t.unregister()}),this.clear()}},getDefaultStyling:()=>({polygonFillColor:\"#3f97e0\",polygonOutlineColor:\"#3f97e0\",polygonOutlineWidth:4,polygonFillOpacity:.3,pointColor:\"#3f97e0\",pointOutlineColor:\"#ffffff\",pointOutlineWidth:0,pointWidth:6,lineStringColor:\"#3f97e0\",lineStringWidth:4,zIndex:0}),SELECT_PROPERTIES:i};const Ke={ValidationReasonFeatureNotPoint:Pt,ValidationReasonFeatureInvalidCoordinates:It,ValidationReasonFeatureInvalidCoordinatePrecision:xt,ValidationReasonFeatureNotPolygon:c,ValidationReasonFeatureHasHoles:W,ValidationReasonFeatureLessThanFourCoordinates:B,ValidationReasonFeatureHasInvalidCoordinates:N,ValidationReasonFeatureCoordinatesNotClosed:G,ValidationReasonFeatureNotPolygonOrLineString:we,ValidationReasonFeatureSelfIntersects:be,ValidationReasonFeatureLessThanMinSize:Fe,ValidationReasonModeMismatch:u};class Xe{constructor(e){this._modes=void 0,this._mode=void 0,this._adapter=void 0,this._enabled=!1,this._store=void 0,this._eventListeners=void 0,this._instanceSelectMode=void 0,this._adapter=e.adapter,this._mode=new ie;const i=new Set,o=e.modes.reduce((t,e)=>{if(i.has(e.mode))throw new Error(`There is already a ${e.mode} mode provided`);return i.add(e.mode),t[e.mode]=e,t},{}),s=Object.keys(o);if(0===s.length)throw new Error(\"No modes provided\");s.forEach(t=>{if(o[t].type===p.Select){if(this._instanceSelectMode)throw new Error(\"only one type of select mode can be provided\");this._instanceSelectMode=t}}),this._modes=t({},o,{static:this._mode}),this._eventListeners={change:[],select:[],deselect:[],finish:[],ready:[]},this._store=new Pe({tracked:!!e.tracked,idStrategy:e.idStrategy?e.idStrategy:void 0});const n=t=>{const e=[],i=this._store.copyAll().filter(i=>!t.includes(i.id)||(e.push(i),!1));return{changed:e,unchanged:i}},r=(t,e)=>{this._enabled&&this._eventListeners.finish.forEach(i=>{i(t,e)})},a=(t,e)=>{if(!this._enabled)return;this._eventListeners.change.forEach(i=>{i(t,e)});const{changed:i,unchanged:o}=n(t);\"create\"===e?this._adapter.render({created:i,deletedIds:[],unchanged:o,updated:[]},this.getModeStyles()):\"update\"===e?this._adapter.render({created:[],deletedIds:[],unchanged:o,updated:i},this.getModeStyles()):\"delete\"===e?this._adapter.render({created:[],deletedIds:t,unchanged:o,updated:[]},this.getModeStyles()):\"styling\"===e&&this._adapter.render({created:[],deletedIds:[],unchanged:o,updated:[]},this.getModeStyles())},d=t=>{if(!this._enabled)return;this._eventListeners.select.forEach(e=>{e(t)});const{changed:e,unchanged:i}=n([t]);this._adapter.render({created:[],deletedIds:[],unchanged:i,updated:e},this.getModeStyles())},h=t=>{if(!this._enabled)return;this._eventListeners.deselect.forEach(t=>{t()});const{changed:e,unchanged:i}=n([t]);e&&this._adapter.render({created:[],deletedIds:[],unchanged:i,updated:e},this.getModeStyles())};Object.keys(this._modes).forEach(t=>{this._modes[t].register({mode:t,store:this._store,setCursor:this._adapter.setCursor.bind(this._adapter),project:this._adapter.project.bind(this._adapter),unproject:this._adapter.unproject.bind(this._adapter),setDoubleClickToZoom:this._adapter.setDoubleClickToZoom.bind(this._adapter),onChange:a,onSelect:d,onDeselect:h,onFinish:r,coordinatePrecision:this._adapter.getCoordinatePrecision()})})}checkEnabled(){if(!this._enabled)throw new Error(\"Terra Draw is not enabled\")}getModeStyles(){const t={};return Object.keys(this._modes).forEach(e=>{t[e]=t=>this._instanceSelectMode&&t.properties[i.SELECTED]?this._modes[this._instanceSelectMode].styleFeature.bind(this._modes[this._instanceSelectMode])(t):this._modes[e].styleFeature.bind(this._modes[e])(t)}),t}featuresAtLocation({lng:t,lat:e},o){const s=o&&void 0!==o.pointerDistance?o.pointerDistance:30,n=!o||void 0===o.ignoreSelectFeatures||o.ignoreSelectFeatures,r=this._adapter.unproject.bind(this._adapter),a=this._adapter.project.bind(this._adapter),d=a(t,e),h=q({unproject:r,point:d,pointerDistance:s});return this._store.search(h).filter(o=>{if(n&&(o.properties[i.MID_POINT]||o.properties[i.SELECTION_POINT]))return!1;if(\"Point\"===o.geometry.type){const t=o.geometry.coordinates,e=a(t[0],t[1]);return R(d,e)<s}if(\"LineString\"===o.geometry.type){const t=o.geometry.coordinates;for(let e=0;e<t.length-1;e++){const i=t[e],o=t[e+1];if(Rt(d,a(i[0],i[1]),a(o[0],o[1]))<s)return!0}return!1}return!!At([t,e],o.geometry.coordinates)||void 0})}getSelectMode(){if(this.checkEnabled(),!this._instanceSelectMode)throw new Error(\"No select mode defined in instance\");return this.getMode()!==this._instanceSelectMode&&this.setMode(this._instanceSelectMode),this._modes[this._instanceSelectMode]}setModeStyles(t,e){if(this.checkEnabled(),!this._modes[t])throw new Error(\"No mode with this name present\");this._modes[t].styles=e}updateModeOptions(t,e){if(this.checkEnabled(),!this._modes[t])throw new Error(\"No mode with this name present\");this._modes[t].updateOptions(e)}getSnapshot(){return this._store.copyAll()}getSnapshotFeature(t){if(this._store.has(t))return this._store.copy(t)}clear(){this.checkEnabled(),this._adapter.clear()}get enabled(){return this._enabled}set enabled(t){throw new Error(\"Enabled is read only\")}getMode(){return this._mode.mode}setMode(t){if(this.checkEnabled(),!this._modes[t])throw new Error(\"No mode with this name present\");this._mode.stop(),this._mode=this._modes[t],this._mode.start()}removeFeatures(t){this.checkEnabled();const e=[];t.forEach(t=>{if(!this._store.has(t))throw new Error(`No feature with id ${t}, can not delete`);const o=this._store.copy(t);o.properties[i.SELECTED]&&this.deselectFeature(t),o.properties[a]&&e.push(...o.properties[a])}),this._store.delete([...t,...e])}selectFeature(t){this.getSelectMode().selectFeature(t)}deselectFeature(t){this.getSelectMode().deselectFeature(t)}getFeatureId(){return this._store.getId()}hasFeature(t){return this._store.has(t)}addFeatures(t){return this.checkEnabled(),0===t.length?[]:this._store.load(t,t=>{if(h(t)){const e=t.properties.mode,i=this._modes[e];if(!i)return{id:t.id,valid:!1,reason:`${e} mode is not in the list of instantiated modes`};const o=i.validateFeature.bind(i)(t);return{id:t.id,valid:o.valid,reason:o.reason?o.reason:o.valid?void 0:\"Feature is invalid\"}}return{id:t.id,valid:!1,reason:\"Mode property does not exist\"}},t=>{if(h(t)){const e=this._modes[t.properties.mode];e&&e.afterFeatureAdded&&e.afterFeatureAdded(t)}})}start(){this._enabled=!0,this._adapter.register({onReady:()=>{this._eventListeners.ready.forEach(t=>{t()})},getState:()=>this._mode.state,onClick:t=>{this._mode.onClick(t)},onMouseMove:t=>{this._mode.onMouseMove(t)},onKeyDown:t=>{this._mode.onKeyDown(t)},onKeyUp:t=>{this._mode.onKeyUp(t)},onDragStart:(t,e)=>{this._mode.onDragStart(t,e)},onDrag:(t,e)=>{this._mode.onDrag(t,e)},onDragEnd:(t,e)=>{this._mode.onDragEnd(t,e)},onClear:()=>{this._mode.cleanUp(),this._store.clear()}})}getFeaturesAtLngLat(t,e){const{lng:i,lat:o}=t;return this.featuresAtLocation({lng:i,lat:o},e)}getFeaturesAtPointerEvent(t,e){const i=this._adapter.getLngLatFromEvent.bind(this._adapter)(t);return null===i?[]:this.featuresAtLocation(i,e)}stop(){this._enabled=!1,this._adapter.unregister()}on(t,e){const i=this._eventListeners[t];i.includes(e)||i.push(e)}off(t,e){const i=this._eventListeners[t];i.includes(e)&&i.splice(i.indexOf(e),1)}}export{Xe as TerraDraw,We as TerraDrawAngledRectangleMode,A as TerraDrawCircleMode,Re as TerraDrawExtend,Y as TerraDrawFreehandMode,vt as TerraDrawLineStringMode,Ft as TerraDrawPointMode,kt as TerraDrawPolygonMode,jt as TerraDrawRectangleMode,Wt as TerraDrawRenderMode,Le as TerraDrawSectorMode,ee as TerraDrawSelectMode,Ue as TerraDrawSensorMode,De as ValidateMaxAreaSquareMeters,Ee as ValidateMinAreaSquareMeters,ke as ValidateNotSelfIntersecting,Ke as ValidationReasons};\n//# sourceMappingURL=terra-draw.modern.js.map\n","import{TerraDrawExtend as e}from\"terra-draw\";class t extends e.TerraDrawBaseAdapter{constructor(e){super(e),this._initialDragPan=void 0,this._initialDragRotate=void 0,this._nextRender=void 0,this._map=void 0,this._container=void 0,this._rendered=!1,this.changedIds={deletion:!1,points:!1,linestrings:!1,polygons:!1,styling:!1},this._map=e.map,this._container=this._map.getContainer(),this._initialDragRotate=this._map.dragRotate.isEnabled(),this._initialDragPan=this._map.dragPan.isEnabled()}clearLayers(){this._rendered&&([\"point\",\"linestring\",\"polygon\"].forEach(e=>{const t=`td-${e.toLowerCase()}`;this._map.removeLayer(t),\"polygon\"===e&&this._map.removeLayer(t+\"-outline\"),\"point\"===e&&(this._map.removeLayer(t+\"-lower\"),this._map.removeSource(t+\"-lower\")),this._map.removeSource(t)}),this._rendered=!1,this._nextRender&&(cancelAnimationFrame(this._nextRender),this._nextRender=void 0))}_addGeoJSONSource(e,t){this._map.addSource(e,{type:\"geojson\",data:{type:\"FeatureCollection\",features:t},tolerance:0})}_addFillLayer(e){return this._map.addLayer({id:e,source:e,type:\"fill\",paint:{\"fill-color\":[\"get\",\"polygonFillColor\"],\"fill-opacity\":[\"get\",\"polygonFillOpacity\"]}})}_addFillOutlineLayer(e){return this._map.addLayer({id:e+\"-outline\",source:e,type:\"line\",paint:{\"line-width\":[\"get\",\"polygonOutlineWidth\"],\"line-color\":[\"get\",\"polygonOutlineColor\"]}})}_addLineLayer(e){return this._map.addLayer({id:e,source:e,type:\"line\",paint:{\"line-width\":[\"get\",\"lineStringWidth\"],\"line-color\":[\"get\",\"lineStringColor\"]}})}_addPointLayer(e){return this._map.addLayer({id:e,source:e,type:\"circle\",paint:{\"circle-stroke-color\":[\"get\",\"pointOutlineColor\"],\"circle-stroke-width\":[\"get\",\"pointOutlineWidth\"],\"circle-radius\":[\"get\",\"pointWidth\"],\"circle-color\":[\"get\",\"pointColor\"]}})}_addLayer(e,t){\"Point\"===t&&this._addPointLayer(e),\"LineString\"===t&&this._addLineLayer(e),\"Polygon\"===t&&(this._addFillLayer(e),this._addFillOutlineLayer(e))}_addGeoJSONLayer(e,t,i){const n=`td-${e.toLowerCase()}${i?`-${i}`:\"\"}`;return this._addGeoJSONSource(n,t),this._addLayer(n,e),n}_setGeoJSONLayerData(e,t,i){const n=`td-${e.toLowerCase()}${i?`-${i}`:\"\"}`;return this._map.getSource(n).setData({type:\"FeatureCollection\",features:t}),n}updateChangedIds(e){[...e.updated,...e.created].forEach(e=>{\"Point\"===e.geometry.type?this.changedIds.points=!0:\"LineString\"===e.geometry.type?this.changedIds.linestrings=!0:\"Polygon\"===e.geometry.type&&(this.changedIds.polygons=!0)}),e.deletedIds.length>0&&(this.changedIds.deletion=!0),0===e.created.length&&0===e.updated.length&&0===e.deletedIds.length&&(this.changedIds.styling=!0)}getLngLatFromEvent(e){const{left:t,top:i}=this._container.getBoundingClientRect();return this.unproject(e.clientX-t,e.clientY-i)}getMapEventElement(){return this._map.getCanvas()}setDraggability(e){e?(this._initialDragRotate&&this._map.dragRotate.enable(),this._initialDragPan&&this._map.dragPan.enable()):(this._initialDragRotate&&this._map.dragRotate.disable(),this._initialDragPan&&this._map.dragPan.disable())}project(e,t){const{x:i,y:n}=this._map.project({lng:e,lat:t});return{x:i,y:n}}unproject(e,t){const{lng:i,lat:n}=this._map.unproject({x:e,y:t});return{lng:i,lat:n}}setCursor(e){const t=this._map.getCanvas();\"unset\"===e?t.style.removeProperty(\"cursor\"):t.style.cursor=e}setDoubleClickToZoom(e){e?this._map.doubleClickZoom.enable():this._map.doubleClickZoom.disable()}render(e,t){this.updateChangedIds(e),this._nextRender&&cancelAnimationFrame(this._nextRender),this._nextRender=requestAnimationFrame(()=>{const i=[...e.created,...e.updated,...e.unchanged],n=[],o=[],r=[],a=[];for(let e=0;e<i.length;e++){const s=i[e],{properties:l}=s,d=t[l.mode](s);\"Point\"===s.geometry.type?(l.pointColor=d.pointColor,l.pointOutlineColor=d.pointOutlineColor,l.pointOutlineWidth=d.pointOutlineWidth,l.pointWidth=d.pointWidth,d.zIndex<30?n.push(s):o.push(s)):\"LineString\"===s.geometry.type?(l.lineStringColor=d.lineStringColor,l.lineStringWidth=d.lineStringWidth,r.push(s)):\"Polygon\"===s.geometry.type&&(l.polygonFillColor=d.polygonFillColor,l.polygonFillOpacity=d.polygonFillOpacity,l.polygonOutlineColor=d.polygonOutlineColor,l.polygonOutlineWidth=d.polygonOutlineWidth,a.push(s))}if(this._rendered){const e=this.changedIds.deletion||this.changedIds.styling,t=e||this.changedIds.linestrings,i=e||this.changedIds.polygons;let s,l;(e||this.changedIds.points)&&(s=this._setGeoJSONLayerData(\"Point\",o),l=this._setGeoJSONLayerData(\"Point\",n,\"lower\")),t&&this._setGeoJSONLayerData(\"LineString\",r),i&&this._setGeoJSONLayerData(\"Polygon\",a),s&&(this._map.moveLayer(s),l&&this._map.moveLayer(l,s))}this.changedIds={points:!1,linestrings:!1,polygons:!1,deletion:!1,styling:!1}})}clear(){this._currentModeCallbacks&&(this._currentModeCallbacks.onClear(),this.clearLayers())}getCoordinatePrecision(){return super.getCoordinatePrecision()}unregister(){return super.unregister()}register(e){var t;super.register(e);const i=this._addGeoJSONLayer(\"Point\",[]),n=this._addGeoJSONLayer(\"Point\",[],\"lower\");this._addGeoJSONLayer(\"LineString\",[]),this._addGeoJSONLayer(\"Polygon\",[]),i&&(this._map.moveLayer(i),n&&this._map.moveLayer(n,i)),this._rendered=!0,null!=(t=this._currentModeCallbacks)&&t.onReady&&this._currentModeCallbacks.onReady()}}export{t as TerraDrawMapLibreGLAdapter};\n//# sourceMappingURL=terra-draw-maplibre-gl-adapter.modern.js.map\n","/**\n * The list of available Terra Draw drawing modes for MaplibreTerraDrawControl\n *\n * `render` is a special mode and this is appeared as toggle button to expand/collapse the tool.\n * If you always want the tool to be visible, `render` can be removed and set `open` property of the constructor as true.\n *\n * `delete-selection` button is only appeared, when the select button is active.\n *\n * If no drawing feature is in TerraDraw, `delete` and `download` are disabled.\n */\nexport const AvailableModes = [\n\t'render',\n\t'point',\n\t'linestring',\n\t'polygon',\n\t'rectangle',\n\t'circle',\n\t'freehand',\n\t'angled-rectangle',\n\t'sensor',\n\t'sector',\n\t'select',\n\t'delete-selection',\n\t'delete',\n\t'download'\n] as const;\n","import type { TerradrawControlOptions } from '../interfaces/TerradrawControlOptions';\n\n/**\n * Default control options\n */\nexport const defaultControlOptions: TerradrawControlOptions = {\n\tmodes: [\n\t\t'render',\n\t\t'point',\n\t\t'linestring',\n\t\t'polygon',\n\t\t'rectangle',\n\t\t'angled-rectangle',\n\t\t'sensor',\n\t\t'sector',\n\t\t'circle',\n\t\t'freehand',\n\t\t'select',\n\t\t'delete-selection',\n\t\t'delete',\n\t\t'download'\n\t],\n\topen: false\n};\n","import {\n\tTerraDrawAngledRectangleMode,\n\tTerraDrawCircleMode,\n\tTerraDrawFreehandMode,\n\tTerraDrawLineStringMode,\n\tTerraDrawPointMode,\n\tTerraDrawPolygonMode,\n\tTerraDrawRectangleMode,\n\tTerraDrawSectorMode,\n\tTerraDrawSelectMode,\n\tTerraDrawSensorMode\n} from 'terra-draw';\nimport type { MeasureControlOptions } from '../interfaces/MeasureControlOptions';\n\n/**\n * Default MeasureControl options\n */\nexport const defaultMeasureControlOptions: MeasureControlOptions = {\n\tmodes: [\n\t\t'render',\n\t\t'point',\n\t\t'linestring',\n\t\t'polygon',\n\t\t'rectangle',\n\t\t'angled-rectangle',\n\t\t'sensor',\n\t\t'sector',\n\t\t'circle',\n\t\t'freehand',\n\t\t'select',\n\t\t'delete-selection',\n\t\t'delete',\n\t\t'download'\n\t],\n\topen: false,\n\t// see styling parameters of Terra Draw at https://github.com/JamesLMilner/terra-draw/blob/main/guides/5.STYLING.md\n\tmodeOptions: {\n\t\tpoint: new TerraDrawPointMode({\n\t\t\teditable: true,\n\t\t\tstyles: {\n\t\t\t\tpointColor: '#FFFFFF',\n\t\t\t\tpointWidth: 5,\n\t\t\t\tpointOutlineColor: '#666666',\n\t\t\t\tpointOutlineWidth: 1\n\t\t\t}\n\t\t}),\n\t\tlinestring: new TerraDrawLineStringMode({\n\t\t\teditable: true,\n\t\t\tstyles: {\n\t\t\t\tlineStringColor: '#666666',\n\t\t\t\tlineStringWidth: 2,\n\t\t\t\tclosingPointColor: '#FFFFFF',\n\t\t\t\tclosingPointWidth: 3,\n\t\t\t\tclosingPointOutlineColor: '#666666',\n\t\t\t\tclosingPointOutlineWidth: 1\n\t\t\t}\n\t\t}),\n\t\tpolygon: new TerraDrawPolygonMode({\n\t\t\teditable: true,\n\t\t\tstyles: {\n\t\t\t\tfillColor: '#EDEFF0',\n\t\t\t\tfillOpacity: 0.7,\n\t\t\t\toutlineColor: '#666666',\n\t\t\t\toutlineWidth: 2,\n\t\t\t\tclosingPointColor: '#FAFAFA',\n\t\t\t\tclosingPointWidth: 3,\n\t\t\t\tclosingPointOutlineColor: '#666666',\n\t\t\t\tclosingPointOutlineWidth: 1\n\t\t\t}\n\t\t}),\n\t\trectangle: new TerraDrawRectangleMode({\n\t\t\tstyles: {\n\t\t\t\tfillColor: '#EDEFF0',\n\t\t\t\tfillOpacity: 0.7,\n\t\t\t\toutlineColor: '#666666',\n\t\t\t\toutlineWidth: 2\n\t\t\t}\n\t\t}),\n\t\t'angled-rectangle': new TerraDrawAngledRectangleMode({\n\t\t\tstyles: {\n\t\t\t\tfillColor: '#EDEFF0',\n\t\t\t\tfillOpacity: 0.7,\n\t\t\t\toutlineColor: '#666666',\n\t\t\t\toutlineWidth: 2\n\t\t\t}\n\t\t}),\n\t\tcircle: new TerraDrawCircleMode({\n\t\t\tstyles: {\n\t\t\t\tfillColor: '#EDEFF0',\n\t\t\t\tfillOpacity: 0.7,\n\t\t\t\toutlineColor: '#666666',\n\t\t\t\toutlineWidth: 2\n\t\t\t}\n\t\t}),\n\t\tfreehand: new TerraDrawFreehandMode({\n\t\t\tstyles: {\n\t\t\t\tfillColor: '#EDEFF0',\n\t\t\t\tfillOpacity: 0.7,\n\t\t\t\toutlineColor: '#666666',\n\t\t\t\toutlineWidth: 2,\n\t\t\t\tclosingPointColor: '#FAFAFA',\n\t\t\t\tclosingPointWidth: 3,\n\t\t\t\tclosingPointOutlineColor: '#666666',\n\t\t\t\tclosingPointOutlineWidth: 1\n\t\t\t}\n\t\t}),\n\t\tsensor: new TerraDrawSensorMode({\n\t\t\tstyles: {\n\t\t\t\tfillColor: '#EDEFF0',\n\t\t\t\tfillOpacity: 0.7,\n\t\t\t\toutlineColor: '#666666',\n\t\t\t\toutlineWidth: 2,\n\t\t\t\tcenterPointColor: '#FAFAFA',\n\t\t\t\tcenterPointWidth: 3,\n\t\t\t\tcenterPointOutlineColor: '#666666',\n\t\t\t\tcenterPointOutlineWidth: 1\n\t\t\t}\n\t\t}),\n\t\tsector: new TerraDrawSectorMode({\n\t\t\tstyles: {\n\t\t\t\tfillColor: '#EDEFF0',\n\t\t\t\tfillOpacity: 0.7,\n\t\t\t\toutlineColor: '#666666',\n\t\t\t\toutlineWidth: 2\n\t\t\t}\n\t\t}),\n\t\tselect: new TerraDrawSelectMode({\n\t\t\tflags: {\n\t\t\t\tpoint: {\n\t\t\t\t\tfeature: {\n\t\t\t\t\t\tdraggable: false\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tpolygon: {\n\t\t\t\t\tfeature: {\n\t\t\t\t\t\tdraggable: true,\n\t\t\t\t\t\trotateable: true,\n\t\t\t\t\t\tscaleable: true,\n\t\t\t\t\t\tcoordinates: {\n\t\t\t\t\t\t\tmidpoints: true,\n\t\t\t\t\t\t\tdraggable: true,\n\t\t\t\t\t\t\tdeletable: true\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tlinestring: {\n\t\t\t\t\tfeature: {\n\t\t\t\t\t\tdraggable: true,\n\t\t\t\t\t\trotateable: true,\n\t\t\t\t\t\tscaleable: true,\n\t\t\t\t\t\tcoordinates: {\n\t\t\t\t\t\t\tmidpoints: true,\n\t\t\t\t\t\t\tdraggable: true,\n\t\t\t\t\t\t\tdeletable: true\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfreehand: {\n\t\t\t\t\tfeature: {\n\t\t\t\t\t\tdraggable: true,\n\t\t\t\t\t\tcoordinates: {\n\t\t\t\t\t\t\tmidpoints: true,\n\t\t\t\t\t\t\tdraggable: true,\n\t\t\t\t\t\t\tdeletable: true\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tcircle: {\n\t\t\t\t\tfeature: {\n\t\t\t\t\t\tdraggable: true,\n\t\t\t\t\t\tcoordinates: {\n\t\t\t\t\t\t\tmidpoints: true,\n\t\t\t\t\t\t\tdraggable: true,\n\t\t\t\t\t\t\tdeletable: true\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\trectangle: {\n\t\t\t\t\tfeature: {\n\t\t\t\t\t\tdraggable: true,\n\t\t\t\t\t\trotateable: true,\n\t\t\t\t\t\tscaleable: true,\n\t\t\t\t\t\tcoordinates: {\n\t\t\t\t\t\t\tmidpoints: true,\n\t\t\t\t\t\t\tdraggable: true,\n\t\t\t\t\t\t\tdeletable: true\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t'angled-rectangle': {\n\t\t\t\t\tfeature: {\n\t\t\t\t\t\tdraggable: true,\n\t\t\t\t\t\trotateable: true,\n\t\t\t\t\t\tscaleable: true,\n\t\t\t\t\t\tcoordinates: {\n\t\t\t\t\t\t\tmidpoints: true,\n\t\t\t\t\t\t\tdraggable: true,\n\t\t\t\t\t\t\tdeletable: true\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tsensor: {\n\t\t\t\t\tfeature: {\n\t\t\t\t\t\tdraggable: true,\n\t\t\t\t\t\trotateable: true,\n\t\t\t\t\t\tscaleable: true,\n\t\t\t\t\t\tcoordinates: {\n\t\t\t\t\t\t\tmidpoints: true,\n\t\t\t\t\t\t\tdraggable: true,\n\t\t\t\t\t\t\tdeletable: true\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tsector: {\n\t\t\t\t\tfeature: {\n\t\t\t\t\t\tdraggable: true,\n\t\t\t\t\t\trotateable: true,\n\t\t\t\t\t\tscaleable: true,\n\t\t\t\t\t\tcoordinates: {\n\t\t\t\t\t\t\tmidpoints: true,\n\t\t\t\t\t\t\tdraggable: true,\n\t\t\t\t\t\t\tdeletable: true\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t},\n\tpointLayerLabelSpec: {\n\t\tid: 'terradraw-measure-point-label',\n\t\ttype: 'symbol',\n\t\tsource: 'terradraw-measure-point-source',\n\t\tfilter: ['all', ['==', '$type', 'Point'], ['==', 'mode', 'point']],\n\t\tlayout: {\n\t\t\t'text-field': [\n\t\t\t\t'case',\n\t\t\t\t['all', ['has', 'elevation'], ['>', ['get', 'elevation'], 0]],\n\t\t\t\t['concat', 'Alt. ', ['to-string', ['floor', ['get', 'elevation']]], ' m'],\n\t\t\t\t''\n\t\t\t],\n\t\t\t'symbol-placement': 'point',\n\t\t\t'text-size': [\n\t\t\t\t'interpolate',\n\t\t\t\t['linear'],\n\t\t\t\t['zoom'],\n\t\t\t\t5,\n\t\t\t\t10,\n\t\t\t\t10,\n\t\t\t\t12.0,\n\t\t\t\t13,\n\t\t\t\t14.0,\n\t\t\t\t14,\n\t\t\t\t16.0,\n\t\t\t\t18,\n\t\t\t\t18.0\n\t\t\t],\n\t\t\t'text-overlap': 'always',\n\t\t\t'text-variable-anchor': ['left', 'right', 'top', 'bottom'],\n\t\t\t'text-radial-offset': 0.5,\n\t\t\t'text-justify': 'center',\n\t\t\t'text-letter-spacing': 0.05\n\t\t},\n\t\tpaint: {\n\t\t\t'text-halo-color': '#F7F7F7',\n\t\t\t'text-halo-width': 2,\n\t\t\t'text-color': '#232E3D'\n\t\t}\n\t},\n\tlineLayerLabelSpec: {\n\t\tid: 'terradraw-measure-line-label',\n\t\ttype: 'symbol',\n\t\tsource: 'terradraw-measure-line-source',\n\t\tfilter: ['==', '$type', 'Point'],\n\t\tlayout: {\n\t\t\t'text-field': [\n\t\t\t\t'concat',\n\t\t\t\t['to-string', ['get', 'distance']],\n\t\t\t\t' ',\n\t\t\t\t['get', 'unit'],\n\t\t\t\t[\n\t\t\t\t\t'case',\n\t\t\t\t\t['==', ['get', 'total'], 0],\n\t\t\t\t\t'',\n\t\t\t\t\t['concat', '\\n(', ['to-string', ['get', 'total']], ' ', ['get', 'totalUnit'], ')']\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t'case',\n\t\t\t\t\t['all', ['has', 'elevation'], ['>', ['get', 'elevation'], 0]],\n\t\t\t\t\t['concat', '\\nAlt. ', ['to-string', ['floor', ['get', 'elevation']]], ' m'],\n\t\t\t\t\t''\n\t\t\t\t]\n\t\t\t],\n\t\t\t'symbol-placement': 'point',\n\t\t\t'text-size': [\n\t\t\t\t'interpolate',\n\t\t\t\t['linear'],\n\t\t\t\t['zoom'],\n\t\t\t\t5,\n\t\t\t\t10,\n\t\t\t\t10,\n\t\t\t\t12.0,\n\t\t\t\t13,\n\t\t\t\t14.0,\n\t\t\t\t14,\n\t\t\t\t16.0,\n\t\t\t\t18,\n\t\t\t\t18.0\n\t\t\t],\n\t\t\t'text-overlap': 'always',\n\t\t\t'text-variable-anchor': ['left', 'right', 'top', 'bottom'],\n\t\t\t'text-radial-offset': 0.5,\n\t\t\t'text-justify': 'center',\n\t\t\t'text-letter-spacing': 0.05\n\t\t},\n\t\tpaint: {\n\t\t\t'text-halo-color': '#F7F7F7',\n\t\t\t'text-halo-width': 2,\n\t\t\t'text-color': '#232E3D'\n\t\t}\n\t},\n\tlineLayerNodeSpec: {\n\t\tid: 'terradraw-measure-line-node',\n\t\ttype: 'circle',\n\t\tsource: 'terradraw-measure-line-source',\n\t\tfilter: ['==', '$type', 'Point'],\n\t\tlayout: {},\n\t\tpaint: {\n\t\t\t'circle-radius': 3,\n\t\t\t'circle-color': '#FFFFFF',\n\t\t\t'circle-stroke-color': '#000000',\n\t\t\t'circle-stroke-width': 1\n\t\t}\n\t},\n\tpolygonLayerSpec: {\n\t\tid: 'terradraw-measure-polygon-label',\n\t\ttype: 'symbol',\n\t\tsource: 'terradraw-measure-polygon-source',\n\t\tfilter: ['==', '$type', 'Point'],\n\t\tlayout: {\n\t\t\t'text-field': ['concat', ['to-string', ['get', 'area']], ' ', ['get', 'unit']],\n\t\t\t'symbol-placement': 'point',\n\t\t\t'text-size': [\n\t\t\t\t'interpolate',\n\t\t\t\t['linear'],\n\t\t\t\t['zoom'],\n\t\t\t\t5,\n\t\t\t\t10,\n\t\t\t\t10,\n\t\t\t\t12.0,\n\t\t\t\t13,\n\t\t\t\t14.0,\n\t\t\t\t14,\n\t\t\t\t16.0,\n\t\t\t\t18,\n\t\t\t\t18.0\n\t\t\t],\n\t\t\t'text-overlap': 'always',\n\t\t\t'text-letter-spacing': 0.05\n\t\t},\n\t\tpaint: {\n\t\t\t'text-halo-color': '#F7F7F7',\n\t\t\t'text-halo-width': 2,\n\t\t\t'text-color': '#232E3D'\n\t\t}\n\t},\n\tcomputeElevation: false,\n\tterrainSource: {\n\t\turl: 'https://s3.amazonaws.com/elevation-tiles-prod/terrarium/{z}/{x}/{y}.png',\n\t\tencoding: 'terrarium',\n\t\ttileSize: 256,\n\t\tminzoom: 5,\n\t\tmaxzoom: 15,\n\t\ttms: false\n\t},\n\tdistanceUnit: 'kilometers',\n\tdistancePrecision: 2,\n\tareaUnit: 'metric',\n\tareaPrecision: 2\n};\n","import type { MapGeoJSONFeature } from 'maplibre-gl';\nimport type { ModeOptions } from '../interfaces/ModeOptions';\nimport {\n\tTerraDrawAngledRectangleMode,\n\tTerraDrawCircleMode,\n\tTerraDrawFreehandMode,\n\tTerraDrawLineStringMode,\n\tTerraDrawPointMode,\n\tTerraDrawPolygonMode,\n\tTerraDrawRectangleMode,\n\tTerraDrawRenderMode,\n\tTerraDrawSectorMode,\n\tTerraDrawSelectMode,\n\tTerraDrawSensorMode,\n\tValidateNotSelfIntersecting\n} from 'terra-draw';\n\n/**\n * get default Terra Draw mode instances.\n * @returns default TerraDrawMode objects. Key is TerraDraw mode name, and value is Terra Draw mode object instance\n */\nexport const getDefaultModeOptions = () => {\n\tconst modeOptions: ModeOptions = {\n\t\trender: new TerraDrawRenderMode({\n\t\t\tmodeName: 'render',\n\t\t\tstyles: {}\n\t\t}),\n\t\tpoint: new TerraDrawPointMode({\n\t\t\teditable: true\n\t\t}),\n\t\tlinestring: new TerraDrawLineStringMode({\n\t\t\teditable: true\n\t\t}),\n\t\tpolygon: new TerraDrawPolygonMode({\n\t\t\teditable: true,\n\t\t\t// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n\t\t\t// @ts-ignore\n\t\t\tvalidation: (feature: MapGeoJSONFeature, e: { updateType: string }) => {\n\t\t\t\tconst updateType = e.updateType;\n\t\t\t\tif (updateType === 'finish' || updateType === 'commit') {\n\t\t\t\t\t// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n\t\t\t\t\t// @ts-ignore\n\t\t\t\t\treturn ValidateNotSelfIntersecting(feature);\n\t\t\t\t}\n\t\t\t\treturn { valid: true };\n\t\t\t}\n\t\t}),\n\t\trectangle: new TerraDrawRectangleMode(),\n\t\t'angled-rectangle': new TerraDrawAngledRectangleMode(),\n\t\tcircle: new TerraDrawCircleMode(),\n\t\tfreehand: new TerraDrawFreehandMode(),\n\t\tsensor: new TerraDrawSensorMode(),\n\t\tsector: new TerraDrawSectorMode(),\n\t\tselect: new TerraDrawSelectMode({\n\t\t\tflags: {\n\t\t\t\tpoint: {\n\t\t\t\t\tfeature: {\n\t\t\t\t\t\tdraggable: true\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tpolygon: {\n\t\t\t\t\tfeature: {\n\t\t\t\t\t\tdraggable: true,\n\t\t\t\t\t\trotateable: true,\n\t\t\t\t\t\tscaleable: true,\n\t\t\t\t\t\tcoordinates: {\n\t\t\t\t\t\t\tmidpoints: true,\n\t\t\t\t\t\t\tdraggable: true,\n\t\t\t\t\t\t\tdeletable: true\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tlinestring: {\n\t\t\t\t\tfeature: {\n\t\t\t\t\t\tdraggable: true,\n\t\t\t\t\t\trotateable: true,\n\t\t\t\t\t\tscaleable: true,\n\t\t\t\t\t\tcoordinates: {\n\t\t\t\t\t\t\tmidpoints: true,\n\t\t\t\t\t\t\tdraggable: true,\n\t\t\t\t\t\t\tdeletable: true\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfreehand: {\n\t\t\t\t\tfeature: {\n\t\t\t\t\t\tdraggable: true,\n\t\t\t\t\t\tcoordinates: {\n\t\t\t\t\t\t\tmidpoints: true,\n\t\t\t\t\t\t\tdraggable: true,\n\t\t\t\t\t\t\tdeletable: true\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tcircle: {\n\t\t\t\t\tfeature: {\n\t\t\t\t\t\tdraggable: true,\n\t\t\t\t\t\tcoordinates: {\n\t\t\t\t\t\t\tmidpoints: true,\n\t\t\t\t\t\t\tdraggable: true,\n\t\t\t\t\t\t\tdeletable: true\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\trectangle: {\n\t\t\t\t\tfeature: {\n\t\t\t\t\t\tdraggable: true,\n\t\t\t\t\t\trotateable: true,\n\t\t\t\t\t\tscaleable: true,\n\t\t\t\t\t\tcoordinates: {\n\t\t\t\t\t\t\tmidpoints: true,\n\t\t\t\t\t\t\tdraggable: true,\n\t\t\t\t\t\t\tdeletable: true\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t'angled-rectangle': {\n\t\t\t\t\tfeature: {\n\t\t\t\t\t\tdraggable: true,\n\t\t\t\t\t\trotateable: true,\n\t\t\t\t\t\tscaleable: true,\n\t\t\t\t\t\tcoordinates: {\n\t\t\t\t\t\t\tmidpoints: true,\n\t\t\t\t\t\t\tdraggable: true,\n\t\t\t\t\t\t\tdeletable: true\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tsensor: {\n\t\t\t\t\tfeature: {\n\t\t\t\t\t\tdraggable: true,\n\t\t\t\t\t\trotateable: true,\n\t\t\t\t\t\tscaleable: true,\n\t\t\t\t\t\tcoordinates: {\n\t\t\t\t\t\t\tmidpoints: true,\n\t\t\t\t\t\t\tdraggable: true,\n\t\t\t\t\t\t\tdeletable: true\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tsector: {\n\t\t\t\t\tfeature: {\n\t\t\t\t\t\tdraggable: true,\n\t\t\t\t\t\trotateable: true,\n\t\t\t\t\t\tscaleable: true,\n\t\t\t\t\t\tcoordinates: {\n\t\t\t\t\t\t\tmidpoints: true,\n\t\t\t\t\t\t\tdraggable: true,\n\t\t\t\t\t\t\tdeletable: true\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}),\n\t\tdelete: new TerraDrawRenderMode({\n\t\t\tmodeName: 'delete',\n\t\t\tstyles: {}\n\t\t}),\n\t\t'delete-selection': new TerraDrawRenderMode({\n\t\t\tmodeName: 'delete-selection',\n\t\t\tstyles: {}\n\t\t}),\n\t\tdownload: new TerraDrawRenderMode({\n\t\t\tmodeName: 'download',\n\t\t\tstyles: {}\n\t\t})\n\t};\n\treturn modeOptions;\n};\n","// index.ts\nvar earthRadius = 63710088e-1;\nvar factors = {\n  centimeters: earthRadius * 100,\n  centimetres: earthRadius * 100,\n  degrees: 360 / (2 * Math.PI),\n  feet: earthRadius * 3.28084,\n  inches: earthRadius * 39.37,\n  kilometers: earthRadius / 1e3,\n  kilometres: earthRadius / 1e3,\n  meters: earthRadius,\n  metres: earthRadius,\n  miles: earthRadius / 1609.344,\n  millimeters: earthRadius * 1e3,\n  millimetres: earthRadius * 1e3,\n  nauticalmiles: earthRadius / 1852,\n  radians: 1,\n  yards: earthRadius * 1.0936\n};\nvar areaFactors = {\n  acres: 247105e-9,\n  centimeters: 1e4,\n  centimetres: 1e4,\n  feet: 10.763910417,\n  hectares: 1e-4,\n  inches: 1550.003100006,\n  kilometers: 1e-6,\n  kilometres: 1e-6,\n  meters: 1,\n  metres: 1,\n  miles: 386e-9,\n  nauticalmiles: 29155334959812285e-23,\n  millimeters: 1e6,\n  millimetres: 1e6,\n  yards: 1.195990046\n};\nfunction feature(geom, properties, options = {}) {\n  const feat = { type: \"Feature\" };\n  if (options.id === 0 || options.id) {\n    feat.id = options.id;\n  }\n  if (options.bbox) {\n    feat.bbox = options.bbox;\n  }\n  feat.properties = properties || {};\n  feat.geometry = geom;\n  return feat;\n}\nfunction geometry(type, coordinates, _options = {}) {\n  switch (type) {\n    case \"Point\":\n      return point(coordinates).geometry;\n    case \"LineString\":\n      return lineString(coordinates).geometry;\n    case \"Polygon\":\n      return polygon(coordinates).geometry;\n    case \"MultiPoint\":\n      return multiPoint(coordinates).geometry;\n    case \"MultiLineString\":\n      return multiLineString(coordinates).geometry;\n    case \"MultiPolygon\":\n      return multiPolygon(coordinates).geometry;\n    default:\n      throw new Error(type + \" is invalid\");\n  }\n}\nfunction point(coordinates, properties, options = {}) {\n  if (!coordinates) {\n    throw new Error(\"coordinates is required\");\n  }\n  if (!Array.isArray(coordinates)) {\n    throw new Error(\"coordinates must be an Array\");\n  }\n  if (coordinates.length < 2) {\n    throw new Error(\"coordinates must be at least 2 numbers long\");\n  }\n  if (!isNumber(coordinates[0]) || !isNumber(coordinates[1])) {\n    throw new Error(\"coordinates must contain numbers\");\n  }\n  const geom = {\n    type: \"Point\",\n    coordinates\n  };\n  return feature(geom, properties, options);\n}\nfunction points(coordinates, properties, options = {}) {\n  return featureCollection(\n    coordinates.map((coords) => {\n      return point(coords, properties);\n    }),\n    options\n  );\n}\nfunction polygon(coordinates, properties, options = {}) {\n  for (const ring of coordinates) {\n    if (ring.length < 4) {\n      throw new Error(\n        \"Each LinearRing of a Polygon must have 4 or more Positions.\"\n      );\n    }\n    if (ring[ring.length - 1].length !== ring[0].length) {\n      throw new Error(\"First and last Position are not equivalent.\");\n    }\n    for (let j = 0; j < ring[ring.length - 1].length; j++) {\n      if (ring[ring.length - 1][j] !== ring[0][j]) {\n        throw new Error(\"First and last Position are not equivalent.\");\n      }\n    }\n  }\n  const geom = {\n    type: \"Polygon\",\n    coordinates\n  };\n  return feature(geom, properties, options);\n}\nfunction polygons(coordinates, properties, options = {}) {\n  return featureCollection(\n    coordinates.map((coords) => {\n      return polygon(coords, properties);\n    }),\n    options\n  );\n}\nfunction lineString(coordinates, properties, options = {}) {\n  if (coordinates.length < 2) {\n    throw new Error(\"coordinates must be an array of two or more positions\");\n  }\n  const geom = {\n    type: \"LineString\",\n    coordinates\n  };\n  return feature(geom, properties, options);\n}\nfunction lineStrings(coordinates, properties, options = {}) {\n  return featureCollection(\n    coordinates.map((coords) => {\n      return lineString(coords, properties);\n    }),\n    options\n  );\n}\nfunction featureCollection(features, options = {}) {\n  const fc = { type: \"FeatureCollection\" };\n  if (options.id) {\n    fc.id = options.id;\n  }\n  if (options.bbox) {\n    fc.bbox = options.bbox;\n  }\n  fc.features = features;\n  return fc;\n}\nfunction multiLineString(coordinates, properties, options = {}) {\n  const geom = {\n    type: \"MultiLineString\",\n    coordinates\n  };\n  return feature(geom, properties, options);\n}\nfunction multiPoint(coordinates, properties, options = {}) {\n  const geom = {\n    type: \"MultiPoint\",\n    coordinates\n  };\n  return feature(geom, properties, options);\n}\nfunction multiPolygon(coordinates, properties, options = {}) {\n  const geom = {\n    type: \"MultiPolygon\",\n    coordinates\n  };\n  return feature(geom, properties, options);\n}\nfunction geometryCollection(geometries, properties, options = {}) {\n  const geom = {\n    type: \"GeometryCollection\",\n    geometries\n  };\n  return feature(geom, properties, options);\n}\nfunction round(num, precision = 0) {\n  if (precision && !(precision >= 0)) {\n    throw new Error(\"precision must be a positive number\");\n  }\n  const multiplier = Math.pow(10, precision || 0);\n  return Math.round(num * multiplier) / multiplier;\n}\nfunction radiansToLength(radians, units = \"kilometers\") {\n  const factor = factors[units];\n  if (!factor) {\n    throw new Error(units + \" units is invalid\");\n  }\n  return radians * factor;\n}\nfunction lengthToRadians(distance, units = \"kilometers\") {\n  const factor = factors[units];\n  if (!factor) {\n    throw new Error(units + \" units is invalid\");\n  }\n  return distance / factor;\n}\nfunction lengthToDegrees(distance, units) {\n  return radiansToDegrees(lengthToRadians(distance, units));\n}\nfunction bearingToAzimuth(bearing) {\n  let angle = bearing % 360;\n  if (angle < 0) {\n    angle += 360;\n  }\n  return angle;\n}\nfunction azimuthToBearing(angle) {\n  angle = angle % 360;\n  if (angle > 180) {\n    return angle - 360;\n  } else if (angle < -180) {\n    return angle + 360;\n  }\n  return angle;\n}\nfunction radiansToDegrees(radians) {\n  const normalisedRadians = radians % (2 * Math.PI);\n  return normalisedRadians * 180 / Math.PI;\n}\nfunction degreesToRadians(degrees) {\n  const normalisedDegrees = degrees % 360;\n  return normalisedDegrees * Math.PI / 180;\n}\nfunction convertLength(length, originalUnit = \"kilometers\", finalUnit = \"kilometers\") {\n  if (!(length >= 0)) {\n    throw new Error(\"length must be a positive number\");\n  }\n  return radiansToLength(lengthToRadians(length, originalUnit), finalUnit);\n}\nfunction convertArea(area, originalUnit = \"meters\", finalUnit = \"kilometers\") {\n  if (!(area >= 0)) {\n    throw new Error(\"area must be a positive number\");\n  }\n  const startFactor = areaFactors[originalUnit];\n  if (!startFactor) {\n    throw new Error(\"invalid original units\");\n  }\n  const finalFactor = areaFactors[finalUnit];\n  if (!finalFactor) {\n    throw new Error(\"invalid final units\");\n  }\n  return area / startFactor * finalFactor;\n}\nfunction isNumber(num) {\n  return !isNaN(num) && num !== null && !Array.isArray(num);\n}\nfunction isObject(input) {\n  return input !== null && typeof input === \"object\" && !Array.isArray(input);\n}\nfunction validateBBox(bbox) {\n  if (!bbox) {\n    throw new Error(\"bbox is required\");\n  }\n  if (!Array.isArray(bbox)) {\n    throw new Error(\"bbox must be an Array\");\n  }\n  if (bbox.length !== 4 && bbox.length !== 6) {\n    throw new Error(\"bbox must be an Array of 4 or 6 numbers\");\n  }\n  bbox.forEach((num) => {\n    if (!isNumber(num)) {\n      throw new Error(\"bbox must only contain numbers\");\n    }\n  });\n}\nfunction validateId(id) {\n  if (!id) {\n    throw new Error(\"id is required\");\n  }\n  if ([\"string\", \"number\"].indexOf(typeof id) === -1) {\n    throw new Error(\"id must be a number or a string\");\n  }\n}\nexport {\n  areaFactors,\n  azimuthToBearing,\n  bearingToAzimuth,\n  convertArea,\n  convertLength,\n  degreesToRadians,\n  earthRadius,\n  factors,\n  feature,\n  featureCollection,\n  geometry,\n  geometryCollection,\n  isNumber,\n  isObject,\n  lengthToDegrees,\n  lengthToRadians,\n  lineString,\n  lineStrings,\n  multiLineString,\n  multiPoint,\n  multiPolygon,\n  point,\n  points,\n  polygon,\n  polygons,\n  radiansToDegrees,\n  radiansToLength,\n  round,\n  validateBBox,\n  validateId\n};\n//# sourceMappingURL=index.js.map","// index.js\nimport { feature, point, lineString, isObject } from \"@turf/helpers\";\nfunction coordEach(geojson, callback, excludeWrapCoord) {\n  if (geojson === null) return;\n  var j, k, l, geometry, stopG, coords, geometryMaybeCollection, wrapShrink = 0, coordIndex = 0, isGeometryCollection, type = geojson.type, isFeatureCollection = type === \"FeatureCollection\", isFeature = type === \"Feature\", stop = isFeatureCollection ? geojson.features.length : 1;\n  for (var featureIndex = 0; featureIndex < stop; featureIndex++) {\n    geometryMaybeCollection = isFeatureCollection ? geojson.features[featureIndex].geometry : isFeature ? geojson.geometry : geojson;\n    isGeometryCollection = geometryMaybeCollection ? geometryMaybeCollection.type === \"GeometryCollection\" : false;\n    stopG = isGeometryCollection ? geometryMaybeCollection.geometries.length : 1;\n    for (var geomIndex = 0; geomIndex < stopG; geomIndex++) {\n      var multiFeatureIndex = 0;\n      var geometryIndex = 0;\n      geometry = isGeometryCollection ? geometryMaybeCollection.geometries[geomIndex] : geometryMaybeCollection;\n      if (geometry === null) continue;\n      coords = geometry.coordinates;\n      var geomType = geometry.type;\n      wrapShrink = excludeWrapCoord && (geomType === \"Polygon\" || geomType === \"MultiPolygon\") ? 1 : 0;\n      switch (geomType) {\n        case null:\n          break;\n        case \"Point\":\n          if (callback(\n            coords,\n            coordIndex,\n            featureIndex,\n            multiFeatureIndex,\n            geometryIndex\n          ) === false)\n            return false;\n          coordIndex++;\n          multiFeatureIndex++;\n          break;\n        case \"LineString\":\n        case \"MultiPoint\":\n          for (j = 0; j < coords.length; j++) {\n            if (callback(\n              coords[j],\n              coordIndex,\n              featureIndex,\n              multiFeatureIndex,\n              geometryIndex\n            ) === false)\n              return false;\n            coordIndex++;\n            if (geomType === \"MultiPoint\") multiFeatureIndex++;\n          }\n          if (geomType === \"LineString\") multiFeatureIndex++;\n          break;\n        case \"Polygon\":\n        case \"MultiLineString\":\n          for (j = 0; j < coords.length; j++) {\n            for (k = 0; k < coords[j].length - wrapShrink; k++) {\n              if (callback(\n                coords[j][k],\n                coordIndex,\n                featureIndex,\n                multiFeatureIndex,\n                geometryIndex\n              ) === false)\n                return false;\n              coordIndex++;\n            }\n            if (geomType === \"MultiLineString\") multiFeatureIndex++;\n            if (geomType === \"Polygon\") geometryIndex++;\n          }\n          if (geomType === \"Polygon\") multiFeatureIndex++;\n          break;\n        case \"MultiPolygon\":\n          for (j = 0; j < coords.length; j++) {\n            geometryIndex = 0;\n            for (k = 0; k < coords[j].length; k++) {\n              for (l = 0; l < coords[j][k].length - wrapShrink; l++) {\n                if (callback(\n                  coords[j][k][l],\n                  coordIndex,\n                  featureIndex,\n                  multiFeatureIndex,\n                  geometryIndex\n                ) === false)\n                  return false;\n                coordIndex++;\n              }\n              geometryIndex++;\n            }\n            multiFeatureIndex++;\n          }\n          break;\n        case \"GeometryCollection\":\n          for (j = 0; j < geometry.geometries.length; j++)\n            if (coordEach(geometry.geometries[j], callback, excludeWrapCoord) === false)\n              return false;\n          break;\n        default:\n          throw new Error(\"Unknown Geometry Type\");\n      }\n    }\n  }\n}\nfunction coordReduce(geojson, callback, initialValue, excludeWrapCoord) {\n  var previousValue = initialValue;\n  coordEach(\n    geojson,\n    function(currentCoord, coordIndex, featureIndex, multiFeatureIndex, geometryIndex) {\n      if (coordIndex === 0 && initialValue === void 0)\n        previousValue = currentCoord;\n      else\n        previousValue = callback(\n          previousValue,\n          currentCoord,\n          coordIndex,\n          featureIndex,\n          multiFeatureIndex,\n          geometryIndex\n        );\n    },\n    excludeWrapCoord\n  );\n  return previousValue;\n}\nfunction propEach(geojson, callback) {\n  var i;\n  switch (geojson.type) {\n    case \"FeatureCollection\":\n      for (i = 0; i < geojson.features.length; i++) {\n        if (callback(geojson.features[i].properties, i) === false) break;\n      }\n      break;\n    case \"Feature\":\n      callback(geojson.properties, 0);\n      break;\n  }\n}\nfunction propReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  propEach(geojson, function(currentProperties, featureIndex) {\n    if (featureIndex === 0 && initialValue === void 0)\n      previousValue = currentProperties;\n    else\n      previousValue = callback(previousValue, currentProperties, featureIndex);\n  });\n  return previousValue;\n}\nfunction featureEach(geojson, callback) {\n  if (geojson.type === \"Feature\") {\n    callback(geojson, 0);\n  } else if (geojson.type === \"FeatureCollection\") {\n    for (var i = 0; i < geojson.features.length; i++) {\n      if (callback(geojson.features[i], i) === false) break;\n    }\n  }\n}\nfunction featureReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  featureEach(geojson, function(currentFeature, featureIndex) {\n    if (featureIndex === 0 && initialValue === void 0)\n      previousValue = currentFeature;\n    else previousValue = callback(previousValue, currentFeature, featureIndex);\n  });\n  return previousValue;\n}\nfunction coordAll(geojson) {\n  var coords = [];\n  coordEach(geojson, function(coord) {\n    coords.push(coord);\n  });\n  return coords;\n}\nfunction geomEach(geojson, callback) {\n  var i, j, g, geometry, stopG, geometryMaybeCollection, isGeometryCollection, featureProperties, featureBBox, featureId, featureIndex = 0, isFeatureCollection = geojson.type === \"FeatureCollection\", isFeature = geojson.type === \"Feature\", stop = isFeatureCollection ? geojson.features.length : 1;\n  for (i = 0; i < stop; i++) {\n    geometryMaybeCollection = isFeatureCollection ? geojson.features[i].geometry : isFeature ? geojson.geometry : geojson;\n    featureProperties = isFeatureCollection ? geojson.features[i].properties : isFeature ? geojson.properties : {};\n    featureBBox = isFeatureCollection ? geojson.features[i].bbox : isFeature ? geojson.bbox : void 0;\n    featureId = isFeatureCollection ? geojson.features[i].id : isFeature ? geojson.id : void 0;\n    isGeometryCollection = geometryMaybeCollection ? geometryMaybeCollection.type === \"GeometryCollection\" : false;\n    stopG = isGeometryCollection ? geometryMaybeCollection.geometries.length : 1;\n    for (g = 0; g < stopG; g++) {\n      geometry = isGeometryCollection ? geometryMaybeCollection.geometries[g] : geometryMaybeCollection;\n      if (geometry === null) {\n        if (callback(\n          null,\n          featureIndex,\n          featureProperties,\n          featureBBox,\n          featureId\n        ) === false)\n          return false;\n        continue;\n      }\n      switch (geometry.type) {\n        case \"Point\":\n        case \"LineString\":\n        case \"MultiPoint\":\n        case \"Polygon\":\n        case \"MultiLineString\":\n        case \"MultiPolygon\": {\n          if (callback(\n            geometry,\n            featureIndex,\n            featureProperties,\n            featureBBox,\n            featureId\n          ) === false)\n            return false;\n          break;\n        }\n        case \"GeometryCollection\": {\n          for (j = 0; j < geometry.geometries.length; j++) {\n            if (callback(\n              geometry.geometries[j],\n              featureIndex,\n              featureProperties,\n              featureBBox,\n              featureId\n            ) === false)\n              return false;\n          }\n          break;\n        }\n        default:\n          throw new Error(\"Unknown Geometry Type\");\n      }\n    }\n    featureIndex++;\n  }\n}\nfunction geomReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  geomEach(\n    geojson,\n    function(currentGeometry, featureIndex, featureProperties, featureBBox, featureId) {\n      if (featureIndex === 0 && initialValue === void 0)\n        previousValue = currentGeometry;\n      else\n        previousValue = callback(\n          previousValue,\n          currentGeometry,\n          featureIndex,\n          featureProperties,\n          featureBBox,\n          featureId\n        );\n    }\n  );\n  return previousValue;\n}\nfunction flattenEach(geojson, callback) {\n  geomEach(geojson, function(geometry, featureIndex, properties, bbox, id) {\n    var type = geometry === null ? null : geometry.type;\n    switch (type) {\n      case null:\n      case \"Point\":\n      case \"LineString\":\n      case \"Polygon\":\n        if (callback(\n          feature(geometry, properties, { bbox, id }),\n          featureIndex,\n          0\n        ) === false)\n          return false;\n        return;\n    }\n    var geomType;\n    switch (type) {\n      case \"MultiPoint\":\n        geomType = \"Point\";\n        break;\n      case \"MultiLineString\":\n        geomType = \"LineString\";\n        break;\n      case \"MultiPolygon\":\n        geomType = \"Polygon\";\n        break;\n    }\n    for (var multiFeatureIndex = 0; multiFeatureIndex < geometry.coordinates.length; multiFeatureIndex++) {\n      var coordinate = geometry.coordinates[multiFeatureIndex];\n      var geom = {\n        type: geomType,\n        coordinates: coordinate\n      };\n      if (callback(feature(geom, properties), featureIndex, multiFeatureIndex) === false)\n        return false;\n    }\n  });\n}\nfunction flattenReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  flattenEach(\n    geojson,\n    function(currentFeature, featureIndex, multiFeatureIndex) {\n      if (featureIndex === 0 && multiFeatureIndex === 0 && initialValue === void 0)\n        previousValue = currentFeature;\n      else\n        previousValue = callback(\n          previousValue,\n          currentFeature,\n          featureIndex,\n          multiFeatureIndex\n        );\n    }\n  );\n  return previousValue;\n}\nfunction segmentEach(geojson, callback) {\n  flattenEach(geojson, function(feature2, featureIndex, multiFeatureIndex) {\n    var segmentIndex = 0;\n    if (!feature2.geometry) return;\n    var type = feature2.geometry.type;\n    if (type === \"Point\" || type === \"MultiPoint\") return;\n    var previousCoords;\n    var previousFeatureIndex = 0;\n    var previousMultiIndex = 0;\n    var prevGeomIndex = 0;\n    if (coordEach(\n      feature2,\n      function(currentCoord, coordIndex, featureIndexCoord, multiPartIndexCoord, geometryIndex) {\n        if (previousCoords === void 0 || featureIndex > previousFeatureIndex || multiPartIndexCoord > previousMultiIndex || geometryIndex > prevGeomIndex) {\n          previousCoords = currentCoord;\n          previousFeatureIndex = featureIndex;\n          previousMultiIndex = multiPartIndexCoord;\n          prevGeomIndex = geometryIndex;\n          segmentIndex = 0;\n          return;\n        }\n        var currentSegment = lineString(\n          [previousCoords, currentCoord],\n          feature2.properties\n        );\n        if (callback(\n          currentSegment,\n          featureIndex,\n          multiFeatureIndex,\n          geometryIndex,\n          segmentIndex\n        ) === false)\n          return false;\n        segmentIndex++;\n        previousCoords = currentCoord;\n      }\n    ) === false)\n      return false;\n  });\n}\nfunction segmentReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  var started = false;\n  segmentEach(\n    geojson,\n    function(currentSegment, featureIndex, multiFeatureIndex, geometryIndex, segmentIndex) {\n      if (started === false && initialValue === void 0)\n        previousValue = currentSegment;\n      else\n        previousValue = callback(\n          previousValue,\n          currentSegment,\n          featureIndex,\n          multiFeatureIndex,\n          geometryIndex,\n          segmentIndex\n        );\n      started = true;\n    }\n  );\n  return previousValue;\n}\nfunction lineEach(geojson, callback) {\n  if (!geojson) throw new Error(\"geojson is required\");\n  flattenEach(geojson, function(feature2, featureIndex, multiFeatureIndex) {\n    if (feature2.geometry === null) return;\n    var type = feature2.geometry.type;\n    var coords = feature2.geometry.coordinates;\n    switch (type) {\n      case \"LineString\":\n        if (callback(feature2, featureIndex, multiFeatureIndex, 0, 0) === false)\n          return false;\n        break;\n      case \"Polygon\":\n        for (var geometryIndex = 0; geometryIndex < coords.length; geometryIndex++) {\n          if (callback(\n            lineString(coords[geometryIndex], feature2.properties),\n            featureIndex,\n            multiFeatureIndex,\n            geometryIndex\n          ) === false)\n            return false;\n        }\n        break;\n    }\n  });\n}\nfunction lineReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  lineEach(\n    geojson,\n    function(currentLine, featureIndex, multiFeatureIndex, geometryIndex) {\n      if (featureIndex === 0 && initialValue === void 0)\n        previousValue = currentLine;\n      else\n        previousValue = callback(\n          previousValue,\n          currentLine,\n          featureIndex,\n          multiFeatureIndex,\n          geometryIndex\n        );\n    }\n  );\n  return previousValue;\n}\nfunction findSegment(geojson, options) {\n  options = options || {};\n  if (!isObject(options)) throw new Error(\"options is invalid\");\n  var featureIndex = options.featureIndex || 0;\n  var multiFeatureIndex = options.multiFeatureIndex || 0;\n  var geometryIndex = options.geometryIndex || 0;\n  var segmentIndex = options.segmentIndex || 0;\n  var properties = options.properties;\n  var geometry;\n  switch (geojson.type) {\n    case \"FeatureCollection\":\n      if (featureIndex < 0)\n        featureIndex = geojson.features.length + featureIndex;\n      properties = properties || geojson.features[featureIndex].properties;\n      geometry = geojson.features[featureIndex].geometry;\n      break;\n    case \"Feature\":\n      properties = properties || geojson.properties;\n      geometry = geojson.geometry;\n      break;\n    case \"Point\":\n    case \"MultiPoint\":\n      return null;\n    case \"LineString\":\n    case \"Polygon\":\n    case \"MultiLineString\":\n    case \"MultiPolygon\":\n      geometry = geojson;\n      break;\n    default:\n      throw new Error(\"geojson is invalid\");\n  }\n  if (geometry === null) return null;\n  var coords = geometry.coordinates;\n  switch (geometry.type) {\n    case \"Point\":\n    case \"MultiPoint\":\n      return null;\n    case \"LineString\":\n      if (segmentIndex < 0) segmentIndex = coords.length + segmentIndex - 1;\n      return lineString(\n        [coords[segmentIndex], coords[segmentIndex + 1]],\n        properties,\n        options\n      );\n    case \"Polygon\":\n      if (geometryIndex < 0) geometryIndex = coords.length + geometryIndex;\n      if (segmentIndex < 0)\n        segmentIndex = coords[geometryIndex].length + segmentIndex - 1;\n      return lineString(\n        [\n          coords[geometryIndex][segmentIndex],\n          coords[geometryIndex][segmentIndex + 1]\n        ],\n        properties,\n        options\n      );\n    case \"MultiLineString\":\n      if (multiFeatureIndex < 0)\n        multiFeatureIndex = coords.length + multiFeatureIndex;\n      if (segmentIndex < 0)\n        segmentIndex = coords[multiFeatureIndex].length + segmentIndex - 1;\n      return lineString(\n        [\n          coords[multiFeatureIndex][segmentIndex],\n          coords[multiFeatureIndex][segmentIndex + 1]\n        ],\n        properties,\n        options\n      );\n    case \"MultiPolygon\":\n      if (multiFeatureIndex < 0)\n        multiFeatureIndex = coords.length + multiFeatureIndex;\n      if (geometryIndex < 0)\n        geometryIndex = coords[multiFeatureIndex].length + geometryIndex;\n      if (segmentIndex < 0)\n        segmentIndex = coords[multiFeatureIndex][geometryIndex].length - segmentIndex - 1;\n      return lineString(\n        [\n          coords[multiFeatureIndex][geometryIndex][segmentIndex],\n          coords[multiFeatureIndex][geometryIndex][segmentIndex + 1]\n        ],\n        properties,\n        options\n      );\n  }\n  throw new Error(\"geojson is invalid\");\n}\nfunction findPoint(geojson, options) {\n  options = options || {};\n  if (!isObject(options)) throw new Error(\"options is invalid\");\n  var featureIndex = options.featureIndex || 0;\n  var multiFeatureIndex = options.multiFeatureIndex || 0;\n  var geometryIndex = options.geometryIndex || 0;\n  var coordIndex = options.coordIndex || 0;\n  var properties = options.properties;\n  var geometry;\n  switch (geojson.type) {\n    case \"FeatureCollection\":\n      if (featureIndex < 0)\n        featureIndex = geojson.features.length + featureIndex;\n      properties = properties || geojson.features[featureIndex].properties;\n      geometry = geojson.features[featureIndex].geometry;\n      break;\n    case \"Feature\":\n      properties = properties || geojson.properties;\n      geometry = geojson.geometry;\n      break;\n    case \"Point\":\n    case \"MultiPoint\":\n      return null;\n    case \"LineString\":\n    case \"Polygon\":\n    case \"MultiLineString\":\n    case \"MultiPolygon\":\n      geometry = geojson;\n      break;\n    default:\n      throw new Error(\"geojson is invalid\");\n  }\n  if (geometry === null) return null;\n  var coords = geometry.coordinates;\n  switch (geometry.type) {\n    case \"Point\":\n      return point(coords, properties, options);\n    case \"MultiPoint\":\n      if (multiFeatureIndex < 0)\n        multiFeatureIndex = coords.length + multiFeatureIndex;\n      return point(coords[multiFeatureIndex], properties, options);\n    case \"LineString\":\n      if (coordIndex < 0) coordIndex = coords.length + coordIndex;\n      return point(coords[coordIndex], properties, options);\n    case \"Polygon\":\n      if (geometryIndex < 0) geometryIndex = coords.length + geometryIndex;\n      if (coordIndex < 0)\n        coordIndex = coords[geometryIndex].length + coordIndex;\n      return point(coords[geometryIndex][coordIndex], properties, options);\n    case \"MultiLineString\":\n      if (multiFeatureIndex < 0)\n        multiFeatureIndex = coords.length + multiFeatureIndex;\n      if (coordIndex < 0)\n        coordIndex = coords[multiFeatureIndex].length + coordIndex;\n      return point(coords[multiFeatureIndex][coordIndex], properties, options);\n    case \"MultiPolygon\":\n      if (multiFeatureIndex < 0)\n        multiFeatureIndex = coords.length + multiFeatureIndex;\n      if (geometryIndex < 0)\n        geometryIndex = coords[multiFeatureIndex].length + geometryIndex;\n      if (coordIndex < 0)\n        coordIndex = coords[multiFeatureIndex][geometryIndex].length - coordIndex;\n      return point(\n        coords[multiFeatureIndex][geometryIndex][coordIndex],\n        properties,\n        options\n      );\n  }\n  throw new Error(\"geojson is invalid\");\n}\nexport {\n  coordAll,\n  coordEach,\n  coordReduce,\n  featureEach,\n  featureReduce,\n  findPoint,\n  findSegment,\n  flattenEach,\n  flattenReduce,\n  geomEach,\n  geomReduce,\n  lineEach,\n  lineReduce,\n  propEach,\n  propReduce,\n  segmentEach,\n  segmentReduce\n};\n//# sourceMappingURL=index.js.map","// index.ts\nimport { earthRadius } from \"@turf/helpers\";\nimport { geomReduce } from \"@turf/meta\";\nfunction area(geojson) {\n  return geomReduce(\n    geojson,\n    (value, geom) => {\n      return value + calculateArea(geom);\n    },\n    0\n  );\n}\nfunction calculateArea(geom) {\n  let total = 0;\n  let i;\n  switch (geom.type) {\n    case \"Polygon\":\n      return polygonArea(geom.coordinates);\n    case \"MultiPolygon\":\n      for (i = 0; i < geom.coordinates.length; i++) {\n        total += polygonArea(geom.coordinates[i]);\n      }\n      return total;\n    case \"Point\":\n    case \"MultiPoint\":\n    case \"LineString\":\n    case \"MultiLineString\":\n      return 0;\n  }\n  return 0;\n}\nfunction polygonArea(coords) {\n  let total = 0;\n  if (coords && coords.length > 0) {\n    total += Math.abs(ringArea(coords[0]));\n    for (let i = 1; i < coords.length; i++) {\n      total -= Math.abs(ringArea(coords[i]));\n    }\n  }\n  return total;\n}\nvar FACTOR = earthRadius * earthRadius / 2;\nvar PI_OVER_180 = Math.PI / 180;\nfunction ringArea(coords) {\n  const coordsLength = coords.length - 1;\n  if (coordsLength <= 2) return 0;\n  let total = 0;\n  let i = 0;\n  while (i < coordsLength) {\n    const lower = coords[i];\n    const middle = coords[i + 1 === coordsLength ? 0 : i + 1];\n    const upper = coords[i + 2 >= coordsLength ? (i + 2) % coordsLength : i + 2];\n    const lowerX = lower[0] * PI_OVER_180;\n    const middleY = middle[1] * PI_OVER_180;\n    const upperX = upper[0] * PI_OVER_180;\n    total += (upperX - lowerX) * Math.sin(middleY);\n    i++;\n  }\n  return total * FACTOR;\n}\nvar turf_area_default = area;\nexport {\n  area,\n  turf_area_default as default\n};\n//# sourceMappingURL=index.js.map","import type { AreaUnit } from '../interfaces';\n\n/**\n * convert area unit to metric or imperial\n * @param value area value in m2\n * @param unit area unit either metric or imperial\n * @returns result object with area and unit properties adter unit conversion\n */\nexport const convertAreaUnit = (value: number, unit: AreaUnit) => {\n\tlet outputArea = value;\n\tlet outputUnit = 'm';\n\n\tif (unit === 'metric') {\n\t\tif (value >= 1000000) {\n\t\t\t// 1 km = 1,000,000 m\n\t\t\toutputArea = value / 1000000;\n\t\t\toutputUnit = 'km';\n\t\t} else if (value >= 10000) {\n\t\t\t// 1 ha = 10,000 m\n\t\t\toutputArea = value / 10000;\n\t\t\toutputUnit = 'ha';\n\t\t}\n\t} else {\n\t\tif (value >= 2589988.11) {\n\t\t\t// 1 mi = 2,589,988.11 m\n\t\t\toutputArea = value / 2589988.11;\n\t\t\toutputUnit = 'mi';\n\t\t} else if (value >= 4046.856) {\n\t\t\t// 1 acre = 4,046.856 m\n\t\t\toutputArea = value / 4046.856;\n\t\t\toutputUnit = 'acre';\n\t\t} else if (value >= 0.83612736) {\n\t\t\t// 1 yd = 0.83612736 m\n\t\t\toutputArea = value / 0.83612736;\n\t\t\toutputUnit = 'yd';\n\t\t}\n\t}\n\n\treturn { area: outputArea, unit: outputUnit };\n};\n","import type { AreaUnit } from '../interfaces/AreaUnit';\nimport area from '@turf/area';\nimport type { GeoJSONStoreFeatures } from 'terra-draw';\nimport { convertAreaUnit } from './convertAreaUnit';\n\n/**\n * Calculate area from polygon feature\n * @param feature Polygon GeoJSON feature\n * @param areaUnit Area unit\n * @param areaPrecision Precision of area value\n * @returns  The returning feature will contain `area`,`unit` properties.\n */\nexport const calcArea = (\n\tfeature: GeoJSONStoreFeatures,\n\tareaUnit: AreaUnit,\n\tareaPrecision: number\n) => {\n\tif (feature.geometry.type !== 'Polygon') return feature;\n\t// caculate area in m2 by using turf/area\n\tconst result = area(feature.geometry);\n\n\tconst converted = convertAreaUnit(result, areaUnit);\n\tconverted.area = parseFloat(converted.area.toFixed(areaPrecision));\n\n\tfeature.properties.area = converted.area;\n\tfeature.properties.unit = converted.unit;\n\n\treturn feature;\n};\n","// index.ts\nimport { isNumber } from \"@turf/helpers\";\nfunction getCoord(coord) {\n  if (!coord) {\n    throw new Error(\"coord is required\");\n  }\n  if (!Array.isArray(coord)) {\n    if (coord.type === \"Feature\" && coord.geometry !== null && coord.geometry.type === \"Point\") {\n      return [...coord.geometry.coordinates];\n    }\n    if (coord.type === \"Point\") {\n      return [...coord.coordinates];\n    }\n  }\n  if (Array.isArray(coord) && coord.length >= 2 && !Array.isArray(coord[0]) && !Array.isArray(coord[1])) {\n    return [...coord];\n  }\n  throw new Error(\"coord must be GeoJSON Point or an Array of numbers\");\n}\nfunction getCoords(coords) {\n  if (Array.isArray(coords)) {\n    return coords;\n  }\n  if (coords.type === \"Feature\") {\n    if (coords.geometry !== null) {\n      return coords.geometry.coordinates;\n    }\n  } else {\n    if (coords.coordinates) {\n      return coords.coordinates;\n    }\n  }\n  throw new Error(\n    \"coords must be GeoJSON Feature, Geometry Object or an Array\"\n  );\n}\nfunction containsNumber(coordinates) {\n  if (coordinates.length > 1 && isNumber(coordinates[0]) && isNumber(coordinates[1])) {\n    return true;\n  }\n  if (Array.isArray(coordinates[0]) && coordinates[0].length) {\n    return containsNumber(coordinates[0]);\n  }\n  throw new Error(\"coordinates must only contain numbers\");\n}\nfunction geojsonType(value, type, name) {\n  if (!type || !name) {\n    throw new Error(\"type and name required\");\n  }\n  if (!value || value.type !== type) {\n    throw new Error(\n      \"Invalid input to \" + name + \": must be a \" + type + \", given \" + value.type\n    );\n  }\n}\nfunction featureOf(feature, type, name) {\n  if (!feature) {\n    throw new Error(\"No feature passed\");\n  }\n  if (!name) {\n    throw new Error(\".featureOf() requires a name\");\n  }\n  if (!feature || feature.type !== \"Feature\" || !feature.geometry) {\n    throw new Error(\n      \"Invalid input to \" + name + \", Feature with geometry required\"\n    );\n  }\n  if (!feature.geometry || feature.geometry.type !== type) {\n    throw new Error(\n      \"Invalid input to \" + name + \": must be a \" + type + \", given \" + feature.geometry.type\n    );\n  }\n}\nfunction collectionOf(featureCollection, type, name) {\n  if (!featureCollection) {\n    throw new Error(\"No featureCollection passed\");\n  }\n  if (!name) {\n    throw new Error(\".collectionOf() requires a name\");\n  }\n  if (!featureCollection || featureCollection.type !== \"FeatureCollection\") {\n    throw new Error(\n      \"Invalid input to \" + name + \", FeatureCollection required\"\n    );\n  }\n  for (const feature of featureCollection.features) {\n    if (!feature || feature.type !== \"Feature\" || !feature.geometry) {\n      throw new Error(\n        \"Invalid input to \" + name + \", Feature with geometry required\"\n      );\n    }\n    if (!feature.geometry || feature.geometry.type !== type) {\n      throw new Error(\n        \"Invalid input to \" + name + \": must be a \" + type + \", given \" + feature.geometry.type\n      );\n    }\n  }\n}\nfunction getGeom(geojson) {\n  if (geojson.type === \"Feature\") {\n    return geojson.geometry;\n  }\n  return geojson;\n}\nfunction getType(geojson, _name) {\n  if (geojson.type === \"FeatureCollection\") {\n    return \"FeatureCollection\";\n  }\n  if (geojson.type === \"GeometryCollection\") {\n    return \"GeometryCollection\";\n  }\n  if (geojson.type === \"Feature\" && geojson.geometry !== null) {\n    return geojson.geometry.type;\n  }\n  return geojson.type;\n}\nexport {\n  collectionOf,\n  containsNumber,\n  featureOf,\n  geojsonType,\n  getCoord,\n  getCoords,\n  getGeom,\n  getType\n};\n//# sourceMappingURL=index.js.map","// index.ts\nimport { getCoord } from \"@turf/invariant\";\nimport { radiansToLength, degreesToRadians } from \"@turf/helpers\";\nfunction distance(from, to, options = {}) {\n  var coordinates1 = getCoord(from);\n  var coordinates2 = getCoord(to);\n  var dLat = degreesToRadians(coordinates2[1] - coordinates1[1]);\n  var dLon = degreesToRadians(coordinates2[0] - coordinates1[0]);\n  var lat1 = degreesToRadians(coordinates1[1]);\n  var lat2 = degreesToRadians(coordinates2[1]);\n  var a = Math.pow(Math.sin(dLat / 2), 2) + Math.pow(Math.sin(dLon / 2), 2) * Math.cos(lat1) * Math.cos(lat2);\n  return radiansToLength(\n    2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a)),\n    options.units\n  );\n}\nvar turf_distance_default = distance;\nexport {\n  turf_distance_default as default,\n  distance\n};\n//# sourceMappingURL=index.js.map","import type { DistanceUnit } from '../interfaces/DistanceUnit';\n\n/**\n * Get the equivalent unit name for displaying\n * @param distanceUnit distance unit\n * @returns Unit name for displaying\n */\nexport const getDistanceUnitName = (distanceUnit: DistanceUnit) => {\n\tif (distanceUnit === 'degrees') {\n\t\treturn '';\n\t} else if (distanceUnit === 'miles') {\n\t\treturn 'mi';\n\t} else if (distanceUnit === 'radians') {\n\t\treturn 'rad';\n\t} else {\n\t\treturn 'km';\n\t}\n};\n","/**\n * Converts a distance in kilometers to the appropriate unit (km, m, or cm).\n * - If the value is 1 km or more, it returns the value in kilometers.\n * - If the value is less than 1 km but 1 meter or more, it returns the value in meters.\n * - If the value is less than 1 meter, it returns the value in centimeters.\n *\n * @param distance - The distance in kilometers.\n * @returns the converted value and unit.\n */\nexport const convertMetricDistance = (\n\tdistance: number\n): { distance: number; unit: 'km' | 'm' | 'cm' } => {\n\tif (distance >= 1) {\n\t\treturn {\n\t\t\tdistance: distance,\n\t\t\tunit: 'km'\n\t\t};\n\t}\n\n\tconst meters = distance * 1000;\n\tif (meters >= 1) {\n\t\treturn {\n\t\t\tdistance: meters,\n\t\t\tunit: 'm'\n\t\t};\n\t}\n\n\tconst centimeters = meters * 100;\n\treturn {\n\t\tdistance: centimeters,\n\t\tunit: 'cm'\n\t};\n};\n","import distance from '@turf/distance';\nimport type { GeoJSONStoreFeatures } from 'terra-draw';\nimport { getDistanceUnitName } from './getDistanceUnitName';\nimport type { LngLatLike, Map } from 'maplibre-gl';\nimport type { DistanceUnit, TerrainSource } from '../interfaces';\nimport { convertMetricDistance } from './convertMetricDistance';\n\n/**\n * Caclulate distance for each segment on a given feature\n * @param feature LineString GeoJSON feature\n * @param distanceUnit Distance unit\n * @param distancePrecision Precision of distance\n * @param map Maplibre map instance\n * @param computeElevation Compute elevation for each segment\n * @param terrainSource Terrain source for elevation calculation. If terrainSource is undefined, going to to query elevation from maplibre terrain.\n * @returns The returning feature will contain `segments`, `distance`, `unit` properties. `segments` will have multiple point features.\n */\nexport const calcDistance = (\n\tfeature: GeoJSONStoreFeatures,\n\tdistanceUnit: DistanceUnit,\n\tdistancePrecision: number,\n\tmap?: Map,\n\tcomputeElevation?: boolean,\n\tterrainSource?: TerrainSource\n) => {\n\tif (feature.geometry.type !== 'LineString') return feature;\n\tconst coordinates: number[][] = (feature as GeoJSONStoreFeatures).geometry\n\t\t.coordinates as number[][];\n\n\t// calculate distance for each segment of LineString feature\n\tlet totalDistance = 0;\n\tconst segments: GeoJSONStoreFeatures[] = [];\n\tfor (let i = 0; i < coordinates.length - 1; i++) {\n\t\tconst start = coordinates[i];\n\t\tconst end = coordinates[i + 1];\n\t\tconst result = distance(start, end, { units: distanceUnit });\n\t\ttotalDistance += result;\n\n\t\t// segment\n\t\tconst segment = JSON.parse(JSON.stringify(feature));\n\t\tsegment.id = `${segment.id}-${i}`;\n\t\tsegment.geometry.coordinates = [start, end];\n\t\tsegment.properties.originalId = feature.id;\n\t\tsegment.properties.distance = result;\n\t\tsegment.properties.total = totalDistance;\n\t\tsegment.properties.unit = getDistanceUnitName(distanceUnit);\n\t\tsegment.properties.totalUnit = getDistanceUnitName(distanceUnit);\n\n\t\tif (computeElevation === true && terrainSource === undefined) {\n\t\t\tconst elevation_start = map?.queryTerrainElevation(start as LngLatLike);\n\t\t\tif (elevation_start) {\n\t\t\t\tsegment.properties.elevation_start = elevation_start;\n\t\t\t}\n\n\t\t\tconst elevation_end = map?.queryTerrainElevation(end as LngLatLike);\n\t\t\tif (elevation_end) {\n\t\t\t\tsegment.properties.elevation_end = elevation_end;\n\t\t\t}\n\t\t}\n\n\t\tsegments.push(segment);\n\t}\n\n\tfeature.properties.distance = segments[segments.length - 1].properties.total;\n\tfeature.properties.unit = segments[segments.length - 1].properties.unit;\n\tfeature.properties.segments = JSON.parse(JSON.stringify(segments));\n\n\tif (distanceUnit === 'kilometers') {\n\t\t// convert kilometers to meters or centimeters if distance is small\n\t\tconst metricDistance = convertMetricDistance(feature.properties.distance as number);\n\t\tfeature.properties.distance = metricDistance.distance;\n\t\tfeature.properties.unit = metricDistance.unit;\n\n\t\t(feature.properties.segments as unknown as GeoJSONStoreFeatures[]).forEach(\n\t\t\t(segment: GeoJSONStoreFeatures) => {\n\t\t\t\tconst segmentDistance = convertMetricDistance(segment.properties.distance as number);\n\t\t\t\tsegment.properties.distance = segmentDistance.distance;\n\t\t\t\tsegment.properties.unit = segmentDistance.unit;\n\n\t\t\t\tconst segmentTotalDistance = convertMetricDistance(segment.properties.total as number);\n\t\t\t\tsegment.properties.total = segmentTotalDistance.distance;\n\t\t\t\tsegment.properties.totalUnit = segmentTotalDistance.unit;\n\t\t\t}\n\t\t);\n\t}\n\n\t//  round distance precision according to the config.\n\tfeature.properties.distance = parseFloat(\n\t\t(feature.properties.distance as number).toFixed(distancePrecision)\n\t);\n\n\t(feature.properties.segments as unknown as GeoJSONStoreFeatures[]).forEach(\n\t\t(segment: GeoJSONStoreFeatures) => {\n\t\t\tsegment.properties.distance = parseFloat(\n\t\t\t\t(segment.properties.distance as number).toFixed(distancePrecision)\n\t\t\t);\n\t\t\tsegment.properties.total = parseFloat(\n\t\t\t\t(segment.properties.total as number).toFixed(distancePrecision)\n\t\t\t);\n\t\t}\n\t);\n\n\treturn feature;\n};\n","/**\n * Capitalzie string value\n * @param value string value\n * @returns string\n */\nexport const capitalize = (value: string) => {\n\treturn value.charAt(0).toUpperCase() + value.slice(1);\n};\n","import { defaultMeasureControlOptions } from '../constants';\nimport type { StyleSpecification } from 'maplibre-gl';\n\nexport const TERRADRAW_SOURCE_IDS = ['td-point', 'td-linestring', 'td-polygon'];\nexport const TERRADRAW_MEASURE_SOURCE_IDS = [\n\t...TERRADRAW_SOURCE_IDS,\n\tdefaultMeasureControlOptions.polygonLayerSpec?.source as string,\n\tdefaultMeasureControlOptions.lineLayerLabelSpec?.source as string,\n\tdefaultMeasureControlOptions.pointLayerLabelSpec?.source as string\n];\n\n/**\n * clean maplibre style to filter only for terradraw related layers or without them.\n * If options are not set, returns original style given to the function.\n *\n * This can be useful incase users only want to get terradraw related layers or without it.\n *\n * Usage:\n * `cleanMaplibreStyle(map.getStyle, { excludeTerraDrawLayers: true})`\n * `cleanMaplibreStyle(map.getStyle, { onlyTerraDrawLayers: true})`\n *\n * @param style maplibre style spec\n * @param options.excludeTerraDrawLayers return maplibre style without terradraw layers and sources\n * @param options.onlyTerraDrawLayers return maplibre style with only terradraw layers and sources\n * @param sourceIds terradraw related source IDs (internally used). Use TERRADRAW_SOURCE_IDS or TERRADRAW_MEASURE_SOURCE_IDS\n * @returns maplibre style spec\n */\nexport const cleanMaplibreStyle = (\n\tstyle: StyleSpecification,\n\toptions?: { excludeTerraDrawLayers?: boolean; onlyTerraDrawLayers?: boolean },\n\tsourceIds = TERRADRAW_SOURCE_IDS\n) => {\n\tconst cloned: StyleSpecification = JSON.parse(JSON.stringify(style));\n\tif (options) {\n\t\tif (options.onlyTerraDrawLayers === true) {\n\t\t\tcloned.layers = cloned.layers.filter((l) => {\n\t\t\t\treturn 'source' in l && sourceIds.includes(l.source);\n\t\t\t});\n\t\t\tObject.keys(cloned.sources).forEach((key) => {\n\t\t\t\tif (!sourceIds.includes(key)) {\n\t\t\t\t\tdelete cloned.sources[key];\n\t\t\t\t}\n\t\t\t});\n\t\t} else if (options.excludeTerraDrawLayers === true) {\n\t\t\tcloned.layers = cloned.layers.filter((l) => {\n\t\t\t\treturn 'source' in l && !sourceIds.includes(l.source);\n\t\t\t});\n\t\t\tObject.keys(cloned.sources).forEach((key) => {\n\t\t\t\tif (sourceIds.includes(key)) {\n\t\t\t\t\tdelete cloned.sources[key];\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\treturn cloned;\n};\n","/**\n * debounce\n * @param callback callback function\n * @param delay millisecond to delay\n */\nexport const debounce = <T extends (...args: Parameters<T>) => unknown>(\n\tcallback: T,\n\tdelay = 250\n): ((...args: Parameters<T>) => void) => {\n\tlet timeoutId: number;\n\treturn (...args) => {\n\t\tclearTimeout(timeoutId);\n\t\ttimeoutId = setTimeout(() => callback(...args), delay) as unknown as number;\n\t};\n};\n","import type { TerrainSource } from '../interfaces';\nimport type { GeoJSONStoreFeatures } from 'terra-draw';\nimport { Map, type LngLatLike } from 'maplibre-gl';\n\n/**\n * query elevation by point feature.\n * @param feature point geojson feature\n * @param map Maplibre map instance\n * @param computeElevation compute elevation or not\n * @param terrainSource terrain source for computing elevation from raster DEM. If terrainSource is undefined, going to to query elevation from maplibre terrain.\n * @returns geojson feature after computing\n */\nexport const queryElevationByPoint = (\n\tfeature: GeoJSONStoreFeatures,\n\tmap?: Map,\n\tcomputeElevation?: boolean,\n\tterrainSource?: TerrainSource\n) => {\n\tif (feature.geometry.type !== 'Point') return feature;\n\n\tconst coordinates: number[] = (feature as GeoJSONStoreFeatures).geometry.coordinates as number[];\n\n\tif (computeElevation === true && terrainSource === undefined) {\n\t\tconst elevation = map?.queryTerrainElevation(coordinates as LngLatLike);\n\t\tif (elevation) {\n\t\t\tfeature.properties.elevation = elevation;\n\t\t}\n\t}\n\treturn feature;\n};\n","var b = Object.defineProperty;\nvar T = (t, e, r) => e in t ? b(t, e, { enumerable: !0, configurable: !0, writable: !0, value: r }) : t[e] = r;\nvar d = (t, e, r) => T(t, typeof e != \"symbol\" ? e + \"\" : e, r);\nvar v = 2 * Math.PI * 6378137 / 2;\nfunction E(t) {\n  return t = t || 256, 2 * Math.PI * 6378137 / t;\n}\nfunction y(t, e, r = { enable: !0, decimal: 1 }) {\n  t = x(t);\n  var n = t[0], i = t[1], o = n * v / 180, a = Math.log(Math.tan((90 + i) * Math.PI / 360)) / (Math.PI / 180);\n  return a = a * v / 180, r.enable && (o = Number(o.toFixed(r.decimal)), a = Number(a.toFixed(r.decimal))), [o, a];\n}\nfunction I(t, e, r) {\n  var n = t[0], i = t[1], o = R(e, r), a = (n + v) / o, s = (i + v) / o;\n  return [a, s, e];\n}\nfunction g(t, e, r) {\n  t = x(t);\n  var n = y(t), i = I(n, e);\n  return F(i);\n}\nfunction z(t, e, r) {\n  if (t = x(t), e === 0)\n    return [0, 0, 0];\n  var n = g(t, e);\n  return L(n);\n}\nfunction F(t, e, r) {\n  e = e || 256;\n  var n = t[0], i = t[1], o = t[2];\n  if (o === 0) return [0, 0, 0];\n  p(o);\n  var a = Math.ceil(n / e) - 1, s = Math.ceil(i / e) - 1;\n  return a < 0 && (a = 0), s < 0 && (s = 0), [a, s, o];\n}\nfunction L(t, e) {\n  q(t);\n  var r = t[0], n = t[1], i = t[2];\n  if (i === 0)\n    return [0, 0, 0];\n  var o = r, a = Math.pow(2, i) - 1 - n;\n  return [o, a, i];\n}\nfunction q(t, e) {\n  var r = t[0], n = t[1], i = t[2];\n  if (i == null) throw new Error(\"<zoom> is required\");\n  if (r == null) throw new Error(\"<x> is required\");\n  if (n == null) throw new Error(\"<y> is required\");\n  return i = p(i), t = B(t), t;\n}\nfunction B(t) {\n  var e = t[0], r = t[1], n = t[2], i = Math.pow(2, n);\n  return e = e % i, e < 0 && (e = e + i), [e, r, n];\n}\nfunction p(t) {\n  if (t === !1) return t;\n  if (t == null)\n    throw new Error(\"<zoom> is required\");\n  if (t < 0)\n    throw new Error(\"<zoom> cannot be less than 0\");\n  if (t > 32)\n    throw new Error(\"<zoom> cannot be greater than 32\");\n  return t;\n}\nfunction x(t, e) {\n  var r = V(t[0]), n = U(t[1]);\n  return n > 85 && (n = 85), n < -85 && (n = -85), [r, n];\n}\nfunction R(t, e) {\n  return E(e) / Math.pow(2, t);\n}\nfunction U(t) {\n  if (t == null) throw new Error(\"lat is required\");\n  return (t > 90 || t < -90) && (t = t % 180, t > 90 && (t = -180 + t), t < -90 && (t = 180 + t), t === 0 && (t = 0)), t;\n}\nfunction V(t) {\n  if (t == null) throw new Error(\"lng is required\");\n  return (t > 180 || t < -180) && (t = t % 360, t > 180 && (t = -360 + t), t < -180 && (t = 360 + t), t === 0 && (t = 0)), t;\n}\nclass M {\n  /**\n   * Constructor\n   * @param url URL for terrain RGB raster tilesets\n   * @param tileSize size of tile. 256 or 512\n   * @param tms whether it is Tile Map Service\n   * @param minzoom minzoom for terrain RGB raster tilesets\n   * @param maxzoom maxzoom for terrain RGB raster tilesets\n   * @param tms whether it is Tile Map Service\n   */\n  constructor(e, r, n, i, o) {\n    d(this, \"url\");\n    d(this, \"tileSize\");\n    d(this, \"tms\");\n    d(this, \"minzoom\");\n    d(this, \"maxzoom\");\n    this.url = e, this.tileSize = r, this.tms = o, this.minzoom = n, this.maxzoom = i, this.tms = o;\n  }\n  /**\n   * Get the value from target coordinates and zoom level by using certain formula.\n   * @param lnglat coordinates\n   * @param z  zoom level\n   * @returns the value calculated by certain formula\n   */\n  getValue(e, r) {\n    return new Promise(\n      (n, i) => {\n        const o = e[0], a = e[1];\n        let s = r;\n        r > this.maxzoom ? s = this.maxzoom : r < this.minzoom && (s = this.minzoom);\n        const u = this.tms ? g([o, a], s) : z([o, a], s), h = this.url.replace(/{x}/g, u[0].toString()).replace(/{y}/g, u[1].toString()).replace(/{z}/g, u[2].toString());\n        let c = this.getUrlExtension(h);\n        switch (c || (c = \"png\"), c) {\n          case \"png\":\n          case \"webp\":\n            this.getValueFromRaster(h, u, o, a).then((f) => {\n              n(f);\n            });\n            break;\n          default:\n            i(new Error(`Invalid file extension: ${c}`));\n            break;\n        }\n      }\n    );\n  }\n  /**\n   * Get the value calculated from coordinates on WEBP raster tileset\n   * @param url tile URL\n   * @param tile tile index info\n   * @param lng longitude\n   * @param lat latitude\n   * @returns the value calculated from coordinates. If tile does not exist returns undefined\n   */\n  async getValueFromRaster(e, r, n, i) {\n    const o = await fetch(e);\n    if (!o.ok) {\n      if (o.status === 404)\n        return;\n      throw new Error(`Failed to fetch tile: ${o.statusText}`);\n    }\n    const a = await o.blob();\n    return new Promise((s, u) => {\n      const h = new Image();\n      h.onload = () => {\n        const c = document.createElement(\"canvas\");\n        c.width = h.width, c.height = h.height;\n        const f = c.getContext(\"2d\");\n        if (!f) return u(new Error(\"Failed to create canvas context\"));\n        f.drawImage(h, 0, 0);\n        const w = f.getImageData(0, 0, h.width, h.height).data, l = this.pixels2rgba(new Uint8Array(w), r, n, i), m = this.calc(l[0], l[1], l[2], l[3]);\n        s(m);\n      }, h.onerror = () => s(void 0), h.src = URL.createObjectURL(a);\n    });\n  }\n  /**\n   * Get RGBA values from coordinates information\n   * @param pixels pixels info\n   * @param tile tile index info\n   * @param lng longitude\n   * @param lat latitude\n   * @returns RGBA values\n   */\n  pixels2rgba(e, r, n, i) {\n    const o = [];\n    for (let c = 0; c < e.length; c += 4) {\n      const f = e[c], w = e[c + 1], l = e[c + 2], m = e[c + 3], P = [f, w, l, m];\n      o.push(P);\n    }\n    const a = this.tileToBBOX(r), s = this.getPixelPosition(n, i, a), u = s[0] + s[1] * this.tileSize;\n    return o[u];\n  }\n  /**\n   * Get the position in pixel from the coordinates\n   * @param lng longitude\n   * @param lat latitude\n   * @param bbox bbox (minx, miny, maxx, maxy)\n   * @returns The position in pixel\n   */\n  getPixelPosition(e, r, n) {\n    const i = this.tileSize, o = this.tileSize, a = n[2] - n[0], s = n[3] - n[1], u = (e - n[0]) / a, h = (r - n[1]) / s, c = Math.floor(i * u), f = Math.floor(o * (1 - h));\n    return [c, f];\n  }\n  /**\n   * Get file extenstion name from the URL\n   * @param url URL for tilesets\n   * @returns file extenstion either png or webp\n   */\n  getUrlExtension(e) {\n    let r = e.split(/[#?]/)[0].split(\".\").pop();\n    return r && (r = r.trim()), r;\n  }\n  /**\n   * Get the bbox of a tile\n   * @param {Array<number>} tile\n   * @returns {Array<number>} bbox\n   * @example\n   * var bbox = tileToBBOX([5, 10, 10])\n   * //=bbox\n   */\n  tileToBBOX(e) {\n    const r = this.tile2lon(e[0] + 1, e[2]), n = this.tile2lon(e[0], e[2]), i = this.tile2lat(e[1] + 1, e[2]), o = this.tile2lat(e[1], e[2]);\n    return [n, i, r, o];\n  }\n  tile2lon(e, r) {\n    return e / Math.pow(2, r) * 360 - 180;\n  }\n  tile2lat(e, r) {\n    const n = 180 / Math.PI, i = Math.PI - 2 * Math.PI * e / Math.pow(2, r);\n    return n * Math.atan(0.5 * (Math.exp(i) - Math.exp(-i)));\n  }\n}\nclass k extends M {\n  /**\n   * Constructor\n   * @param url URL for terrain RGB raster tilesets\n   * @param tileSize size of tile. 256 or 512\n   * @param tms whether it is Tile Map Service\n   * @param minzoom minzoom for terrain RGB raster tilesets. default is 5\n   * @param maxzoom maxzoom for terrain RGB raster tilesets. default is 15\n   */\n  constructor(e, r, n = 5, i = 15, o = !1) {\n    super(e, r, n, i, o);\n  }\n  /**\n   * Get an altitude calculated from terrain RGB information\n   * @param lnglat coordinates\n   * @param z zoom level\n   * @returns an altitude calculated from terrain RGB information\n   */\n  async getElevation(e, r) {\n    return await this.getValue(e, r);\n  }\n  /**\n   * Formula for calculating an elevation from RGB\n   * @param r red\n   * @param g green\n   * @param b blue\n   * @returns an elevation calculated\n   */\n  calc(e, r, n) {\n    return -1e4 + (e * 256 * 256 + r * 256 + n) * 0.1;\n  }\n}\nclass G extends M {\n  /**\n   * Constructor\n   * @param url URL for terrarium raster tilesets\n   * @param tileSize size of tile. 256 or 512\n   * @param tms whether it is Tile Map Service\n   * @param minzoom minzoom for terrain RGB raster tilesets. default is 5\n   * @param maxzoom maxzoom for terrain RGB raster tilesets. default is 15\n   */\n  constructor(e, r, n = 5, i = 15, o = !1) {\n    super(e, r, n, i, o);\n  }\n  /**\n   * Get an altitude calculated from terrain RGB information\n   * @param lnglat coordinates\n   * @param z zoom level\n   * @returns an altitude calculated from terrain RGB information\n   */\n  async getElevation(e, r) {\n    return await this.getValue(e, r);\n  }\n  /**\n   * Formula for calculating an elevation from RGB\n   * https://github.com/tilezen/joerd/blob/master/docs/formats.md#terrarium\n   * @param r red\n   * @param g green\n   * @param b blue\n   * @returns an elevation calculated\n   */\n  calc(e, r, n) {\n    const i = e * 256 + r + n / 256 - 32768;\n    return parseInt(i.toFixed(0));\n  }\n}\nexport {\n  k as TerrainRGB,\n  G as Terrarium\n};\n//# sourceMappingURL=terrain-rgb.es.js.map\n","import type { TerrainSource } from '../interfaces';\nimport { TerrainRGB, Terrarium } from '@watergis/terrain-rgb';\nimport type { GeoJSONStoreFeatures } from 'terra-draw';\n\n/**\n * Query elvation for point features from Raster DEM\n * @param points Point GeoJSON features\n * @returns points features after adding elevation property\n */\nexport const queryElevationFromRasterDEM = async (\n\tpoints: GeoJSONStoreFeatures[],\n\tterrainDource?: TerrainSource\n) => {\n\tconst promises: Promise<GeoJSONStoreFeatures>[] = [];\n\tfor (const point of points) {\n\t\tpromises.push(\n\t\t\tnew Promise((resolve: (feature: GeoJSONStoreFeatures) => void) => {\n\t\t\t\tif (point.geometry.type !== 'Point') resolve(point);\n\t\t\t\tif (terrainDource) {\n\t\t\t\t\tconst url = terrainDource.url;\n\t\t\t\t\tconst encoding = terrainDource.encoding ?? 'mapbox';\n\t\t\t\t\tconst tileSize = terrainDource.tileSize ?? 512;\n\t\t\t\t\tconst minzoom = terrainDource.minzoom ?? 5;\n\t\t\t\t\tconst maxzoom = terrainDource.maxzoom ?? 15;\n\t\t\t\t\tconst tms = terrainDource.tms ?? false;\n\n\t\t\t\t\t(encoding === 'mapbox'\n\t\t\t\t\t\t? new TerrainRGB(url, tileSize, minzoom, maxzoom, tms)\n\t\t\t\t\t\t: new Terrarium(url, tileSize, minzoom, maxzoom, tms)\n\t\t\t\t\t)\n\t\t\t\t\t\t.getElevation(point.geometry.coordinates as number[], maxzoom)\n\t\t\t\t\t\t.then((elevation) => {\n\t\t\t\t\t\t\tif (elevation) point.properties.elevation = elevation;\n\t\t\t\t\t\t\tresolve(point);\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(() => resolve(point));\n\t\t\t\t} else {\n\t\t\t\t\tresolve(point);\n\t\t\t\t}\n\t\t\t})\n\t\t);\n\t}\n\treturn await Promise.all(promises);\n};\n","import type { GeoJSONStoreFeatures } from 'terra-draw';\nimport type { Position } from 'geojson';\n\n/**\n * Round coordinates to given coordinate precision\n *\n * If you want to add geojson with excessive coordinate precision to TerraDraw by using addFeatures,\n * TerraDraw raise a validation error if you add GeoJSON with excessive precision.\n *\n * use this function to make sure geojson coordinates to meet terradraw setting before adding features.\n *\n * The below is a sample usage of the function\n *\n * ```js\n * const drawControl = new MaplibreTerraDrawControl({\n *   adapterOptions: {\n *     coordinatePrecision: 6\n *   }\n * })\n * map.addControl(drawControl)\n *\n * map.once('load', ()=>{\n *   const features = [] // add your geojson features here\n *   const draw = drawControl.getTerradrawInstance()\n *   draw.addFeatures(roundFeatureCoordinates(features), 6)\n * })\n * ```\n * @param features GeoJSON feature\n * @param decimalPlaces decimal places to 9 (default of terradraw)\n * @returns GeoJSON feature after rounding coordinates\n */\nexport const roundFeatureCoordinates = (\n\tfeatures: GeoJSONStoreFeatures[],\n\tdecimalPlaces: number = 9\n) => {\n\t// Helper function to round a single coordinate\n\tfunction roundCoord(coord: Position) {\n\t\treturn [Number(coord[0].toFixed(decimalPlaces)), Number(coord[1].toFixed(decimalPlaces))];\n\t}\n\n\t// Process coordinates based on geometry type\n\tfunction processGeometry(geometry: GeoJSONStoreFeatures['geometry']) {\n\t\tconst type = geometry.type as\n\t\t\t| 'Polygon'\n\t\t\t| 'LineString'\n\t\t\t| 'Point'\n\t\t\t| 'MultiPoint'\n\t\t\t| 'MultiLineString'\n\t\t\t| 'MultiPolygon';\n\t\tlet coordinates = geometry.coordinates as Position | Position[] | Position[][] | Position[][][];\n\n\t\tswitch (type) {\n\t\t\tcase 'Point':\n\t\t\t\tcoordinates = roundCoord(coordinates as [number, number]);\n\t\t\t\tbreak;\n\t\t\tcase 'LineString':\n\t\t\tcase 'MultiPoint':\n\t\t\t\tcoordinates = (coordinates as Position[]).map(roundCoord);\n\t\t\t\tbreak;\n\t\t\tcase 'Polygon':\n\t\t\tcase 'MultiLineString':\n\t\t\t\tcoordinates = (coordinates as Position[][]).map((ring: Position[]) => ring.map(roundCoord));\n\t\t\t\tbreak;\n\t\t\tcase 'MultiPolygon':\n\t\t\t\tcoordinates = (coordinates as unknown as Position[][][]).map((polygon: Position[][]) =>\n\t\t\t\t\tpolygon.map((ring: Position[]) => ring.map(roundCoord))\n\t\t\t\t);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t\treturn {\n\t\t\t...geometry,\n\t\t\tcoordinates: coordinates\n\t\t};\n\t}\n\n\t// Process each feature\n\treturn features.map((feature) => ({\n\t\t...feature,\n\t\tgeometry: processGeometry(feature.geometry) as GeoJSONStoreFeatures['geometry']\n\t}));\n};\n","import type { ControlPosition, IControl, Map, StyleSpecification } from 'maplibre-gl';\nimport {\n\ttype GeoJSONStoreFeatures,\n\tTerraDraw,\n\tTerraDrawExtend,\n\tTerraDrawRenderMode\n} from 'terra-draw';\nimport { TerraDrawMapLibreGLAdapter } from 'terra-draw-maplibre-gl-adapter';\nimport type {\n\tTerradrawControlOptions,\n\tEventType,\n\tTerradrawMode,\n\tTerradrawModeClass\n} from '../interfaces';\nimport { defaultControlOptions, getDefaultModeOptions } from '../constants';\nimport { capitalize, cleanMaplibreStyle, TERRADRAW_SOURCE_IDS } from '../helpers';\n\n/**\n * Maplibre GL Terra Draw Control\n */\nexport class MaplibreTerradrawControl implements IControl {\n\tprotected controlContainer?: HTMLElement;\n\tprotected map?: Map;\n\tprotected modeButtons: { [key: string]: HTMLButtonElement } = {};\n\tprotected _isExpanded = false;\n\n\t/**\n\t * get the state of whether the control is expanded or collapsed\n\t */\n\tpublic get isExpanded(): boolean {\n\t\treturn this._isExpanded;\n\t}\n\n\t/**\n\t * set the state of the control either expanded or collapsed.\n\t * terradraw mode will be reset if the state is changed.\n\t * either `expanded` or `collapsed` event is dispatched when changed\n\t */\n\tpublic set isExpanded(value: boolean) {\n\t\tthis._isExpanded = value;\n\t\tconst controls = document.getElementsByClassName('maplibregl-terradraw-add-control');\n\t\tfor (let i = 0; i < controls.length; i++) {\n\t\t\tconst item = controls.item(i);\n\t\t\tif (!item) continue;\n\t\t\tif (this.isExpanded) {\n\t\t\t\titem.classList.remove('hidden');\n\t\t\t} else {\n\t\t\t\titem.classList.add('hidden');\n\t\t\t}\n\t\t}\n\t\tconst addButton = document.getElementsByClassName('maplibregl-terradraw-render-button');\n\t\tif (addButton && addButton.length > 0) {\n\t\t\tif (this.isExpanded) {\n\t\t\t\taddButton.item(0)?.classList.add('enabled');\n\t\t\t} else {\n\t\t\t\taddButton.item(0)?.classList.remove('enabled');\n\t\t\t\tthis.resetActiveMode();\n\t\t\t}\n\t\t}\n\t\tthis.toggleDeleteSelectionButton();\n\t\tthis.toggleButtonsWhenNoFeature();\n\t\tif (this.isExpanded) {\n\t\t\tthis.dispatchEvent('expanded');\n\t\t} else {\n\t\t\tthis.dispatchEvent('collapsed');\n\t\t}\n\t}\n\n\tprotected terradraw?: TerraDraw;\n\tprotected options: TerradrawControlOptions = defaultControlOptions;\n\tprotected events: {\n\t\t[key: string]: [(event?: { feature?: GeoJSONStoreFeatures[]; mode?: TerradrawMode }) => void];\n\t} = {};\n\n\tprotected defaultMode = 'render';\n\n\t/**\n\t * Constructor\n\t * @param options Plugin control options\n\t */\n\tconstructor(options?: TerradrawControlOptions) {\n\t\tthis.modeButtons = {};\n\n\t\tif (options) {\n\t\t\tthis.options = Object.assign(this.options, options);\n\t\t}\n\t}\n\n\t/**\n\t * Get the default control position\n\t * @returns default control position. Default is 'top-right'\n\t */\n\tpublic getDefaultPosition(): ControlPosition {\n\t\tconst defaultPosition = 'top-right';\n\t\treturn defaultPosition;\n\t}\n\n\t/**\n\t * add the plugin control to maplibre\n\t * @param map Maplibre Map object\n\t * @returns HTML Element\n\t */\n\tpublic onAdd(map: Map): HTMLElement {\n\t\tif (this.options && this.options.modes && this.options.modes.length === 0) {\n\t\t\tthrow new Error('At least a mode must be enabled.');\n\t\t}\n\t\tthis.map = map;\n\n\t\tconst defaultOptions = getDefaultModeOptions();\n\t\tconst modes: TerradrawModeClass[] = [];\n\n\t\tthis.options?.modes?.forEach((m) => {\n\t\t\tif (this.options.modeOptions && this.options.modeOptions[m]) {\n\t\t\t\tconst newOption = this.options.modeOptions[m];\n\n\t\t\t\tif (m === 'select') {\n\t\t\t\t\t// overwrite other select mode settings if new option does not contain.\n\t\t\t\t\tconst defaultOption = defaultOptions[m];\n\t\t\t\t\tif (defaultOption) {\n\t\t\t\t\t\t// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n\t\t\t\t\t\t// @ts-ignore\n\t\t\t\t\t\tconst flags = defaultOption.flags;\n\t\t\t\t\t\tObject.keys(flags).forEach((key) => {\n\t\t\t\t\t\t\t// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n\t\t\t\t\t\t\t// @ts-ignore\n\t\t\t\t\t\t\tif (newOption.flags[key]) return;\n\t\t\t\t\t\t\t// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n\t\t\t\t\t\t\t// @ts-ignore\n\t\t\t\t\t\t\tnewOption.flags[key] = flags[key];\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tmodes.push(newOption);\n\t\t\t} else if (defaultOptions[m]) {\n\t\t\t\tmodes.push(defaultOptions[m]);\n\t\t\t}\n\t\t});\n\n\t\t// sometimes, an error of 'Can not register unless mode is unregistered' is thrown by terradraw,\n\t\t// thus, force reset mode state as unregistered\n\t\tmodes.forEach((m) => {\n\t\t\tif (m.state !== 'unregistered') {\n\t\t\t\t// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n\t\t\t\t// @ts-ignore\n\t\t\t\tm._state = 'unregistered';\n\t\t\t}\n\t\t});\n\n\t\t// if no render button is specified, it add hidden render mode\n\t\tif (!this.options?.modes?.includes('render')) {\n\t\t\tmodes.push(\n\t\t\t\tnew TerraDrawRenderMode({\n\t\t\t\t\tmodeName: 'default',\n\t\t\t\t\tstyles: {}\n\t\t\t\t})\n\t\t\t);\n\t\t\tthis.defaultMode = 'default';\n\t\t}\n\n\t\tthis.isExpanded = this.options.open === true;\n\n\t\tthis.terradraw = new TerraDraw({\n\t\t\tadapter: new TerraDrawMapLibreGLAdapter({ map, ...this.options.adapterOptions }),\n\t\t\tmodes: modes\n\t\t});\n\n\t\tthis.terradraw.start();\n\n\t\tthis.controlContainer = document.createElement('div');\n\t\tthis.controlContainer.classList.add(`maplibregl-ctrl`);\n\t\tthis.controlContainer.classList.add(`maplibregl-ctrl-group`);\n\n\t\tmodes.forEach((m: TerradrawModeClass) => {\n\t\t\tif (m.mode === 'default') return;\n\t\t\tthis.addTerradrawButton(m.mode as TerradrawMode);\n\t\t});\n\n\t\tObject.values(this.modeButtons).forEach((ele) => {\n\t\t\tthis.controlContainer?.appendChild(ele);\n\t\t});\n\n\t\tthis.terradraw?.on('change', this.toggleButtonsWhenNoFeature.bind(this));\n\t\tthis.toggleButtonsWhenNoFeature();\n\t\treturn this.controlContainer;\n\t}\n\n\t/**\n\t * Remove the plugin control from maplibre\n\t * @returns void\n\t */\n\tpublic onRemove(): void {\n\t\tif (!this.controlContainer || !this.controlContainer.parentNode || !this.map) {\n\t\t\treturn;\n\t\t}\n\t\tthis.deactivate();\n\t\tthis.modeButtons = {};\n\t\tthis.terradraw = undefined;\n\t\tthis.map = undefined;\n\t\tthis.controlContainer.parentNode.removeChild(this.controlContainer);\n\t}\n\n\t/**\n\t * Register an event for the plugin\n\t * @param event event type\n\t * @param callback\n\t */\n\tpublic on(event: EventType, callback: (event?: { feature?: GeoJSONStoreFeatures[] }) => void) {\n\t\tif (!this.events[event]) {\n\t\t\tthis.events[event] = [callback];\n\t\t} else {\n\t\t\tthis.events[event].push(callback);\n\t\t}\n\t}\n\n\t/**\n\t * Unregister an event for the plugin\n\t * @param event event type\n\t * @param callback\n\t * @returns\n\t */\n\tpublic off(event: EventType, callback: (event?: { feature?: GeoJSONStoreFeatures[] }) => void) {\n\t\tif (!this.events[event]) return;\n\t\tconst index = this.events[event].findIndex((c) => c === callback);\n\t\tif (index !== -1) {\n\t\t\tthis.events[event].splice(index, 1);\n\t\t}\n\t}\n\n\t/**\n\t * Dispatch an event. Pass the current snapshot of features and mode\n\t * @param event event type\n\t * @param args additional arguments\n\t */\n\tprotected dispatchEvent(event: EventType, args?: { [key: string]: unknown }) {\n\t\tif (this.events[event]) {\n\t\t\tthis.events[event].forEach((callback) => {\n\t\t\t\tconst snapshot = this.terradraw?.getSnapshot();\n\t\t\t\tconst currentFeature = snapshot?.filter((f) => f.properties.selected === true);\n\t\t\t\tcallback({\n\t\t\t\t\tfeature: currentFeature,\n\t\t\t\t\tmode: this.terradraw?.getMode() as TerradrawMode,\n\t\t\t\t\t...args\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t}\n\n\t/**\n\t * Activate Terra Draw to start drawing\n\t */\n\tpublic activate() {\n\t\tif (!this.terradraw) return;\n\t\tif (!this.terradraw.enabled) {\n\t\t\tthis.terradraw.start();\n\t\t\tthis.dispatchEvent('mode-changed');\n\t\t}\n\t}\n\n\t/**\n\t * Deactivate Terra Draw to stop drawing\n\t */\n\tpublic deactivate() {\n\t\tif (!this.terradraw) return;\n\t\tif (!this.terradraw.enabled) return;\n\t\tthis.resetActiveMode();\n\t\tthis.dispatchEvent('mode-changed');\n\t\tthis.terradraw.stop();\n\t}\n\n\t/**\n\t * Get the Terra Draw instance.\n\t * For the Terra Draw API, please refer to https://terradraw.io/#/api\n\t * @returns Terra Draw instance\n\t */\n\tpublic getTerraDrawInstance() {\n\t\treturn this.terradraw;\n\t}\n\n\t/**\n\t * Toggle editor control\n\t */\n\tprotected toggleEditor() {\n\t\tif (!this.terradraw) return;\n\t\tthis.isExpanded = !this.isExpanded;\n\t}\n\n\t/**\n\t * Reset active mode to back to render mode\n\t */\n\tprotected resetActiveMode() {\n\t\tif (!this.terradraw) return;\n\t\tif (!this.terradraw.enabled) {\n\t\t\tthis.terradraw.start();\n\t\t}\n\t\tconst controls = document.getElementsByClassName('maplibregl-terradraw-add-control');\n\t\tfor (let i = 0; i < controls.length; i++) {\n\t\t\tconst item = controls.item(i);\n\t\t\tif (!item) continue;\n\t\t\titem.classList.remove('active');\n\t\t}\n\t\tthis.terradraw?.setMode(this.defaultMode);\n\t}\n\n\t/**\n\t * Add Terra Draw drawing mode button\n\t * @param mode Terra Draw mode name\n\t */\n\tprotected addTerradrawButton(mode: TerradrawMode) {\n\t\tconst btn = document.createElement('button');\n\t\tbtn.type = 'button';\n\t\tthis.modeButtons[mode] = btn;\n\n\t\tif (mode === 'render') {\n\t\t\tbtn.classList.add(`maplibregl-terradraw-${mode}-button`);\n\n\t\t\tif (this.isExpanded) {\n\t\t\t\tbtn.classList.add('enabled');\n\t\t\t}\n\t\t\tbtn.type = 'button';\n\t\t\tbtn.title = capitalize('expand or collapse drawing tool');\n\t\t\tbtn.addEventListener('click', this.toggleEditor.bind(this));\n\t\t} else {\n\t\t\tbtn.classList.add('maplibregl-terradraw-add-control');\n\n\t\t\tif (!this.isExpanded) {\n\t\t\t\tbtn.classList.add('hidden');\n\t\t\t}\n\t\t\tbtn.title = capitalize(mode.replace(/-/g, ' '));\n\n\t\t\tif (mode === 'delete') {\n\t\t\t\tbtn.classList.add(`maplibregl-terradraw-${mode}-button`);\n\n\t\t\t\tbtn.addEventListener('click', () => {\n\t\t\t\t\tif (!this.terradraw) return;\n\t\t\t\t\tif (!this.terradraw.enabled) return;\n\n\t\t\t\t\tthis.terradraw.clear();\n\t\t\t\t\tthis.deactivate();\n\t\t\t\t\tthis.toggleDeleteSelectionButton();\n\t\t\t\t\tthis.toggleButtonsWhenNoFeature();\n\t\t\t\t\tthis.dispatchEvent('feature-deleted');\n\t\t\t\t});\n\t\t\t} else if (mode === 'delete-selection') {\n\t\t\t\tbtn.classList.add(`maplibregl-terradraw-${mode}-button`);\n\t\t\t\tbtn.classList.add(`hidden-delete-selection`);\n\t\t\t\tbtn.addEventListener('click', () => {\n\t\t\t\t\tif (!this.terradraw) return;\n\t\t\t\t\tif (!this.terradraw.enabled) return;\n\n\t\t\t\t\tconst snapshot = this.terradraw?.getSnapshot();\n\t\t\t\t\tconst selected = snapshot.filter((f) => f.properties.selected === true);\n\n\t\t\t\t\tif (selected.length > 0) {\n\t\t\t\t\t\t// if feature is selected, delete only selected feature\n\t\t\t\t\t\tconst ids = selected.map((f) => f.id) as TerraDrawExtend.FeatureId[];\n\n\t\t\t\t\t\tthis.terradraw.removeFeatures(ids);\n\t\t\t\t\t\tfor (const id of ids) {\n\t\t\t\t\t\t\tthis.terradraw.deselectFeature(id);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.dispatchEvent('feature-deleted', { deletedIds: ids as string[] });\n\t\t\t\t\t}\n\t\t\t\t\tthis.toggleDeleteSelectionButton();\n\t\t\t\t\tthis.toggleButtonsWhenNoFeature();\n\t\t\t\t});\n\t\t\t} else if (mode === 'download') {\n\t\t\t\tbtn.classList.add(`maplibregl-terradraw-${mode}-button`);\n\t\t\t\tbtn.addEventListener('click', this.handleDownload.bind(this));\n\t\t\t} else {\n\t\t\t\tbtn.classList.add(`maplibregl-terradraw-add-${mode}-button`);\n\n\t\t\t\tbtn.addEventListener('click', () => {\n\t\t\t\t\tif (!this.terradraw) return;\n\n\t\t\t\t\tconst isActive = btn.classList.contains('active');\n\t\t\t\t\tthis.activate();\n\t\t\t\t\tthis.resetActiveMode();\n\n\t\t\t\t\tif (!isActive) {\n\t\t\t\t\t\tthis.terradraw.setMode(mode);\n\t\t\t\t\t\tbtn.classList.add('active');\n\t\t\t\t\t}\n\t\t\t\t\tthis.toggleDeleteSelectionButton();\n\t\t\t\t\tthis.toggleButtonsWhenNoFeature();\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * get GeoJSON features\n\t * @param onlySelected If true, returns only selected features. Default is false.\n\t * @returns FeatureCollection in GeoJSON format\n\t */\n\tpublic getFeatures(onlySelected = false) {\n\t\tif (!this.terradraw) return;\n\t\tconst snapshot = this.terradraw?.getSnapshot();\n\t\tconst features = snapshot.filter((f) => f.properties.mode !== 'select');\n\n\t\tconst fc = {\n\t\t\ttype: 'FeatureCollection',\n\t\t\tfeatures: features\n\t\t};\n\t\tif (onlySelected !== true) {\n\t\t\treturn fc;\n\t\t}\n\t\tfc.features = fc.features.filter((f) => f.properties.selected === true);\n\t\treturn fc;\n\t}\n\n\t/**\n\t * clean maplibre style to filter only for terradraw related layers or without them.\n\t * If options are not set, returns original style given to the function.\n\t *\n\t * This can be useful incase users only want to get terradraw related layers or without it.\n\t *\n\t * Usage:\n\t * `cleanStyle(map.getStyle, { excludeTerraDrawLayers: true})`\n\t * `cleanStyle(map.getStyle, { onlyTerraDrawLayers: true})`\n\t *\n\t * @param style maplibre style spec\n\t * @param options.excludeTerraDrawLayers return maplibre style without terradraw layers and sources\n\t * @param options.onlyTerraDrawLayers return maplibre style with only terradraw layers and sources\n\t * @returns\n\t */\n\tpublic cleanStyle(\n\t\tstyle: StyleSpecification,\n\t\toptions?: { excludeTerraDrawLayers?: boolean; onlyTerraDrawLayers?: boolean }\n\t) {\n\t\treturn cleanMaplibreStyle(style, options, TERRADRAW_SOURCE_IDS);\n\t}\n\n\t/**\n\t * Download button click event handler\n\t */\n\tprotected handleDownload() {\n\t\tconst fc = this.getFeatures(false);\n\n\t\tconst dataStr = 'data:application/json;charset=utf-8,' + encodeURIComponent(JSON.stringify(fc));\n\t\tconst download = document.createElement('a');\n\t\tdownload.setAttribute('href', dataStr);\n\t\tdownload.setAttribute('download', 'data.geojson');\n\t\tdocument.body.appendChild(download);\n\t\tdownload.click();\n\t\tdownload.remove();\n\t}\n\n\t/**\n\t * Toggle the state of buttons when there is no features\n\t */\n\tprotected toggleButtonsWhenNoFeature() {\n\t\tif (!this.controlContainer) return;\n\t\tconst fc = this.getFeatures(false);\n\t\tconst isActive = fc && fc.features.length > 0 ? true : false;\n\n\t\tconst targets = [\n\t\t\t`maplibregl-terradraw-add-select-button`,\n\t\t\t`maplibregl-terradraw-download-button`,\n\t\t\t`maplibregl-terradraw-delete-button`\n\t\t];\n\t\tfor (const className of targets) {\n\t\t\tconst btns = this.controlContainer.getElementsByClassName(className);\n\t\t\tfor (let i = 0; i < btns.length; i++) {\n\t\t\t\tconst btn = btns.item(i) as HTMLButtonElement;\n\t\t\t\tif (!btn) continue;\n\t\t\t\tbtn.disabled = !isActive;\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Toggle the state of delete-select button\n\t */\n\tprotected toggleDeleteSelectionButton() {\n\t\tconst enabled = this.terradraw?.enabled || false;\n\t\tconst mode = this.terradraw?.getMode();\n\t\tconst fc = this.getFeatures(false);\n\t\tconst hasFeatures = fc && fc.features.length > 0;\n\t\tconst isActive = hasFeatures && enabled && mode === 'select';\n\t\tconst btns = document.getElementsByClassName(`maplibregl-terradraw-delete-selection-button`);\n\t\tfor (let i = 0; i < btns.length; i++) {\n\t\t\tconst btn = btns.item(i);\n\t\t\tif (!btn) continue;\n\t\t\tif (isActive) {\n\t\t\t\tbtn.classList.remove('hidden-delete-selection');\n\t\t\t} else {\n\t\t\t\tbtn.classList.add('hidden-delete-selection');\n\t\t\t}\n\t\t}\n\n\t\tif (!hasFeatures) {\n\t\t\tconst btns = document.getElementsByClassName(`maplibregl-terradraw-add-select-button`);\n\t\t\tfor (let i = 0; i < btns.length; i++) {\n\t\t\t\tconst btn = btns.item(i);\n\t\t\t\tif (!btn) continue;\n\t\t\t\tbtn.classList.remove('active');\n\t\t\t}\n\t\t}\n\t}\n}\n","// index.ts\nimport { point } from \"@turf/helpers\";\nimport { coordEach } from \"@turf/meta\";\nfunction centroid(geojson, options = {}) {\n  let xSum = 0;\n  let ySum = 0;\n  let len = 0;\n  coordEach(\n    geojson,\n    function(coord) {\n      xSum += coord[0];\n      ySum += coord[1];\n      len++;\n    },\n    true\n  );\n  return point([xSum / len, ySum / len], options.properties);\n}\nvar turf_centroid_default = centroid;\nexport {\n  centroid,\n  turf_centroid_default as default\n};\n//# sourceMappingURL=index.js.map","import {\n\tMap,\n\ttype CircleLayerSpecification,\n\ttype GeoJSONSource,\n\ttype GeoJSONSourceSpecification,\n\ttype StyleSpecification,\n\ttype SymbolLayerSpecification\n} from 'maplibre-gl';\nimport { MaplibreTerradrawControl } from './MaplibreTerradrawControl';\nimport { centroid } from '@turf/centroid';\nimport { defaultMeasureControlOptions } from '../constants';\nimport type { AreaUnit, DistanceUnit, MeasureControlOptions, TerradrawMode } from '../interfaces';\nimport { type GeoJSONStoreFeatures, TerraDrawExtend } from 'terra-draw';\nimport {\n\tcalcArea,\n\tcalcDistance,\n\tcleanMaplibreStyle,\n\tdebounce,\n\tqueryElevationByPoint,\n\tqueryElevationFromRasterDEM,\n\tTERRADRAW_SOURCE_IDS\n} from '../helpers';\n\n/**\n * Maplibre GL Terra Draw Measure Control\n */\nexport class MaplibreMeasureControl extends MaplibreTerradrawControl {\n\tprivate measureOptions: MeasureControlOptions;\n\n\t/**\n\t * The unit of distance can be degrees, radians, miles, or kilometers (default 'kilometers')\n\t * The measuring result will be recalculated once new value is set\n\t */\n\tget distanceUnit() {\n\t\treturn this.measureOptions.distanceUnit ?? 'kilometers';\n\t}\n\tset distanceUnit(value: DistanceUnit) {\n\t\tconst isSame = this.measureOptions.distanceUnit === value;\n\t\tthis.measureOptions.distanceUnit = value;\n\n\t\tif (this.measureOptions.distanceUnit === 'degrees') {\n\t\t\tthis.distancePrecision = 6;\n\t\t} else {\n\t\t\tthis.distancePrecision = 2;\n\t\t}\n\n\t\tif (!isSame) this.recalc();\n\t}\n\n\t/**\n\t * The precision of distance value. It will be set different value dwhen distance unit is changed. Using setter to override the value if you want.\n\t */\n\tget distancePrecision() {\n\t\treturn this.measureOptions.distancePrecision ?? 2;\n\t}\n\tset distancePrecision(value: number) {\n\t\tconst isSame = this.measureOptions.distancePrecision === value;\n\t\tthis.measureOptions.distancePrecision = value;\n\t\tif (!isSame) this.recalc();\n\t}\n\n\t/**\n\t * The unit of area can be metric (m, ha, km) or imperial (yd, acre, mi). Default is metric.\n\t * The measuring result will be recalculated once new value is set\n\t */\n\tget areaUnit() {\n\t\treturn this.measureOptions.areaUnit ?? 'metric';\n\t}\n\tset areaUnit(value: AreaUnit) {\n\t\tconst isSame = this.measureOptions.areaUnit === value;\n\t\tthis.measureOptions.areaUnit = value;\n\t\tif (!isSame) this.recalc();\n\t}\n\n\t/**\n\t * The precision of area value. Using setter to override the value if you want.\n\t */\n\tget areaPrecision() {\n\t\treturn this.measureOptions.areaPrecision ?? 2;\n\t}\n\tset areaPrecision(value: number) {\n\t\tconst isSame = this.measureOptions.areaPrecision === value;\n\t\tthis.measureOptions.areaPrecision = value;\n\t\tif (!isSame) this.recalc();\n\t}\n\n\t/**\n\t * The flag of whether computing elevation. Default is false.\n\t * Using setter to override the value if you want.\n\t */\n\tget computeElevation() {\n\t\treturn this.measureOptions.computeElevation ?? false;\n\t}\n\tset computeElevation(value: boolean) {\n\t\tconst isSame = this.measureOptions.computeElevation === value;\n\t\tthis.measureOptions.computeElevation = value;\n\t\tif (!isSame) this.recalc();\n\t}\n\n\t/**\n\t * Constructor\n\t * @param options Plugin control options\n\t */\n\tconstructor(options?: MeasureControlOptions) {\n\t\tlet measureOptions: MeasureControlOptions = defaultMeasureControlOptions;\n\t\tif (options) {\n\t\t\tmeasureOptions = Object.assign(measureOptions, options);\n\t\t}\n\t\tsuper({\n\t\t\tmodes: measureOptions.modes,\n\t\t\topen: measureOptions.open,\n\t\t\tmodeOptions: measureOptions.modeOptions\n\t\t});\n\t\tthis.measureOptions = measureOptions;\n\t}\n\n\t/**\n\t * add the plugin control to maplibre\n\t * @param map Maplibre Map object\n\t * @returns HTML Element\n\t */\n\tpublic onAdd(map: Map): HTMLElement {\n\t\tthis.controlContainer = super.onAdd(map);\n\t\treturn this.controlContainer;\n\t}\n\n\t/**\n\t * Remove the plugin control from maplibre\n\t * @returns void\n\t */\n\tpublic onRemove(): void {\n\t\tthis.unregisterMesureControl();\n\t\tsuper.onRemove();\n\t}\n\n\t/**\n\t * Activate Terra Draw to start drawing\n\t */\n\tpublic activate() {\n\t\tsuper.activate();\n\t\tthis.registerMesureControl();\n\t}\n\n\t/**\n\t * Recalculate area and distance in TerraDraw snapshot\n\t *\n\t * if you use `addFeatures` to restore GeoJSON features to TerraDraw, this recalc method needs to be called to re-measure again.\n\t *\n\t * For example, the below code is an example usage.\n\t * ```\n\t * drawInstance?.addFeatures(initData);\n\t * map?.once('idle', ()=>{\n\t *   drawControl.recalc()\n\t * })\n\t * ```\n\t */\n\tpublic recalc() {\n\t\tconst drawInstance = this.getTerraDrawInstance();\n\t\tif (drawInstance) {\n\t\t\tthis.registerMesureControl();\n\n\t\t\tconst snapshot = drawInstance.getSnapshot();\n\t\t\tfor (const feature of snapshot) {\n\t\t\t\tconst id: string = feature.id as string;\n\t\t\t\tconst geometryType = feature.geometry.type;\n\t\t\t\tconst mode = feature.properties.mode as TerradrawMode;\n\t\t\t\tif (mode === 'linestring' && geometryType === 'LineString') {\n\t\t\t\t\tthis.measureLine(id);\n\t\t\t\t\tthis.computeElevationByLineFeatureID(id);\n\t\t\t\t} else if (mode === 'point' && geometryType === 'Point') {\n\t\t\t\t\tthis.measurePoint(id);\n\t\t\t\t\tthis.computeElevationByPointFeatureID(id);\n\t\t\t\t} else if (\n\t\t\t\t\t!['point', 'linestring', 'select', 'render'].includes(mode) &&\n\t\t\t\t\tgeometryType === 'Polygon'\n\t\t\t\t) {\n\t\t\t\t\tthis.measurePolygon(id);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * clean maplibre style to filter only for terradraw related layers or without them.\n\t * If options are not set, returns original style given to the function.\n\t *\n\t * This can be useful incase users only want to get terradraw related layers or without it.\n\t *\n\t * Usage:\n\t * `cleanStyle(map.getStyle, { excludeTerraDrawLayers: true})`\n\t * `cleanStyle(map.getStyle, { onlyTerraDrawLayers: true})`\n\t *\n\t * @param style maplibre style spec\n\t * @param options.excludeTerraDrawLayers return maplibre style without terradraw layers and sources\n\t * @param options.onlyTerraDrawLayers return maplibre style with only terradraw layers and sources\n\t * @returns\n\t */\n\tpublic cleanStyle(\n\t\tstyle: StyleSpecification,\n\t\toptions?: { excludeTerraDrawLayers?: boolean; onlyTerraDrawLayers?: boolean }\n\t) {\n\t\tconst sourceIds = TERRADRAW_SOURCE_IDS;\n\n\t\tconst polygonSource = this.measureOptions.polygonLayerSpec?.source;\n\t\tif (polygonSource) sourceIds.push(polygonSource);\n\n\t\tconst lineSource = this.measureOptions.lineLayerLabelSpec?.source;\n\t\tif (lineSource) sourceIds.push(lineSource);\n\n\t\tconst pointSource = this.measureOptions.pointLayerLabelSpec?.source;\n\t\tif (pointSource) sourceIds.push(pointSource);\n\n\t\treturn cleanMaplibreStyle(style, options, sourceIds);\n\t}\n\n\t/**\n\t * Register  measure control related maplibre sources and layers\n\t */\n\tprivate registerMesureControl() {\n\t\tif (!this.map) return;\n\n\t\tconst lineModes = this.options.modes?.filter((m) => ['linestring'].includes(m));\n\t\tconst pointMode = this.options.modes?.find((m) => m === 'point');\n\n\t\tif (pointMode) {\n\t\t\t// add GeoJSON source for distance label\n\t\t\tif (\n\t\t\t\t!this.map.getSource(\n\t\t\t\t\t(this.measureOptions.pointLayerLabelSpec as SymbolLayerSpecification).source\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\tthis.map.addSource(\n\t\t\t\t\t(this.measureOptions.pointLayerLabelSpec as SymbolLayerSpecification).source,\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'geojson',\n\t\t\t\t\t\tdata: { type: 'FeatureCollection', features: [] }\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t// add GeoJSON layer for distance label node appearance\n\t\t\tif (\n\t\t\t\t!this.map.getLayer((this.measureOptions.pointLayerLabelSpec as SymbolLayerSpecification).id)\n\t\t\t) {\n\t\t\t\tthis.map.addLayer(this.measureOptions.pointLayerLabelSpec as SymbolLayerSpecification);\n\t\t\t}\n\t\t}\n\n\t\tif (lineModes && lineModes.length > 0) {\n\t\t\t// add GeoJSON source for distance label\n\t\t\tif (\n\t\t\t\t!this.map.getSource(\n\t\t\t\t\t(this.measureOptions.lineLayerLabelSpec as SymbolLayerSpecification).source\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\tthis.map.addSource(\n\t\t\t\t\t(this.measureOptions.lineLayerLabelSpec as SymbolLayerSpecification).source,\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'geojson',\n\t\t\t\t\t\tdata: { type: 'FeatureCollection', features: [] }\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t// add GeoJSON layer for distance label node appearance\n\t\t\tif (\n\t\t\t\t!this.map.getLayer((this.measureOptions.lineLayerNodeSpec as CircleLayerSpecification).id)\n\t\t\t) {\n\t\t\t\tthis.map.addLayer(this.measureOptions.lineLayerNodeSpec as CircleLayerSpecification);\n\t\t\t}\n\n\t\t\t// add GeoJSON layer for distance label appearance\n\t\t\tif (\n\t\t\t\t!this.map.getLayer((this.measureOptions.lineLayerLabelSpec as SymbolLayerSpecification).id)\n\t\t\t) {\n\t\t\t\tthis.map.addLayer(this.measureOptions.lineLayerLabelSpec as SymbolLayerSpecification);\n\t\t\t}\n\t\t}\n\n\t\tconst polygonModes = this.options.modes?.filter((m) =>\n\t\t\t[\n\t\t\t\t'polygon',\n\t\t\t\t'rectangle',\n\t\t\t\t'angled-rectangle',\n\t\t\t\t'circle',\n\t\t\t\t'sector',\n\t\t\t\t'sensor',\n\t\t\t\t'freehand'\n\t\t\t].includes(m)\n\t\t);\n\t\tif (polygonModes && polygonModes.length > 0) {\n\t\t\t// add GeoJSON source for distance label\n\t\t\tif (\n\t\t\t\t!this.map.getSource(\n\t\t\t\t\t(this.measureOptions.polygonLayerSpec as SymbolLayerSpecification).source\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\tthis.map.addSource(\n\t\t\t\t\t(this.measureOptions.polygonLayerSpec as SymbolLayerSpecification).source,\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'geojson',\n\t\t\t\t\t\tdata: { type: 'FeatureCollection', features: [] }\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t} // add GeoJSON layer for polygon area label appearance\n\t\t\tif (\n\t\t\t\t!this.map.getLayer((this.measureOptions.polygonLayerSpec as SymbolLayerSpecification).id)\n\t\t\t) {\n\t\t\t\tthis.map.addLayer(this.measureOptions.polygonLayerSpec as SymbolLayerSpecification);\n\t\t\t}\n\t\t}\n\n\t\tif ((lineModes && lineModes.length > 0) || (polygonModes && polygonModes.length > 0)) {\n\t\t\tconst drawInstance = this.getTerraDrawInstance();\n\t\t\tif (drawInstance) {\n\t\t\t\t// subscribe change event of TerraDraw to calc distance\n\t\t\t\tdrawInstance.on('change', this.handleTerradrawFeatureChanged.bind(this));\n\t\t\t\tdrawInstance.on('finish', this.handleTerradrawFeatureReady.bind(this));\n\t\t\t\tdrawInstance.on('deselect', this.handleTerradrawDeselect.bind(this));\n\n\t\t\t\t// subscribe feature-deleted event for the plugin control\n\t\t\t\tthis.on('feature-deleted', this.onFeatureDeleted.bind(this));\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Handle deselect event of terradraw\n\t */\n\tprivate handleTerradrawDeselect = () => {\n\t\tif (!this.map) return;\n\t\tif (this.computeElevation === true && this.measureOptions.terrainSource !== undefined) {\n\t\t\tconst drawInstance = this.getTerraDrawInstance();\n\t\t\tif (!drawInstance) return;\n\t\t\tconst snapshot = drawInstance.getSnapshot();\n\t\t\tconst lineFeatures = snapshot.filter(\n\t\t\t\t(f) => f.properties.mode === 'linestring' && f.geometry.type === 'LineString'\n\t\t\t);\n\t\t\tif (lineFeatures.length > 0) {\n\t\t\t\tfor (const f of lineFeatures) {\n\t\t\t\t\tthis.computeElevationByLineFeatureID(f.id as string);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst pointFeatures = snapshot.filter(\n\t\t\t\t(f) => f.properties.mode === 'point' && f.geometry.type === 'Point'\n\t\t\t);\n\t\t\tif (pointFeatures.length > 0) {\n\t\t\t\tfor (const f of pointFeatures) {\n\t\t\t\t\tthis.computeElevationByPointFeatureID(f.id as string);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t * Handle finish event of terradraw. It will be called after finishing adding a feature\n\t * @param id Feature ID\n\t */\n\tprivate handleTerradrawFeatureReady = debounce((id: TerraDrawExtend.FeatureId) => {\n\t\tif (!this.map) return;\n\t\tthis.computeElevationByLineFeatureID(id);\n\t\tthis.computeElevationByPointFeatureID(id);\n\t}, 300);\n\n\t/**\n\t * Handle change event of TerraDraw\n\t * @param ids Feature IDs\n\t */\n\tprivate handleTerradrawFeatureChanged(ids: TerraDrawExtend.FeatureId[], type: string) {\n\t\tif (!this.map) return;\n\t\t// skip if type is styling. Do continue if type is create, update or delete.\n\t\tif (type === 'styling') return;\n\n\t\tconst sources = [\n\t\t\tthis.measureOptions.pointLayerLabelSpec as SymbolLayerSpecification,\n\t\t\tthis.measureOptions.lineLayerLabelSpec as SymbolLayerSpecification,\n\t\t\tthis.measureOptions.lineLayerNodeSpec as CircleLayerSpecification,\n\t\t\tthis.measureOptions.polygonLayerSpec as SymbolLayerSpecification\n\t\t];\n\t\tconst sourceIds = sources.map((src) => src.source);\n\n\t\tif (type === 'delete') {\n\t\t\tthis.clearMeasureFeatures(sourceIds, ids);\n\t\t\treturn;\n\t\t}\n\n\t\t// type is create or update\n\n\t\tconst drawInstance = this.getTerraDrawInstance();\n\t\tif (!drawInstance) return;\n\t\tconst snapshot = drawInstance.getSnapshot();\n\t\tfor (const id of ids) {\n\t\t\tconst feature = snapshot.find((f) => f.id === id);\n\t\t\tif (feature) {\n\t\t\t\tconst geometryType = feature.geometry.type;\n\t\t\t\tconst mode = feature.properties.mode as TerradrawMode;\n\t\t\t\tif (mode === 'linestring' && geometryType === 'LineString') {\n\t\t\t\t\tthis.measureLine(id);\n\t\t\t\t} else if (mode === 'point' && geometryType === 'Point') {\n\t\t\t\t\tthis.measurePoint(id);\n\t\t\t\t} else if (\n\t\t\t\t\t!['point', 'linestring', 'select', 'render'].includes(mode) &&\n\t\t\t\t\tgeometryType === 'Polygon'\n\t\t\t\t) {\n\t\t\t\t\tthis.measurePolygon(id);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// if editing ID does not exist, delete all related features from measure layers\n\t\t\t\tthis.clearMeasureFeatures(sourceIds, [id]);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Unregister measure control related maplibre sources and layers\n\t */\n\tprivate unregisterMesureControl() {\n\t\tthis.off('feature-deleted', this.onFeatureDeleted.bind(this));\n\t\tif (!this.map) return;\n\t\tif (\n\t\t\tthis.map.getLayer((this.measureOptions.pointLayerLabelSpec as SymbolLayerSpecification).id)\n\t\t) {\n\t\t\tthis.map.removeLayer(\n\t\t\t\t(this.measureOptions.pointLayerLabelSpec as SymbolLayerSpecification).id\n\t\t\t);\n\t\t}\n\t\tif (\n\t\t\tthis.map.getLayer((this.measureOptions.lineLayerLabelSpec as SymbolLayerSpecification).id)\n\t\t) {\n\t\t\tthis.map.removeLayer((this.measureOptions.lineLayerLabelSpec as SymbolLayerSpecification).id);\n\t\t}\n\t\tif (this.map.getLayer((this.measureOptions.lineLayerNodeSpec as CircleLayerSpecification).id)) {\n\t\t\tthis.map.removeLayer((this.measureOptions.lineLayerNodeSpec as CircleLayerSpecification).id);\n\t\t}\n\t\tif (this.map.getLayer((this.measureOptions.polygonLayerSpec as SymbolLayerSpecification).id)) {\n\t\t\tthis.map.removeLayer((this.measureOptions.polygonLayerSpec as SymbolLayerSpecification).id);\n\t\t}\n\t\tif (\n\t\t\tthis.map.getSource(\n\t\t\t\t(this.measureOptions.pointLayerLabelSpec as SymbolLayerSpecification).source\n\t\t\t)\n\t\t) {\n\t\t\tthis.map.removeSource(\n\t\t\t\t(this.measureOptions.pointLayerLabelSpec as SymbolLayerSpecification).source\n\t\t\t);\n\t\t}\n\t\tif (\n\t\t\tthis.map.getSource(\n\t\t\t\t(this.measureOptions.lineLayerLabelSpec as SymbolLayerSpecification).source\n\t\t\t)\n\t\t) {\n\t\t\tthis.map.removeSource(\n\t\t\t\t(this.measureOptions.lineLayerLabelSpec as SymbolLayerSpecification).source\n\t\t\t);\n\t\t}\n\t\tif (\n\t\t\tthis.map.getSource((this.measureOptions.polygonLayerSpec as SymbolLayerSpecification).source)\n\t\t) {\n\t\t\tthis.map.removeSource(\n\t\t\t\t(this.measureOptions.polygonLayerSpec as SymbolLayerSpecification).source\n\t\t\t);\n\t\t}\n\t}\n\n\t/**\n\t * Clear GeoJSON feature related to measure control by TerraDraw feature ID\n\t * @param sourceIds the array of source ID to delete\n\t * @param ids the array of feature ID. Optional, if undefined, delete all labels for source\n\t * @returns void\n\t */\n\tprivate clearMeasureFeatures(\n\t\tsourceIds: string[],\n\t\tids: TerraDrawExtend.FeatureId[] | undefined = undefined\n\t) {\n\t\tif (!this.map) return;\n\t\tfor (const sourceId of sourceIds) {\n\t\t\tconst geojsonSource: GeoJSONSourceSpecification = this.map.getStyle().sources[\n\t\t\t\tsourceId\n\t\t\t] as GeoJSONSourceSpecification;\n\t\t\tif (geojsonSource) {\n\t\t\t\t// delete old nodes\n\t\t\t\tif (\n\t\t\t\t\ttypeof geojsonSource.data !== 'string' &&\n\t\t\t\t\tgeojsonSource.data.type === 'FeatureCollection'\n\t\t\t\t) {\n\t\t\t\t\t// if ids is undefined, delete all labels for the source\n\t\t\t\t\tif (ids === undefined) {\n\t\t\t\t\t\tgeojsonSource.data.features = [];\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Delete label features if originalId does not exist anymore.\n\t\t\t\t\t\tgeojsonSource.data.features = geojsonSource.data.features.filter((f) => {\n\t\t\t\t\t\t\tif (f.properties?.originalId) {\n\t\t\t\t\t\t\t\treturn !ids.includes(f.properties.originalId);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\treturn !ids.includes(f.id as string);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\t// update GeoJSON source with new data\n\t\t\t\t\t(this.map.getSource(sourceId) as GeoJSONSource)?.setData(geojsonSource.data);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Replace GeoJSON source with updated features for a given source ID\n\t * @param updatedFeatures Updated GeoJSON features\n\t * @param sourceId Source ID to update\n\t * @param type either 'linestring' or 'point'\n\t */\n\tprivate replaceGeoJSONSource(\n\t\tupdatedFeatures: GeoJSONStoreFeatures[],\n\t\tsourceId: string,\n\t\ttype: 'linestring' | 'point'\n\t) {\n\t\tif (!this.map) return;\n\t\tconst newGeoJsonSource: GeoJSONSourceSpecification = this.map.getStyle().sources[\n\t\t\tsourceId\n\t\t] as GeoJSONSourceSpecification;\n\t\tif (newGeoJsonSource) {\n\t\t\tif (\n\t\t\t\ttypeof newGeoJsonSource.data !== 'string' &&\n\t\t\t\tnewGeoJsonSource.data.type === 'FeatureCollection'\n\t\t\t) {\n\t\t\t\t// check if feature id still exist in terradraw\n\t\t\t\t// in some conditions, features might already be deleted from terradraw\n\t\t\t\tconst updatedExistingFeatures: GeoJSONStoreFeatures[] = [];\n\t\t\t\tfor (const f of updatedFeatures) {\n\t\t\t\t\tif (this.terradraw?.getSnapshotFeature(f.id as TerraDrawExtend.FeatureId)) {\n\t\t\t\t\t\tupdatedExistingFeatures.push(f);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tconst ids = updatedExistingFeatures.map((f) => f.id);\n\t\t\t\tif (\n\t\t\t\t\ttypeof newGeoJsonSource.data !== 'string' &&\n\t\t\t\t\tnewGeoJsonSource.data.type === 'FeatureCollection'\n\t\t\t\t) {\n\t\t\t\t\tif (type === 'linestring') {\n\t\t\t\t\t\tnewGeoJsonSource.data.features = [\n\t\t\t\t\t\t\t...(newGeoJsonSource.data.features = newGeoJsonSource.data.features.filter(\n\t\t\t\t\t\t\t\t(f) => !(ids.includes(f.properties?.originalId) && f.geometry.type === 'Point')\n\t\t\t\t\t\t\t)),\n\t\t\t\t\t\t\t...updatedExistingFeatures\n\t\t\t\t\t\t];\n\t\t\t\t\t} else if (type === 'point') {\n\t\t\t\t\t\tnewGeoJsonSource.data.features = [\n\t\t\t\t\t\t\t...(newGeoJsonSource.data.features = newGeoJsonSource.data.features.filter(\n\t\t\t\t\t\t\t\t(f) => !(ids.includes(f.id) && f.geometry.type === 'Point')\n\t\t\t\t\t\t\t)),\n\t\t\t\t\t\t\t...updatedExistingFeatures\n\t\t\t\t\t\t];\n\t\t\t\t\t}\n\n\t\t\t\t\t// delete duplicate points\n\t\t\t\t\tconst featureMap: { [key: TerraDrawExtend.FeatureId]: GeoJSONStoreFeatures } = {};\n\t\t\t\t\tnewGeoJsonSource.data.features.forEach((feature) => {\n\t\t\t\t\t\tconst id = feature.id as TerraDrawExtend.FeatureId;\n\n\t\t\t\t\t\tif (!featureMap[id]) {\n\t\t\t\t\t\t\tfeatureMap[id] = feature as GeoJSONStoreFeatures;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconst existingFeature = featureMap[id];\n\t\t\t\t\t\t\tif (!existingFeature.properties.elevation && feature.properties?.elevation) {\n\t\t\t\t\t\t\t\tfeatureMap[id] = feature as GeoJSONStoreFeatures;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tnewGeoJsonSource.data.features = Array.from(Object.values(featureMap));\n\n\t\t\t\t\t// update features\n\t\t\t\t\t(this.map.getSource(sourceId) as GeoJSONSource)?.setData(newGeoJsonSource.data);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Compute elevation by a LineString feature ID\n\t * @param id FeatureID\n\t */\n\tprivate computeElevationByLineFeatureID = async (id: TerraDrawExtend.FeatureId) => {\n\t\tif (!this.map) return;\n\t\tif (this.computeElevation === true) {\n\t\t\tconst geojsonSource: GeoJSONSourceSpecification = this.map.getStyle().sources[\n\t\t\t\t(this.measureOptions.lineLayerLabelSpec as SymbolLayerSpecification).source\n\t\t\t] as GeoJSONSourceSpecification;\n\t\t\tif (geojsonSource) {\n\t\t\t\tif (\n\t\t\t\t\ttypeof geojsonSource.data !== 'string' &&\n\t\t\t\t\tgeojsonSource.data.type === 'FeatureCollection'\n\t\t\t\t) {\n\t\t\t\t\tconst points: GeoJSONStoreFeatures[] = geojsonSource.data.features.filter(\n\t\t\t\t\t\t(f) => f.properties?.originalId === id && f.geometry.type === 'Point'\n\t\t\t\t\t) as unknown as GeoJSONStoreFeatures[];\n\t\t\t\t\tif (points && points.length > 0) {\n\t\t\t\t\t\tconst updatedFeatures = await queryElevationFromRasterDEM(\n\t\t\t\t\t\t\tpoints as GeoJSONStoreFeatures[],\n\t\t\t\t\t\t\tthis.measureOptions.terrainSource\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tthis.replaceGeoJSONSource(\n\t\t\t\t\t\t\tupdatedFeatures,\n\t\t\t\t\t\t\t(this.measureOptions.lineLayerLabelSpec as SymbolLayerSpecification).source,\n\t\t\t\t\t\t\t'linestring'\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t * Compute elevation by a Point feature ID\n\t * @param id FeatureID\n\t */\n\tprivate computeElevationByPointFeatureID = async (id: TerraDrawExtend.FeatureId) => {\n\t\tif (!this.map) return;\n\t\tif (this.computeElevation === true) {\n\t\t\tconst geojsonSource: GeoJSONSourceSpecification = this.map.getStyle().sources[\n\t\t\t\t(this.measureOptions.pointLayerLabelSpec as SymbolLayerSpecification).source\n\t\t\t] as GeoJSONSourceSpecification;\n\t\t\tif (geojsonSource) {\n\t\t\t\tif (\n\t\t\t\t\ttypeof geojsonSource.data !== 'string' &&\n\t\t\t\t\tgeojsonSource.data.type === 'FeatureCollection'\n\t\t\t\t) {\n\t\t\t\t\tconst points: GeoJSONStoreFeatures[] = geojsonSource.data.features.filter(\n\t\t\t\t\t\t(f) => f.id === id && f.geometry.type === 'Point' && f.properties?.mode === 'point'\n\t\t\t\t\t) as unknown as GeoJSONStoreFeatures[];\n\t\t\t\t\tif (points && points.length > 0) {\n\t\t\t\t\t\tconst updatedFeatures = await queryElevationFromRasterDEM(\n\t\t\t\t\t\t\tpoints as GeoJSONStoreFeatures[],\n\t\t\t\t\t\t\tthis.measureOptions.terrainSource\n\t\t\t\t\t\t);\n\t\t\t\t\t\tthis.replaceGeoJSONSource(\n\t\t\t\t\t\t\tupdatedFeatures,\n\t\t\t\t\t\t\t(this.measureOptions.pointLayerLabelSpec as SymbolLayerSpecification).source,\n\t\t\t\t\t\t\t'point'\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t * measure polygon area for given feature ID\n\t * @param id terradraw feature id\n\t */\n\tprivate measurePolygon(id: TerraDrawExtend.FeatureId) {\n\t\tif (!this.map) return;\n\t\tconst drawInstance = this.getTerraDrawInstance();\n\t\tif (!drawInstance) return;\n\n\t\tconst snapshot = drawInstance.getSnapshot();\n\t\tlet feature = snapshot?.find((f) => f.id === id && f.geometry.type === 'Polygon');\n\t\tif (feature) {\n\t\t\tconst geojsonSource: GeoJSONSourceSpecification = this.map.getStyle().sources[\n\t\t\t\t(this.measureOptions.polygonLayerSpec as SymbolLayerSpecification).source\n\t\t\t] as GeoJSONSourceSpecification;\n\t\t\tif (geojsonSource) {\n\t\t\t\t// delete old nodes\n\t\t\t\tif (\n\t\t\t\t\ttypeof geojsonSource.data !== 'string' &&\n\t\t\t\t\tgeojsonSource.data.type === 'FeatureCollection'\n\t\t\t\t) {\n\t\t\t\t\tgeojsonSource.data.features = geojsonSource.data.features.filter(\n\t\t\t\t\t\t(f) => f.properties?.originalId !== id\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tconst point = JSON.parse(JSON.stringify(feature));\n\t\t\t\tpoint.id = point.id + '-area-label';\n\t\t\t\tpoint.geometry = centroid(feature.geometry).geometry;\n\t\t\t\tpoint.properties.originalId = feature.id;\n\n\t\t\t\tfeature = calcArea(feature, this.areaUnit, this.areaPrecision);\n\t\t\t\tpoint.properties.area = feature.properties.area;\n\t\t\t\tpoint.properties.unit = feature.properties.unit;\n\n\t\t\t\tif (\n\t\t\t\t\ttypeof geojsonSource.data !== 'string' &&\n\t\t\t\t\tgeojsonSource.data.type === 'FeatureCollection'\n\t\t\t\t) {\n\t\t\t\t\tgeojsonSource.data.features.push(point);\n\t\t\t\t}\n\t\t\t\t// update GeoJSON source with new data\n\t\t\t\t(\n\t\t\t\t\tthis.map.getSource(\n\t\t\t\t\t\t(this.measureOptions.polygonLayerSpec as SymbolLayerSpecification).source\n\t\t\t\t\t) as GeoJSONSource\n\t\t\t\t)?.setData(geojsonSource.data);\n\n\t\t\t\tthis.map.moveLayer((this.measureOptions.polygonLayerSpec as SymbolLayerSpecification).id);\n\n\t\t\t\tif (\n\t\t\t\t\tthis.map.getLayer((this.measureOptions.lineLayerLabelSpec as SymbolLayerSpecification).id)\n\t\t\t\t) {\n\t\t\t\t\tthis.map.moveLayer(\n\t\t\t\t\t\t(this.measureOptions.lineLayerLabelSpec as SymbolLayerSpecification).id\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tif (\n\t\t\t\t\tthis.map.getLayer((this.measureOptions.lineLayerNodeSpec as CircleLayerSpecification).id)\n\t\t\t\t) {\n\t\t\t\t\tthis.map.moveLayer(\n\t\t\t\t\t\t(this.measureOptions.lineLayerNodeSpec as CircleLayerSpecification).id\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\tthis.map.getLayer(\n\t\t\t\t\t\t(this.measureOptions.pointLayerLabelSpec as SymbolLayerSpecification).id\n\t\t\t\t\t)\n\t\t\t\t) {\n\t\t\t\t\tthis.map.moveLayer(\n\t\t\t\t\t\t(this.measureOptions.pointLayerLabelSpec as SymbolLayerSpecification).id\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * measure line distance for given feature ID\n\t * @param id terradraw feature id\n\t */\n\tprivate measureLine(id: TerraDrawExtend.FeatureId) {\n\t\tif (!this.map) return;\n\t\tconst drawInstance = this.getTerraDrawInstance();\n\t\tif (!drawInstance) return;\n\n\t\tconst snapshot = drawInstance.getSnapshot();\n\t\tlet feature = snapshot?.find((f) => f.id === id && f.geometry.type === 'LineString');\n\t\tif (feature) {\n\t\t\tconst geojsonSource: GeoJSONSourceSpecification = this.map.getStyle().sources[\n\t\t\t\t(this.measureOptions.lineLayerLabelSpec as SymbolLayerSpecification).source\n\t\t\t] as GeoJSONSourceSpecification;\n\t\t\tif (geojsonSource) {\n\t\t\t\t// delete old nodes\n\t\t\t\tif (\n\t\t\t\t\ttypeof geojsonSource.data !== 'string' &&\n\t\t\t\t\tgeojsonSource.data.type === 'FeatureCollection'\n\t\t\t\t) {\n\t\t\t\t\tgeojsonSource.data.features = geojsonSource.data.features.filter(\n\t\t\t\t\t\t(f) => f.properties?.originalId !== id\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tfeature = calcDistance(\n\t\t\t\t\tfeature,\n\t\t\t\t\tthis.distanceUnit,\n\t\t\t\t\tthis.distancePrecision,\n\t\t\t\t\tthis.map,\n\t\t\t\t\tthis.computeElevation,\n\t\t\t\t\tthis.measureOptions.terrainSource\n\t\t\t\t);\n\t\t\t\tconst segments = feature.properties.segments as unknown as GeoJSONStoreFeatures[];\n\t\t\t\tfor (let i = 0; i < segments.length; i++) {\n\t\t\t\t\tconst segment = segments[i];\n\n\t\t\t\t\tif (\n\t\t\t\t\t\ttypeof geojsonSource.data !== 'string' &&\n\t\t\t\t\t\tgeojsonSource.data.type === 'FeatureCollection'\n\t\t\t\t\t) {\n\t\t\t\t\t\tgeojsonSource.data.features.push(segment);\n\t\t\t\t\t}\n\n\t\t\t\t\tconst coordinates: number[][] = segment.geometry.coordinates as number[][];\n\t\t\t\t\tconst start = coordinates[0];\n\t\t\t\t\tconst end = coordinates[1];\n\n\t\t\t\t\t// node\n\t\t\t\t\tif (i === 0) {\n\t\t\t\t\t\tconst startNode = JSON.parse(JSON.stringify(segment));\n\t\t\t\t\t\tstartNode.id = `${segment.id}-node-${i}`;\n\t\t\t\t\t\tstartNode.geometry = {\n\t\t\t\t\t\t\ttype: 'Point',\n\t\t\t\t\t\t\tcoordinates: start\n\t\t\t\t\t\t};\n\t\t\t\t\t\tstartNode.properties.distance = 0;\n\t\t\t\t\t\tstartNode.properties.total = 0;\n\n\t\t\t\t\t\tif (segment.properties.elevation_start) {\n\t\t\t\t\t\t\tstartNode.properties.elevation = segment.properties.elevation_start;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\ttypeof geojsonSource.data !== 'string' &&\n\t\t\t\t\t\t\tgeojsonSource.data.type === 'FeatureCollection'\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tgeojsonSource.data.features.push(startNode);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tconst endNode = JSON.parse(JSON.stringify(segment));\n\t\t\t\t\tendNode.id = `${segment.id}-node-${i + 1}`;\n\t\t\t\t\tendNode.geometry = {\n\t\t\t\t\t\ttype: 'Point',\n\t\t\t\t\t\tcoordinates: end\n\t\t\t\t\t};\n\n\t\t\t\t\tif (segment.properties.elevation_end) {\n\t\t\t\t\t\tendNode.properties.elevation = segment.properties.elevation_end;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (\n\t\t\t\t\t\ttypeof geojsonSource.data !== 'string' &&\n\t\t\t\t\t\tgeojsonSource.data.type === 'FeatureCollection'\n\t\t\t\t\t) {\n\t\t\t\t\t\tgeojsonSource.data.features.push(endNode);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// update GeoJSON source with new data\n\t\t\t\t(\n\t\t\t\t\tthis.map.getSource(\n\t\t\t\t\t\t(this.measureOptions.lineLayerLabelSpec as SymbolLayerSpecification).source\n\t\t\t\t\t) as GeoJSONSource\n\t\t\t\t)?.setData(geojsonSource.data);\n\n\t\t\t\tif (\n\t\t\t\t\tthis.map.getLayer((this.measureOptions.polygonLayerSpec as SymbolLayerSpecification).id)\n\t\t\t\t) {\n\t\t\t\t\tthis.map.moveLayer((this.measureOptions.polygonLayerSpec as SymbolLayerSpecification).id);\n\t\t\t\t}\n\n\t\t\t\tthis.map.moveLayer((this.measureOptions.lineLayerLabelSpec as SymbolLayerSpecification).id);\n\t\t\t\tthis.map.moveLayer((this.measureOptions.lineLayerNodeSpec as CircleLayerSpecification).id);\n\n\t\t\t\tif (\n\t\t\t\t\tthis.map.getLayer(\n\t\t\t\t\t\t(this.measureOptions.pointLayerLabelSpec as SymbolLayerSpecification).id\n\t\t\t\t\t)\n\t\t\t\t) {\n\t\t\t\t\tthis.map.moveLayer(\n\t\t\t\t\t\t(this.measureOptions.pointLayerLabelSpec as SymbolLayerSpecification).id\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * measure point elevation for given feature ID\n\t * @param id terradraw feature id\n\t */\n\tprivate measurePoint(id: TerraDrawExtend.FeatureId) {\n\t\tif (!this.map) return;\n\t\tconst drawInstance = this.getTerraDrawInstance();\n\t\tif (!drawInstance) return;\n\n\t\tconst snapshot = drawInstance.getSnapshot();\n\t\tlet feature = snapshot?.find((f) => f.id === id && f.geometry.type === 'Point');\n\t\tif (feature) {\n\t\t\tconst geojsonSource: GeoJSONSourceSpecification = this.map.getStyle().sources[\n\t\t\t\t(this.measureOptions.pointLayerLabelSpec as SymbolLayerSpecification).source\n\t\t\t] as GeoJSONSourceSpecification;\n\t\t\tif (geojsonSource) {\n\t\t\t\t// delete old nodes\n\t\t\t\tif (\n\t\t\t\t\ttypeof geojsonSource.data !== 'string' &&\n\t\t\t\t\tgeojsonSource.data.type === 'FeatureCollection'\n\t\t\t\t) {\n\t\t\t\t\tgeojsonSource.data.features = geojsonSource.data.features.filter((f) => f.id !== id);\n\t\t\t\t}\n\n\t\t\t\tfeature = queryElevationByPoint(\n\t\t\t\t\tfeature,\n\t\t\t\t\tthis.map,\n\t\t\t\t\tthis.computeElevation,\n\t\t\t\t\tthis.measureOptions.terrainSource\n\t\t\t\t);\n\n\t\t\t\t// add elevation label feature if computeElevation is only enabled.\n\t\t\t\tif (this.computeElevation === true) {\n\t\t\t\t\tif (\n\t\t\t\t\t\ttypeof geojsonSource.data !== 'string' &&\n\t\t\t\t\t\tgeojsonSource.data.type === 'FeatureCollection'\n\t\t\t\t\t) {\n\t\t\t\t\t\tgeojsonSource.data.features.push(feature);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// update GeoJSON source with new data\n\t\t\t\t(\n\t\t\t\t\tthis.map.getSource(\n\t\t\t\t\t\t(this.measureOptions.pointLayerLabelSpec as SymbolLayerSpecification).source\n\t\t\t\t\t) as GeoJSONSource\n\t\t\t\t)?.setData(geojsonSource.data);\n\n\t\t\t\tif (\n\t\t\t\t\tthis.map.getLayer((this.measureOptions.polygonLayerSpec as SymbolLayerSpecification).id)\n\t\t\t\t) {\n\t\t\t\t\tthis.map.moveLayer((this.measureOptions.polygonLayerSpec as SymbolLayerSpecification).id);\n\t\t\t\t}\n\t\t\t\tif (\n\t\t\t\t\tthis.map.getLayer((this.measureOptions.lineLayerLabelSpec as SymbolLayerSpecification).id)\n\t\t\t\t) {\n\t\t\t\t\tthis.map.moveLayer(\n\t\t\t\t\t\t(this.measureOptions.lineLayerLabelSpec as SymbolLayerSpecification).id\n\t\t\t\t\t);\n\t\t\t\t\tthis.map.moveLayer(\n\t\t\t\t\t\t(this.measureOptions.lineLayerNodeSpec as CircleLayerSpecification).id\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tthis.map.moveLayer(\n\t\t\t\t\t(this.measureOptions.pointLayerLabelSpec as SymbolLayerSpecification).id\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Event definition when feature is deleted by terradraw\n\t */\n\tprivate onFeatureDeleted(args: unknown) {\n\t\tif (!this.map) return;\n\t\tconst drawInstance = this.getTerraDrawInstance();\n\t\tif (drawInstance) {\n\t\t\tlet deletedIds: string[] = [];\n\t\t\tif (typeof args === 'object' && args !== null && 'deletedIds' in args) {\n\t\t\t\tdeletedIds = (args as { deletedIds: string[] }).deletedIds;\n\t\t\t}\n\n\t\t\tconst sources = [\n\t\t\t\tthis.measureOptions.pointLayerLabelSpec as SymbolLayerSpecification,\n\t\t\t\tthis.measureOptions.lineLayerLabelSpec as SymbolLayerSpecification,\n\t\t\t\tthis.measureOptions.lineLayerNodeSpec as CircleLayerSpecification,\n\t\t\t\tthis.measureOptions.polygonLayerSpec as SymbolLayerSpecification\n\t\t\t];\n\t\t\tconst sourceIds = sources.map((src) => src.source);\n\t\t\tif (deletedIds && deletedIds.length > 0) {\n\t\t\t\t// delete only features by IDs\n\t\t\t\tthis.clearMeasureFeatures(sourceIds, deletedIds);\n\t\t\t} else {\n\t\t\t\t// delete all features\n\t\t\t\tthis.clearMeasureFeatures(sourceIds, undefined);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * get GeoJSON features\n\t * @param onlySelected If true, returns only selected features. Default is false.\n\t * @returns FeatureCollection in GeoJSON format\n\t */\n\tpublic getFeatures(onlySelected = false) {\n\t\tconst fc = super.getFeatures(onlySelected);\n\t\tif (!fc) return fc;\n\t\tif (!this.terradraw) return fc;\n\n\t\tfor (let i = 0; i < fc.features.length; i++) {\n\t\t\tconst feature = fc.features[i];\n\t\t\tif (!this.map) continue;\n\t\t\tif (!this.map.loaded()) continue;\n\t\t\tconst geomType = feature.geometry.type;\n\t\t\tif (geomType === 'LineString') {\n\t\t\t\tfc.features[i] = calcDistance(\n\t\t\t\t\tfeature,\n\t\t\t\t\tthis.distanceUnit,\n\t\t\t\t\tthis.distancePrecision,\n\t\t\t\t\tthis.map,\n\t\t\t\t\tthis.computeElevation,\n\t\t\t\t\tthis.measureOptions.terrainSource\n\t\t\t\t);\n\t\t\t} else if (geomType === 'Polygon') {\n\t\t\t\tfc.features[i] = calcArea(feature, this.areaUnit, this.areaPrecision);\n\t\t\t} else if (geomType === 'Point') {\n\t\t\t\tfc.features[i] = queryElevationByPoint(\n\t\t\t\t\tfeature,\n\t\t\t\t\tthis.map,\n\t\t\t\t\tthis.computeElevation,\n\t\t\t\t\tthis.measureOptions.terrainSource\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t\treturn fc;\n\t}\n}\n"],"names":["t","e","i","o","s","n","r","a","d","h","l","u","p","y$1","g","m","f","C","v","P","I","x","S","M","F","E","D","w","b","c","k","O","j","_","W","B","N","G","L","V","T","U","A","R","K","X","z","Y","H","q","$","Z","J","Q","tt","et","it","ot","st","nt","rt","at","y","dt","ht","lt","ct","ut","pt","gt","yt","mt","ft","Ct","vt","Pt","It","xt","St","Mt","Ft","Et","Dt","wt","bt","kt","Ot","_t","jt","Wt","Bt","Nt","Gt","Lt","Vt","Tt","Ut","At","Rt","Kt","Xt","zt","Yt","Ht","qt","$t","Zt","Jt","Qt","te","ee","ie","oe","se","ne","re","ye","ae","de","he","le","ce","ue","pe","ge","me","fe","Ce","ve","Pe","we","be","ke","Oe","_e","je","We","Be","Ne","Ge","Le","Ve","Te","Ue","Ae","Re","Xe","AvailableModes","defaultControlOptions","defaultMeasureControlOptions","TerraDrawPointMode","TerraDrawLineStringMode","TerraDrawPolygonMode","TerraDrawRectangleMode","TerraDrawAngledRectangleMode","TerraDrawCircleMode","TerraDrawFreehandMode","TerraDrawSensorMode","TerraDrawSectorMode","TerraDrawSelectMode","getDefaultModeOptions","TerraDrawRenderMode","feature","updateType","ValidateNotSelfIntersecting","earthRadius","factors","geom","properties","options","feat","point","coordinates","isNumber","radiansToLength","radians","units","factor","degreesToRadians","degrees","num","coordEach","geojson","callback","excludeWrapCoord","geometry","stopG","coords","geometryMaybeCollection","wrapShrink","coordIndex","isGeometryCollection","type","isFeatureCollection","isFeature","stop","featureIndex","geomIndex","multiFeatureIndex","geometryIndex","geomType","geomEach","featureProperties","featureBBox","featureId","geomReduce","initialValue","previousValue","currentGeometry","area","value","calculateArea","total","polygonArea","ringArea","FACTOR","PI_OVER_180","coordsLength","lower","middle","upper","lowerX","middleY","upperX","turf_area_default","convertAreaUnit","unit","outputArea","outputUnit","calcArea","areaUnit","areaPrecision","result","converted","getCoord","coord","distance","from","to","coordinates1","coordinates2","dLat","dLon","lat1","lat2","turf_distance_default","getDistanceUnitName","distanceUnit","convertMetricDistance","meters","calcDistance","distancePrecision","map","computeElevation","terrainSource","totalDistance","segments","start","end","segment","elevation_start","elevation_end","metricDistance","segmentDistance","segmentTotalDistance","capitalize","TERRADRAW_SOURCE_IDS","TERRADRAW_MEASURE_SOURCE_IDS","_a","_b","_c","cleanMaplibreStyle","style","sourceIds","cloned","key","debounce","delay","timeoutId","args","queryElevationByPoint","elevation","queryElevationFromRasterDEM","points","terrainDource","promises","resolve","url","encoding","tileSize","minzoom","maxzoom","tms","TerrainRGB","Terrarium","roundFeatureCoordinates","features","decimalPlaces","roundCoord","processGeometry","ring","polygon","MaplibreTerradrawControl","__publicField","controls","item","addButton","defaultOptions","modes","newOption","defaultOption","flags","_d","TerraDraw","TerraDrawMapLibreGLAdapter","ele","event","index","snapshot","currentFeature","mode","btn","selected","ids","id","isActive","onlySelected","fc","dataStr","download","targets","className","btns","enabled","hasFeatures","centroid","xSum","ySum","len","MaplibreMeasureControl","measureOptions","drawInstance","lineFeatures","pointFeatures","geojsonSource","updatedFeatures","isSame","geometryType","polygonSource","lineSource","pointSource","lineModes","polygonModes","src","sourceId","newGeoJsonSource","updatedExistingFeatures","featureMap","startNode","endNode","deletedIds"],"mappings":"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","x_google_ignoreList":[0,1,6,7,8,11,12,20,24]}